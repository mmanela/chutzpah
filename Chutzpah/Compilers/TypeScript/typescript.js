/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved. 
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0  
 
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE, 
MERCHANTABLITY OR NON-INFRINGEMENT. 
 
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var __extends,global,FormattingOptions,TypeScript;(function(n){n.DiagnosticCode={error_TS_0_1:"error TS{0}: {1}",warning_TS_0_1:"warning TS{0}: {1}",Unrecognized_escape_sequence:"Unrecognized escape sequence.",Unexpected_character_0:"Unexpected character {0}.",Missing_close_quote_character:"Missing close quote character.",Identifier_expected:"Identifier expected.",_0_keyword_expected:"'{0}' keyword expected.",_0_expected:"'{0}' expected.",Identifier_expected_0_is_a_keyword:"Identifier expected; '{0}' is a keyword.",Automatic_semicolon_insertion_not_allowed:"Automatic semicolon insertion not allowed.",Unexpected_token_0_expected:"Unexpected token; '{0}' expected.",Trailing_separator_not_allowed:"Trailing separator not allowed.",AsteriskSlash_expected:"'*/' expected.",public_or_private_modifier_must_precede_static:"'public' or 'private' modifier must precede 'static'.",Unexpected_token:"Unexpected token.",Catch_clause_parameter_cannot_have_a_type_annotation:"Catch clause parameter cannot have a type annotation.",Rest_parameter_must_be_last_in_list:"Rest parameter must be last in list.",Parameter_cannot_have_question_mark_and_initializer:"Parameter cannot have question mark and initializer.",Required_parameter_cannot_follow_optional_parameter:"Required parameter cannot follow optional parameter.",Index_signatures_cannot_have_rest_parameters:"Index signatures cannot have rest parameters.",Index_signature_parameter_cannot_have_accessibility_modifiers:"Index signature parameter cannot have accessibility modifiers.",Index_signature_parameter_cannot_have_a_question_mark:"Index signature parameter cannot have a question mark.",Index_signature_parameter_cannot_have_an_initializer:"Index signature parameter cannot have an initializer.",Index_signature_must_have_a_type_annotation:"Index signature must have a type annotation.",Index_signature_parameter_must_have_a_type_annotation:"Index signature parameter must have a type annotation.",Index_signature_parameter_type_must_be_string_or_number:"Index signature parameter type must be 'string' or 'number'.",extends_clause_already_seen:"'extends' clause already seen.",extends_clause_must_precede_implements_clause:"'extends' clause must precede 'implements' clause.",Classes_can_only_extend_a_single_class:"Classes can only extend a single class.",implements_clause_already_seen:"'implements' clause already seen.",Accessibility_modifier_already_seen:"Accessibility modifier already seen.",_0_modifier_must_precede_1_modifier:"'{0}' modifier must precede '{1}' modifier.",_0_modifier_already_seen:"'{0}' modifier already seen.",_0_modifier_cannot_appear_on_a_class_element:"'{0}' modifier cannot appear on a class element.",Interface_declaration_cannot_have_implements_clause:"Interface declaration cannot have 'implements' clause.",super_invocation_cannot_have_type_arguments:"'super' invocation cannot have type arguments.",Only_ambient_modules_can_use_quoted_names:"Only ambient modules can use quoted names.",Statements_are_not_allowed_in_ambient_contexts:"Statements are not allowed in ambient contexts.",Implementations_are_not_allowed_in_ambient_contexts:"Implementations are not allowed in ambient contexts.",declare_modifier_not_allowed_for_code_already_in_an_ambient_context:"'declare' modifier not allowed for code already in an ambient context.",Initializers_are_not_allowed_in_ambient_contexts:"Initializers are not allowed in ambient contexts.",Parameter_property_declarations_can_only_be_used_in_a_non_ambient_constructor_declaration:"Parameter property declarations can only be used in a non-ambient constructor declaration.",Function_implementation_expected:"Function implementation expected.",Constructor_implementation_expected:"Constructor implementation expected.",Function_overload_name_must_be_0:"Function overload name must be '{0}'.",_0_modifier_cannot_appear_on_a_module_element:"'{0}' modifier cannot appear on a module element.",declare_modifier_cannot_appear_on_an_interface_declaration:"'declare' modifier cannot appear on an interface declaration.",declare_modifier_required_for_top_level_element:"'declare' modifier required for top level element.",Rest_parameter_cannot_be_optional:"Rest parameter cannot be optional.",Rest_parameter_cannot_have_an_initializer:"Rest parameter cannot have an initializer.",set_accessor_must_have_one_and_only_one_parameter:"'set' accessor must have one and only one parameter.",set_accessor_parameter_cannot_be_optional:"'set' accessor parameter cannot be optional.",set_accessor_parameter_cannot_have_an_initializer:"'set' accessor parameter cannot have an initializer.",set_accessor_cannot_have_rest_parameter:"'set' accessor cannot have rest parameter.",get_accessor_cannot_have_parameters:"'get' accessor cannot have parameters.",Modifiers_cannot_appear_here:"Modifiers cannot appear here.",Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher:"Accessors are only available when targeting ECMAScript 5 and higher.",Class_name_cannot_be_0:"Class name cannot be '{0}'.",Interface_name_cannot_be_0:"Interface name cannot be '{0}'.",Enum_name_cannot_be_0:"Enum name cannot be '{0}'.",Module_name_cannot_be_0:"Module name cannot be '{0}'.",Enum_member_must_have_initializer:"Enum member must have initializer.",Export_assignment_cannot_be_used_in_internal_modules:"Export assignment cannot be used in internal modules.",Export_assignment_not_allowed_in_module_with_exported_element:"Export assignment not allowed in module with exported element.",Module_cannot_have_multiple_export_assignments:"Module cannot have multiple export assignments.",Ambient_enum_elements_can_only_have_integer_literal_initializers:"Ambient enum elements can only have integer literal initializers.",module_class_interface_enum_import_or_statement:"module, class, interface, enum, import or statement",constructor_function_accessor_or_variable:"constructor, function, accessor or variable",statement:"statement",case_or_default_clause:"case or default clause",identifier:"identifier",call_construct_index_property_or_function_signature:"call, construct, index, property or function signature",expression:"expression",type_name:"type name",property_or_accessor:"property or accessor",parameter:"parameter",type:"type",type_parameter:"type parameter",declare_modifier_not_allowed_on_import_declaration:"'declare' modifier not allowed on import declaration.",Function_overload_must_be_static:"Function overload must be static.",Function_overload_must_not_be_static:"Function overload must not be static.",Parameter_property_declarations_cannot_be_used_in_a_constructor_overload:"Parameter property declarations cannot be used in a constructor overload.",Invalid_reference_directive_syntax:"Invalid 'reference' directive syntax.",Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher:"Octal literals are not available when targeting ECMAScript 5 and higher.",Accessors_are_not_allowed_in_ambient_contexts:"Accessors are not allowed in ambient contexts.",_0_modifier_cannot_appear_on_a_constructor_declaration:"'{0}' modifier cannot appear on a constructor declaration.",_0_modifier_cannot_appear_on_a_parameter:"'{0}' modifier cannot appear on a parameter.",Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement:"Only a single variable declaration is allowed in a 'for...in' statement.",Type_parameters_cannot_appear_on_a_constructor_declaration:"Type parameters cannot appear on a constructor declaration.",Type_annotation_cannot_appear_on_a_constructor_declaration:"Type annotation cannot appear on a constructor declaration.",Duplicate_identifier_0:"Duplicate identifier '{0}'.",The_name_0_does_not_exist_in_the_current_scope:"The name '{0}' does not exist in the current scope.",The_name_0_does_not_refer_to_a_value:"The name '{0}' does not refer to a value.",super_can_only_be_used_inside_a_class_instance_method:"'super' can only be used inside a class instance method.",The_left_hand_side_of_an_assignment_expression_must_be_a_variable_property_or_indexer:"The left-hand side of an assignment expression must be a variable, property or indexer.",Value_of_type_0_is_not_callable_Did_you_mean_to_include_new:"Value of type '{0}' is not callable. Did you mean to include 'new'?",Value_of_type_0_is_not_callable:"Value of type '{0}' is not callable.",Value_of_type_0_is_not_newable:"Value of type '{0}' is not newable.",Value_of_type_0_is_not_indexable_by_type_1:"Value of type '{0}' is not indexable by type '{1}'.",Operator_0_cannot_be_applied_to_types_1_and_2:"Operator '{0}' cannot be applied to types '{1}' and '{2}'.",Operator_0_cannot_be_applied_to_types_1_and_2_3:"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}",Cannot_convert_0_to_1:"Cannot convert '{0}' to '{1}'.",Cannot_convert_0_to_1_NL_2:"Cannot convert '{0}' to '{1}':{NL}{2}",Expected_var_class_interface_or_module:"Expected var, class, interface, or module.",Operator_0_cannot_be_applied_to_type_1:"Operator '{0}' cannot be applied to type '{1}'.",Getter_0_already_declared:"Getter '{0}' already declared.",Setter_0_already_declared:"Setter '{0}' already declared.",Exported_class_0_extends_private_class_1:"Exported class '{0}' extends private class '{1}'.",Exported_class_0_implements_private_interface_1:"Exported class '{0}' implements private interface '{1}'.",Exported_interface_0_extends_private_interface_1:"Exported interface '{0}' extends private interface '{1}'.",Exported_class_0_extends_class_from_inaccessible_module_1:"Exported class '{0}' extends class from inaccessible module {1}.",Exported_class_0_implements_interface_from_inaccessible_module_1:"Exported class '{0}' implements interface from inaccessible module {1}.",Exported_interface_0_extends_interface_from_inaccessible_module_1:"Exported interface '{0}' extends interface from inaccessible module {1}.",Public_static_property_0_of_exported_class_has_or_is_using_private_type_1:"Public static property '{0}' of exported class has or is using private type '{1}'.",Public_property_0_of_exported_class_has_or_is_using_private_type_1:"Public property '{0}' of exported class has or is using private type '{1}'.",Property_0_of_exported_interface_has_or_is_using_private_type_1:"Property '{0}' of exported interface has or is using private type '{1}'.",Exported_variable_0_has_or_is_using_private_type_1:"Exported variable '{0}' has or is using private type '{1}'.",Public_static_property_0_of_exported_class_is_using_inaccessible_module_1:"Public static property '{0}' of exported class is using inaccessible module {1}.",Public_property_0_of_exported_class_is_using_inaccessible_module_1:"Public property '{0}' of exported class is using inaccessible module {1}.",Property_0_of_exported_interface_is_using_inaccessible_module_1:"Property '{0}' of exported interface is using inaccessible module {1}.",Exported_variable_0_is_using_inaccessible_module_1:"Exported variable '{0}' is using inaccessible module {1}.",Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.",Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.",Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.",Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.",Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.",Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.",Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:"Parameter '{0}' of public method from exported class has or is using private type '{1}'.",Parameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:"Parameter '{0}' of method from exported interface has or is using private type '{1}'.",Parameter_0_of_exported_function_has_or_is_using_private_type_1:"Parameter '{0}' of exported function has or is using private type '{1}'.",Parameter_0_of_constructor_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.",Parameter_0_of_public_static_property_setter_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.",Parameter_0_of_public_property_setter_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.",Parameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.",Parameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}",Parameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.",Parameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:"Parameter '{0}' of public method from exported class is using inaccessible module {1}.",Parameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:"Parameter '{0}' of method from exported interface is using inaccessible module {1}.",Parameter_0_of_exported_function_is_using_inaccessible_module_1:"Parameter '{0}' of exported function is using inaccessible module {1}.",Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type_0:"Return type of public static property getter from exported class has or is using private type '{0}'.",Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type_0:"Return type of public property getter from exported class has or is using private type '{0}'.",Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of constructor signature from exported interface has or is using private type '{0}'.",Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of call signature from exported interface has or is using private type '{0}'.",Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type_0:"Return type of index signature from exported interface has or is using private type '{0}'.",Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type_0:"Return type of public static method from exported class has or is using private type '{0}'.",Return_type_of_public_method_from_exported_class_has_or_is_using_private_type_0:"Return type of public method from exported class has or is using private type '{0}'.",Return_type_of_method_from_exported_interface_has_or_is_using_private_type_0:"Return type of method from exported interface has or is using private type '{0}'.",Return_type_of_exported_function_has_or_is_using_private_type_0:"Return type of exported function has or is using private type '{0}'.",Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module_0:"Return type of public static property getter from exported class is using inaccessible module {0}.",Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module_0:"Return type of public property getter from exported class is using inaccessible module {0}.",Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of constructor signature from exported interface is using inaccessible module {0}.",Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of call signature from exported interface is using inaccessible module {0}.",Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module_0:"Return type of index signature from exported interface is using inaccessible module {0}.",Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module_0:"Return type of public static method from exported class is using inaccessible module {0}.",Return_type_of_public_method_from_exported_class_is_using_inaccessible_module_0:"Return type of public method from exported class is using inaccessible module {0}.",Return_type_of_method_from_exported_interface_is_using_inaccessible_module_0:"Return type of method from exported interface is using inaccessible module {0}.",Return_type_of_exported_function_is_using_inaccessible_module_0:"Return type of exported function is using inaccessible module {0}.",new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead:"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.",A_parameter_list_must_follow_a_generic_type_argument_list_expected:"A parameter list must follow a generic type argument list. '(' expected.",Multiple_constructor_implementations_are_not_allowed:"Multiple constructor implementations are not allowed.",Unable_to_resolve_external_module_0:"Unable to resolve external module '{0}'.",Module_cannot_be_aliased_to_a_non_module_type:"Module cannot be aliased to a non-module type.",A_class_may_only_extend_another_class:"A class may only extend another class.",A_class_may_only_implement_another_class_or_interface:"A class may only implement another class or interface.",An_interface_may_only_extend_another_class_or_interface:"An interface may only extend another class or interface.",Unable_to_resolve_type:"Unable to resolve type.",Unable_to_resolve_type_of_0:"Unable to resolve type of '{0}'.",Unable_to_resolve_type_parameter_constraint:"Unable to resolve type parameter constraint.",Type_parameter_constraint_cannot_be_a_primitive_type:"Type parameter constraint cannot be a primitive type.",Supplied_parameters_do_not_match_any_signature_of_call_target:"Supplied parameters do not match any signature of call target.",Supplied_parameters_do_not_match_any_signature_of_call_target_NL_0:"Supplied parameters do not match any signature of call target:{NL}{0}",Invalid_new_expression:"Invalid 'new' expression.",Call_signatures_used_in_a_new_expression_must_have_a_void_return_type:"Call signatures used in a 'new' expression must have a 'void' return type.",Could_not_select_overload_for_new_expression:"Could not select overload for 'new' expression.",Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2:"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.",Could_not_select_overload_for_call_expression:"Could not select overload for 'call' expression.",Cannot_invoke_an_expression_whose_type_lacks_a_call_signature:"Cannot invoke an expression whose type lacks a call signature.",Calls_to_super_are_only_valid_inside_a_class:"Calls to 'super' are only valid inside a class.",Generic_type_0_requires_1_type_argument_s:"Generic type '{0}' requires {1} type argument(s).",Type_of_array_literal_cannot_be_determined_Best_common_type_could_not_be_found_for_array_elements:"Type of array literal cannot be determined. Best common type could not be found for array elements.",Could_not_find_enclosing_symbol_for_dotted_name_0:"Could not find enclosing symbol for dotted name '{0}'.",The_property_0_does_not_exist_on_value_of_type_1:"The property '{0}' does not exist on value of type '{1}'.",Could_not_find_symbol_0:"Could not find symbol '{0}'.",get_and_set_accessor_must_have_the_same_type:"'get' and 'set' accessor must have the same type.",this_cannot_be_referenced_in_current_location:"'this' cannot be referenced in current location.",Static_members_cannot_reference_class_type_parameters:"Static members cannot reference class type parameters.",Class_0_is_recursively_referenced_as_a_base_type_of_itself:"Class '{0}' is recursively referenced as a base type of itself.",Interface_0_is_recursively_referenced_as_a_base_type_of_itself:"Interface '{0}' is recursively referenced as a base type of itself.",super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class:"'super' property access is permitted only in a constructor, member function, or member accessor of a derived class.",super_cannot_be_referenced_in_non_derived_classes:"'super' cannot be referenced in non-derived classes.",A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties:"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.",Constructors_for_derived_classes_must_contain_a_super_call:"Constructors for derived classes must contain a 'super' call.",Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors:"Super calls are not permitted outside constructors or in nested functions inside constructors.",_0_1_is_inaccessible:"'{0}.{1}' is inaccessible.",this_cannot_be_referenced_within_module_bodies:"'this' cannot be referenced within module bodies.",Invalid_expression_types_not_known_to_support_the_addition_operator:"Invalid '+' expression - types not known to support the addition operator.",The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type:"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.",The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type_any_number_or_an_enum_type:"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.",Variable_declarations_of_a_for_statement_cannot_use_a_type_annotation:"Variable declarations of a 'for' statement cannot use a type annotation.",Variable_declarations_of_a_for_statement_must_be_of_types_string_or_any:"Variable declarations of a 'for' statement must be of types 'string' or 'any'.",The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter:"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter.",The_left_hand_side_of_an_in_expression_must_be_of_types_any_string_or_number:"The left-hand side of an 'in' expression must be of types 'any', 'string' or 'number'.",The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.",The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter:"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.",The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type:"The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type.",Setters_cannot_return_a_value:"Setters cannot return a value.",Tried_to_query_type_of_uninitialized_module_0:"Tried to query type of uninitialized module '{0}'.",Tried_to_set_variable_type_to_uninitialized_module_type_0:"Tried to set variable type to uninitialized module type '{0}'.",Type_0_does_not_have_type_parameters:"Type '{0}' does not have type parameters.",Getters_must_return_a_value:"Getters must return a value.",Getter_and_setter_accessors_do_not_agree_in_visibility:"Getter and setter accessors do not agree in visibility.",Invalid_left_hand_side_of_assignment_expression:"Invalid left-hand side of assignment expression.",Function_declared_a_non_void_return_type_but_has_no_return_expression:"Function declared a non-void return type, but has no return expression.",Cannot_resolve_return_type_reference:"Cannot resolve return type reference.",Constructors_cannot_have_a_return_type_of_void:"Constructors cannot have a return type of 'void'.",Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2:"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'.",All_symbols_within_a_with_block_will_be_resolved_to_any:"All symbols within a with block will be resolved to 'any'.",Import_declarations_in_an_internal_module_cannot_reference_an_external_module:"Import declarations in an internal module cannot reference an external module.",Class_0_declares_interface_1_but_does_not_implement_it_NL_2:"Class {0} declares interface {1} but does not implement it:{NL}{2}",Class_0_declares_class_1_as_an_interface_but_does_not_implement_it_NL_2:"Class {0} declares class {1} as an interface but does not implement it:{NL}{2}",The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer:"The operand of an increment or decrement operator must be a variable, property or indexer.",this_cannot_be_referenced_in_static_initializers_in_a_class_body:"'this' cannot be referenced in static initializers in a class body.",Class_0_cannot_extend_class_1_NL_2:"Class '{0}' cannot extend class '{1}':{NL}{2}",Interface_0_cannot_extend_class_1_NL_2:"Interface '{0}' cannot extend class '{1}':{NL}{2}",Interface_0_cannot_extend_interface_1_NL_2:"Interface '{0}' cannot extend interface '{1}':{NL}{2}",Duplicate_overload_signature_for_0:"Duplicate overload signature for '{0}'.",Duplicate_constructor_overload_signature:"Duplicate constructor overload signature.",Duplicate_overload_call_signature:"Duplicate overload call signature.",Duplicate_overload_construct_signature:"Duplicate overload construct signature.",Overload_signature_is_not_compatible_with_function_definition:"Overload signature is not compatible with function definition.",Overload_signature_is_not_compatible_with_function_definition_NL_0:"Overload signature is not compatible with function definition:{NL}{0}",Overload_signatures_must_all_be_public_or_private:"Overload signatures must all be public or private.",Overload_signatures_must_all_be_exported_or_not_exported:"Overload signatures must all be exported or not exported.",Overload_signatures_must_all_be_ambient_or_non_ambient:"Overload signatures must all be ambient or non-ambient.",Overload_signatures_must_all_be_optional_or_required:"Overload signatures must all be optional or required.",Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature:"Specialized overload signature is not assignable to any non-specialized signature.",this_cannot_be_referenced_in_constructor_arguments:"'this' cannot be referenced in constructor arguments.",Instance_member_cannot_be_accessed_off_a_class:"Instance member cannot be accessed off a class.",Untyped_function_calls_may_not_accept_type_arguments:"Untyped function calls may not accept type arguments.",Non_generic_functions_may_not_accept_type_arguments:"Non-generic functions may not accept type arguments.",A_generic_type_may_not_reference_itself_with_a_wrapped_form_of_its_own_type_parameters:"A generic type may not reference itself with a wrapped form of its own type parameters.",Rest_parameters_must_be_array_types:"Rest parameters must be array types.",Overload_signature_implementation_cannot_use_specialized_type:"Overload signature implementation cannot use specialized type.",Export_assignments_may_only_be_used_at_the_top_level_of_external_modules:"Export assignments may only be used at the top-level of external modules.",Export_assignments_may_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules:"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules.",Only_public_methods_of_the_base_class_are_accessible_via_the_super_keyword:"Only public methods of the base class are accessible via the 'super' keyword.",Numeric_indexer_type_0_must_be_assignable_to_string_indexer_type_1:"Numeric indexer type '{0}' must be assignable to string indexer type '{1}'.",Numeric_indexer_type_0_must_be_assignable_to_string_indexer_type_1_NL_2:"Numeric indexer type '{0}' must be assignable to string indexer type '{1}':{NL}{2}",All_numerically_named_properties_must_be_assignable_to_numeric_indexer_type_0:"All numerically named properties must be assignable to numeric indexer type '{0}'.",All_numerically_named_properties_must_be_assignable_to_numeric_indexer_type_0_NL_1:"All numerically named properties must be assignable to numeric indexer type '{0}':{NL}{1}",All_named_properties_must_be_assignable_to_string_indexer_type_0:"All named properties must be assignable to string indexer type '{0}'.",All_named_properties_must_be_assignable_to_string_indexer_type_0_NL_1:"All named properties must be assignable to string indexer type '{0}':{NL}{1}",Generic_type_references_must_include_all_type_arguments:"Generic type references must include all type arguments.",Default_arguments_are_only_allowed_in_implementation:"Default arguments are only allowed in implementation.",Overloads_cannot_differ_only_by_return_type:"Overloads cannot differ only by return type.",Function_expression_declared_a_non_void_return_type_but_has_no_return_expression:"Function expression declared a non-void return type, but has no return expression.",Import_declaration_referencing_identifier_from_internal_module_can_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules:"Import declaration referencing identifier from internal module can only be made with variables, functions, classes, interfaces, enums and internal modules.",Could_not_find_symbol_0_in_module_1:"Could not find symbol '{0}' in module '{1}'.",Unable_to_resolve_module_reference_0:"Unable to resolve module reference '{0}'.",Could_not_find_module_0_in_module_1:"Could not find module '{0}' in module '{1}'.",Exported_import_declaration_0_is_assigned_value_with_type_that_has_or_is_using_private_type_1:"Exported import declaration '{0}' is assigned value with type that has or is using private type '{1}'.",Exported_import_declaration_0_is_assigned_value_with_type_that_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned value with type that is using inaccessible module '{1}'.",Exported_import_declaration_0_is_assigned_type_that_has_or_is_using_private_type_1:"Exported import declaration '{0}' is assigned type that has or is using private type '{1}'.",Exported_import_declaration_0_is_assigned_type_that_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned type that is using inaccessible module '{1}'.",Exported_import_declaration_0_is_assigned_container_that_is_or_is_using_inaccessible_module_1:"Exported import declaration '{0}' is assigned container that is or is using inaccessible module '{1}'.",Type_name_0_in_extends_clause_does_not_reference_constructor_function_for_1:"Type name '{0}' in extends clause does not reference constructor function for '{1}'.",Internal_module_reference_0_in_import_declaration_does_not_reference_module_instance_for_1:"Internal module reference '{0}' in import declaration does not reference module instance for '{1}'.",Module_0_cannot_merge_with_previous_declaration_of_1_in_a_different_file_2:"Module '{0}' cannot merge with previous declaration of '{1}' in a different file '{2}'.",Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3:"Interface '{0}' cannot simultaneously extend types '{1}' and '{2}':{NL}{3}",Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it:"Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it.",Ambient_external_module_declaration_cannot_be_reopened:"Ambient external module declaration cannot be reopened.",All_declarations_of_merged_declaration_0_must_be_exported_or_not_exported:"All declarations of merged declaration '{0}' must be exported or not exported.",super_cannot_be_referenced_in_constructor_arguments:"'super' cannot be referenced in constructor arguments.",Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class:"Return type of constructor signature must be assignable to the instance type of the class.",Ambient_external_module_declaration_must_be_defined_in_global_context:"Ambient external module declaration must be defined in global context.",Ambient_external_module_declaration_cannot_specify_relative_module_name:"Ambient external module declaration cannot specify relative module name.",Import_declaration_in_an_ambient_external_module_declaration_cannot_reference_external_module_through_relative_external_module_name:"Import declaration in an ambient external module declaration cannot reference external module through relative external module name.",Could_not_find_the_best_common_type_of_types_of_all_return_statement_expressions:"Could not find the best common type of types of all return statement expressions.",Import_declaration_cannot_refer_to_external_module_reference_when_noResolve_option_is_set:"Import declaration cannot refer to external module reference when --noResolve option is set.",Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:"Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference.",continue_statement_can_only_be_used_within_an_enclosing_iteration_statement:"'continue' statement can only be used within an enclosing iteration statement.",break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement:"'break' statement can only be used within an enclosing iteration or switch statement.",Jump_target_not_found:"Jump target not found.",Jump_target_cannot_cross_function_boundary:"Jump target cannot cross function boundary.",Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:"Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference.",Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference:"Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference.",Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference:"Expression resolves to '_super' that compiler uses to capture base class reference.",TypeParameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:"TypeParameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.",TypeParameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:"TypeParameter '{0}' of call signature from exported interface has or is using private type '{1}'.",TypeParameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:"TypeParameter '{0}' of public static method from exported class has or is using private type '{1}'.",TypeParameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:"TypeParameter '{0}' of public method from exported class has or is using private type '{1}'.",TypeParameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:"TypeParameter '{0}' of method from exported interface has or is using private type '{1}'.",TypeParameter_0_of_exported_function_has_or_is_using_private_type_1:"TypeParameter '{0}' of exported function has or is using private type '{1}'.",TypeParameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:"TypeParameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.",TypeParameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:"TypeParameter '{0}' of call signature from exported interface is using inaccessible module {1}",TypeParameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:"TypeParameter '{0}' of public static method from exported class is using inaccessible module {1}.",TypeParameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:"TypeParameter '{0}' of public method from exported class is using inaccessible module {1}.",TypeParameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:"TypeParameter '{0}' of method from exported interface is using inaccessible module {1}.",TypeParameter_0_of_exported_function_is_using_inaccessible_module_1:"TypeParameter '{0}' of exported function is using inaccessible module {1}.",TypeParameter_0_of_exported_class_has_or_is_using_private_type_1:"TypeParameter '{0}' of exported class has or is using private type '{1}'.",TypeParameter_0_of_exported_interface_has_or_is_using_private_type_1:"TypeParameter '{0}' of exported interface has or is using private type '{1}'.",TypeParameter_0_of_exported_class_is_using_inaccessible_module_1:"TypeParameter '{0}' of exported class is using inaccessible module {1}.",TypeParameter_0_of_exported_interface_is_using_inaccessible_module_1:"TypeParameter '{0}' of exported interface is using inaccessible module {1}.",Duplicate_identifier_i_Compiler_uses_i_to_initialize_rest_parameter:"Duplicate identifier '_i'. Compiler uses '_i' to initialize rest parameter.",Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters:"Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters.",Type_of_conditional_0_must_be_identical_to_1_or_2:"Type of conditional '{0}' must be identical to '{1}' or '{2}'.",Type_of_conditional_0_must_be_identical_to_1_2_or_3:"Type of conditional '{0}' must be identical to '{1}', '{2}' or '{3}'.",Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_an_external_module:"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of an external module.",Constraint_of_a_type_parameter_cannot_reference_any_type_parameter_from_the_same_type_parameter_list:"Constraint of a type parameter cannot reference any type parameter from the same type parameter list.",Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor:"Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor.",Parameter_0_cannot_be_referenced_in_its_initializer:"Parameter '{0}' cannot be referenced in its initializer.",Duplicate_string_index_signature:"Duplicate string index signature.",Duplicate_number_index_signature:"Duplicate number index signature.",All_declarations_of_an_interface_must_have_identical_type_parameters:"All declarations of an interface must have identical type parameters.",Expression_resolves_to_variable_declaration_i_that_compiler_uses_to_initialize_rest_parameter:"Expression resolves to variable declaration '_i' that compiler uses to initialize rest parameter.",Type_0_is_missing_property_1_from_type_2:"Type '{0}' is missing property '{1}' from type '{2}'.",Types_of_property_0_of_types_1_and_2_are_incompatible:"Types of property '{0}' of types '{1}' and '{2}' are incompatible.",Types_of_property_0_of_types_1_and_2_are_incompatible_NL_3:"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}",Property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2:"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.",Property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2:"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.",Types_0_and_1_define_property_2_as_private:"Types '{0}' and '{1}' define property '{2}' as private.",Call_signatures_of_types_0_and_1_are_incompatible:"Call signatures of types '{0}' and '{1}' are incompatible.",Call_signatures_of_types_0_and_1_are_incompatible_NL_2:"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Type_0_requires_a_call_signature_but_type_1_lacks_one:"Type '{0}' requires a call signature, but type '{1}' lacks one.",Construct_signatures_of_types_0_and_1_are_incompatible:"Construct signatures of types '{0}' and '{1}' are incompatible.",Construct_signatures_of_types_0_and_1_are_incompatible_NL_2:"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Type_0_requires_a_construct_signature_but_type_1_lacks_one:"Type '{0}' requires a construct signature, but type '{1}' lacks one.",Index_signatures_of_types_0_and_1_are_incompatible:"Index signatures of types '{0}' and '{1}' are incompatible.",Index_signatures_of_types_0_and_1_are_incompatible_NL_2:"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}",Call_signature_expects_0_or_fewer_parameters:"Call signature expects {0} or fewer parameters.",Could_not_apply_type_0_to_argument_1_which_is_of_type_2:"Could not apply type '{0}' to argument {1} which is of type '{2}'.",Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.",Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.",Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.",Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property:"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.",Types_of_static_property_0_of_class_1_and_class_2_are_incompatible:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.",Types_of_static_property_0_of_class_1_and_class_2_are_incompatible_NL_3:"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}",Type_reference_cannot_refer_to_container_0:"Type reference cannot refer to container '{0}'.",Type_reference_must_refer_to_type:"Type reference must refer to type.",In_enums_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_the_first_enum_element:"In enums with multiple declarations only one declaration can omit an initializer for the first enum element.",_0_overload_s:" (+ {0} overload(s))",Variable_declaration_cannot_have_the_same_name_as_an_import_declaration:"Variable declaration cannot have the same name as an import declaration.",Signature_expected_0_type_arguments_got_1_instead:"Signature expected {0} type arguments, got {1} instead.",Property_0_defined_as_optional_in_type_1_but_is_required_in_type_2:"Property '{0}' defined as optional in type '{1}', but is required in type '{2}'.",Types_0_and_1_originating_in_infinitely_expanding_type_reference_do_not_refer_to_same_named_type:"Types '{0}' and '{1}' originating in infinitely expanding type reference do not refer to same named type.",Types_0_and_1_originating_in_infinitely_expanding_type_reference_have_incompatible_type_arguments:"Types '{0}' and '{1}' originating in infinitely expanding type reference have incompatible type arguments.",Types_0_and_1_originating_in_infinitely_expanding_type_reference_have_incompatible_type_arguments_NL_2:"Types '{0}' and '{1}' originating in infinitely expanding type reference have incompatible type arguments:{NL}{2}",Named_properties_0_of_types_1_and_2_are_not_identical:"Named properties '{0}' of types '{1}' and '{2}' are not identical.",Types_of_string_indexer_of_types_0_and_1_are_not_identical:"Types of string indexer of types '{0}' and '{1}' are not identical.",Types_of_number_indexer_of_types_0_and_1_are_not_identical:"Types of number indexer of types '{0}' and '{1}' are not identical.",Type_of_number_indexer_in_type_0_is_not_assignable_to_string_indexer_type_in_type_1_NL_2:"Type of number indexer in type '{0}' is not assignable to string indexer type in type '{1}'.{NL}{2}",Type_of_property_0_in_type_1_is_not_assignable_to_string_indexer_type_in_type_2_NL_3:"Type of property '{0}' in type '{1}' is not assignable to string indexer type in type '{2}'.{NL}{3}",Type_of_property_0_in_type_1_is_not_assignable_to_number_indexer_type_in_type_2_NL_3:"Type of property '{0}' in type '{1}' is not assignable to number indexer type in type '{2}'.{NL}{3}",Static_property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2:"Static property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.",Static_property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2:"Static property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.",Types_0_and_1_define_static_property_2_as_private:"Types '{0}' and '{1}' define static property '{2}' as private.",Current_host_does_not_support_0_option:"Current host does not support '{0}' option.",ECMAScript_target_version_0_not_supported_Specify_a_valid_target_version_1_default_or_2:"ECMAScript target version '{0}' not supported.  Specify a valid target version: '{1}' (default), or '{2}'",Module_code_generation_0_not_supported:"Module code generation '{0}' not supported.",Could_not_find_file_0:"Could not find file: '{0}'.",A_file_cannot_have_a_reference_to_itself:"A file cannot have a reference to itself.",Cannot_resolve_referenced_file_0:"Cannot resolve referenced file: '{0}'.",Cannot_find_the_common_subdirectory_path_for_the_input_files:"Cannot find the common subdirectory path for the input files.",Emit_Error_0:"Emit Error: {0}.",Cannot_read_file_0_1:"Cannot read file '{0}': {1}",Unsupported_file_encoding:"Unsupported file encoding.",Locale_must_be_of_the_form_language_or_language_territory_For_example_0_or_1:"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'.",Unsupported_locale_0:"Unsupported locale: '{0}'.",Execution_Failed_NL:"Execution Failed.{NL}",Invalid_call_to_up:"Invalid call to 'up'",Invalid_call_to_down:"Invalid call to 'down'",Base64_value_0_finished_with_a_continuation_bit:"Base64 value '{0}' finished with a continuation bit.",Unknown_option_0:"Unknown option '{0}'",Expected_0_arguments_to_message_got_1_instead:"Expected {0} arguments to message, got {1} instead.",Expected_the_message_0_to_have_1_arguments_but_it_had_2:"Expected the message '{0}' to have {1} arguments, but it had {2}",Could_not_delete_file_0:"Could not delete file '{0}'",Could_not_create_directory_0:"Could not create directory '{0}'",Error_while_executing_file_0:"Error while executing file '{0}': ",Cannot_compile_external_modules_unless_the_module_flag_is_provided:"Cannot compile external modules unless the '--module' flag is provided.",Option_mapRoot_cannot_be_specified_without_specifying_sourcemap_option:"Option mapRoot cannot be specified without specifying sourcemap option.",Option_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option:"Option sourceRoot cannot be specified without specifying sourcemap option.",Options_mapRoot_and_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option:"Options mapRoot and sourceRoot cannot be specified without specifying sourcemap option.",Option_0_specified_without_1:"Option '{0}' specified without '{1}'",codepage_option_not_supported_on_current_platform:"'codepage' option not supported on current platform.",Concatenate_and_emit_output_to_single_file:"Concatenate and emit output to single file.",Generates_corresponding_0_file:"Generates corresponding {0} file.",Specifies_the_location_where_debugger_should_locate_map_files_instead_of_generated_locations:"Specifies the location where debugger should locate map files instead of generated locations.",Specifies_the_location_where_debugger_should_locate_TypeScript_files_instead_of_source_locations:"Specifies the location where debugger should locate TypeScript files instead of source locations.",Watch_input_files:"Watch input files.",Redirect_output_structure_to_the_directory:"Redirect output structure to the directory.",Do_not_emit_comments_to_output:"Do not emit comments to output.",Skip_resolution_and_preprocessing:"Skip resolution and preprocessing.",Specify_ECMAScript_target_version_0_default_or_1:"Specify ECMAScript target version: '{0}' (default), or '{1}'",Specify_module_code_generation_0_or_1:"Specify module code generation: '{0}' or '{1}'",Print_this_message:"Print this message.",Print_the_compiler_s_version_0:"Print the compiler's version: {0}",Allow_use_of_deprecated_0_keyword_when_referencing_an_external_module:"Allow use of deprecated '{0}' keyword when referencing an external module.",Specify_locale_for_errors_and_messages_For_example_0_or_1:"Specify locale for errors and messages. For example '{0}' or '{1}'",Syntax_0:"Syntax:   {0}",options:"options",file1:"file",Examples:"Examples:",Options:"Options:",Insert_command_line_options_and_files_from_a_file:"Insert command line options and files from a file.",Version_0:"Version {0}",Use_the_0_flag_to_see_options:"Use the '{0}' flag to see options.",NL_Recompiling_0:"{NL}Recompiling ({0}):",STRING:"STRING",KIND:"KIND",file2:"FILE",VERSION:"VERSION",LOCATION:"LOCATION",DIRECTORY:"DIRECTORY",NUMBER:"NUMBER",Specify_the_codepage_to_use_when_opening_source_files:"Specify the codepage to use when opening source files.",Additional_locations:"Additional locations:",This_version_of_the_Javascript_runtime_does_not_support_the_0_function:"This version of the Javascript runtime does not support the '{0}' function.",Unknown_rule:"Unknown rule.",Invalid_line_number_0:"Invalid line number ({0})",Warn_on_expressions_and_declarations_with_an_implied_any_type:"Warn on expressions and declarations with an implied 'any' type.",Variable_0_implicitly_has_an_any_type:"Variable '{0}' implicitly has an 'any' type.",Parameter_0_of_1_implicitly_has_an_any_type:"Parameter '{0}' of '{1}' implicitly has an 'any' type.",Parameter_0_of_function_type_implicitly_has_an_any_type:"Parameter '{0}' of function type implicitly has an 'any' type.",Member_0_of_object_type_implicitly_has_an_any_type:"Member '{0}' of object type implicitly has an 'any' type.",new_expression_which_lacks_a_constructor_signature_implicitly_has_an_any_type:"'new' expression, which lacks a constructor signature, implicitly has an 'any' type.",_0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"'{0}', which lacks return-type annotation, implicitly has an 'any' return type.",Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Function expression, which lacks return-type annotation, implicitly has an 'any' return type.",Parameter_0_of_lambda_function_implicitly_has_an_any_type:"Parameter '{0}' of lambda function implicitly has an 'any' type.",Constructor_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Constructor signature, which lacks return-type annotation, implicitly has an 'any' return type.",Lambda_Function_which_lacks_return_type_annotation_implicitly_has_an_any_return_type:"Lambda Function, which lacks return-type annotation, implicitly has an 'any' return type.",Array_Literal_implicitly_has_an_any_type_from_widening:"Array Literal implicitly has an 'any' type from widening.",_0_which_lacks_get_accessor_and_parameter_type_annotation_on_set_accessor_implicitly_has_an_any_type:"'{0}', which lacks 'get' accessor and parameter type annotation on 'set' accessor, implicitly has an 'any' type.",Index_signature_of_object_type_implicitly_has_an_any_type:"Index signature of object type implicitly has an 'any' type.",Object_literal_s_property_0_implicitly_has_an_any_type_from_widening:"Object literal's property '{0}' implicitly has an 'any' type from widening."}})(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.isArray=function(n){return Object.prototype.toString.apply(n,[])==="[object Array]"},t.sequenceEquals=function(n,t,i){if(n===t)return!0;if(n===null||t===null||n.length!==t.length)return!1;for(var r=0,u=n.length;r<u;r++)if(!i(n[r],t[r]))return!1;return!0},t.contains=function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return!0;return!1},t.groupBy=function(n,t){for(var i={},r=0,o=n.length;r<o;r++){var u=n[r],f=t(u),e=i[f]||[];e.push(u);i[f]=e}return i},t.distinct=function(n,t){for(var f,r,i=[],u=0,e=n.length;u<e;u++){for(f=n[u],r=0;r<i.length;r++)if(t(i[r],f))break;r===i.length&&i.push(f)}return i},t.min=function(n,t){for(var u,i=t(n[0]),r=1;r<n.length;r++)u=t(n[r]),u<i&&(i=u);return i},t.max=function(n,t){for(var u,i=t(n[0]),r=1;r<n.length;r++)u=t(n[r]),u>i&&(i=u);return i},t.last=function(t){if(t.length===0)throw n.Errors.argumentOutOfRange("array");return t[t.length-1]},t.lastOrDefault=function(n,t){for(var r,i=n.length-1;i>=0;i--)if(r=n[i],t(r,i))return r;return null},t.firstOrDefault=function(n,t){for(var r,i=0,u=n.length;i<u;i++)if(r=n[i],t(r,i))return r;return null},t.first=function(t,i){for(var u,r=0,f=t.length;r<f;r++)if(u=t[r],!i||i(u,r))return u;throw n.Errors.invalidOperation();},t.sum=function(n,t){for(var r=0,i=0,u=n.length;i<u;i++)r+=t(n[i]);return r},t.select=function(n,t){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=t(n[i]);return r},t.where=function(n,t){for(var r=[],i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r},t.any=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return!0;return!1},t.all=function(n,t){for(var i=0,r=n.length;i<r;i++)if(!t(n[i]))return!1;return!0},t.binarySearch=function(n,t){for(var i=0,u=n.length-1,r,f;i<=u;){if(r=i+(u-i>>1),f=n[r],f===t)return r;f>t?u=r-1:i=r+1}return~i},t.createArray=function(n,t){for(var r=new Array(n),i=0;i<n;i++)r[i]=t;return r},t.grow=function(n,t,i){for(var u=t-n.length,r=0;r<u;r++)n.push(i)},t.copy=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n[t+f]},t.indexOf=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t(n[i]))return i;return-1},t}();n.ArrayUtilities=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){if(i.length===0)return new u(n);var t=i.pop();return t.isReleased=!1,t.allowUndefinedValues=n,t}var i=[],r,u;(function(n){n[n.MaxBitsPerEncodedNumber=30]="MaxBitsPerEncodedNumber";n[n.BitsPerEncodedBiStateValue=1]="BitsPerEncodedBiStateValue";n[n.BitsPerEncodedTriStateValue=2]="BitsPerEncodedTriStateValue";n[n.BiStateEncodedTrue=1]="BiStateEncodedTrue";n[n.BiStateClearBitsMask=1]="BiStateClearBitsMask";n[n.TriStateEncodedFalse=1]="TriStateEncodedFalse";n[n.TriStateEncodedTrue=2]="TriStateEncodedTrue";n[n.TriStateClearBitsMask=3]="TriStateClearBitsMask"})(r||(r={}));u=function(){function t(n){this.allowUndefinedValues=n;this.isReleased=!1;this.bits=[]}return t.prototype.computeTriStateArrayIndex=function(n){return n/15>>>0},t.prototype.computeBiStateArrayIndex=function(n){return n/30>>>0},t.prototype.computeTriStateEncodedValueIndex=function(n){return n%15*2},t.prototype.computeBiStateEncodedValueIndex=function(n){return n%30*1},t.prototype.valueAt=function(t){var u,i,r;return n.Debug.assert(!this.isReleased,"Should not use a released bitvector"),this.allowUndefinedValues?(u=this.computeTriStateArrayIndex(t),i=this.bits[u],i===undefined)?undefined:(r=this.computeTriStateEncodedValueIndex(t),i&2<<r?!0:i&1<<r?!1:undefined):(u=this.computeBiStateArrayIndex(t),i=this.bits[u],i===undefined)?!1:(r=this.computeBiStateEncodedValueIndex(t),i&1<<r?!0:!1)},t.prototype.setValueAt=function(t,i){var e,f,r,u;if(n.Debug.assert(!this.isReleased,"Should not use a released bitvector"),this.allowUndefinedValues){if(n.Debug.assert(i===!0||i===!1||i===undefined,"value must only be true, false or undefined."),f=this.computeTriStateArrayIndex(t),r=this.bits[f],r===undefined){if(i===undefined)return;r=0}u=this.computeTriStateEncodedValueIndex(t);e=~(3<<u);r=r&e;i===!0?r=r|2<<u:i===!1&&(r=r|1<<u);this.bits[f]=r}else{if(n.Debug.assert(i===!0||i===!1,"value must only be true or false."),f=this.computeBiStateArrayIndex(t),r=this.bits[f],r===undefined){if(i===!1)return;r=0}u=this.computeBiStateEncodedValueIndex(t);r=r&~(1<<u);i&&(r=r|1<<u);this.bits[f]=r}},t.prototype.release=function(){n.Debug.assert(!this.isReleased,"Should not use a released bitvector");this.isReleased=!0;this.bits.length=0;i.push(this)},t}();t.getBitVector=f})(n.BitVector||(n.BitVector={}));var t=n.BitVector}(TypeScript||(TypeScript={})),function(n){(function(t){function u(n){if(i.length===0)return new r(n);var t=i.pop();return t.isReleased=!1,t.allowUndefinedValues=n,t}var i=[],r=function(){function t(n){this.allowUndefinedValues=n;this.isReleased=!1;this.vectors=[]}return t.prototype.valueAt=function(t,i){n.Debug.assert(!this.isReleased,"Should not use a released bitvector");var r=this.vectors[t];return r?r.valueAt(i):this.allowUndefinedValues?undefined:!1},t.prototype.setValueAt=function(t,i,r){n.Debug.assert(!this.isReleased,"Should not use a released bitvector");var u=this.vectors[t];if(!u){if(r===undefined)return;u=n.BitVector.getBitVector(this.allowUndefinedValues);this.vectors[t]=u}u.setValueAt(i,r)},t.prototype.release=function(){var t,r;n.Debug.assert(!this.isReleased,"Should not use a released bitvector");this.isReleased=!0;for(t in this.vectors)this.vectors.hasOwnProperty(t)&&(r=this.vectors[t],r.release());this.vectors.length=0;i.push(this)},t}();t.getBitMatrix=u})(n.BitMatrix||(n.BitMatrix={}));var t=n.BitMatrix}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Max31BitInteger=1073741823]="Max31BitInteger";n[n.Min31BitInteger=-1073741824]="Min31BitInteger"})(n.Constants||(n.Constants={}));var t=n.Constants}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.Normal=1]="Normal";n[n.Aggressive=2]="Aggressive";n[n.VeryAggressive=3]="VeryAggressive"})(n.AssertionLevel||(n.AssertionLevel={}));var i=n.AssertionLevel,t=function(){function n(){}return n.shouldAssert=function(n){return this.currentAssertionLevel>=n},n.assert=function(n,t,i){if(typeof t=="undefined"&&(t=""),typeof i=="undefined"&&(i=null),!n){var r="";i&&(r="\r\nVerbose Debug Information:"+i());throw new Error("Debug Failure. False expression: "+t+r);}},n.fail=function(t){n.assert(!1,t)},n.currentAssertionLevel=0,n}();n.Debug=t}(TypeScript||(TypeScript={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){function e(){return n.Environment?n.Environment.newLine:"\r\n"}function u(n){for(var i=-1,u=/\{(\d+)\}/g,r,t;r=u.exec(n);)t=parseInt(r[1]),!isNaN(t)&&t>i&&(i=t);return i}function f(t){var i=n.diagnosticInformationMap[t];return n.Debug.assert(i),i}function t(i,r){var f,o,e,s;if(n.LocalizedDiagnosticMessages,f=n.LocalizedDiagnosticMessages?n.LocalizedDiagnosticMessages[i]:i,n.Debug.assert(f!==undefined&&f!==null),o=r?r.length:0,e=1+u(i),e!==o)throw new Error(t(n.DiagnosticCode.Expected_0_arguments_to_message_got_1_instead,[e,o]));if(s=1+u(f),s!==e)throw new Error(t(n.DiagnosticCode.Expected_the_message_0_to_have_1_arguments_but_it_had_2,[f,e,s]));return f=f.replace(/{(\d+)}/g,function(n,t){return typeof r[t]!="undefined"?r[t]:n}),f.replace(/{(NL)}/g,function(){return n.newLine()})}function o(i,r){var u=f(i),e=t(i,r);return u.category===1?t(n.DiagnosticCode.error_TS_0_1,[u.code,e]):u.category===0?t(n.DiagnosticCode.warning_TS_0_1,[u.code,e]):e}var i,r;n.LocalizedDiagnosticMessages=null;i=function(){function n(n,t,i,r){this._fileName=n;this._lineMap=t;this._start=i;this._length=r}return n.prototype.fileName=function(){return this._fileName},n.prototype.lineMap=function(){return this._lineMap},n.prototype.line=function(){return this._lineMap?this._lineMap.getLineNumberFromPosition(this.start()):0},n.prototype.character=function(){return this._lineMap?this._lineMap.getLineAndCharacterFromPosition(this.start()).character():0},n.prototype.start=function(){return this._start},n.prototype.length=function(){return this._length},n.equals=function(n,t){return n._fileName===t._fileName&&n._start===t._start&&n._length===t._length},n}();n.Location=i;r=function(t){function r(n,i,r,u,f,e,o){typeof e=="undefined"&&(e=null);typeof o=="undefined"&&(o=null);t.call(this,n,i,r,u);this._diagnosticKey=f;this._arguments=e&&e.length>0?e:null;this._additionalLocations=o&&o.length>0?o:null}return __extends(r,t),r.prototype.toJSON=function(){var n={},t;return n.start=this.start(),n.length=this.length(),n.diagnosticCode=this._diagnosticKey,t=this.arguments(),t&&t.length>0&&(n.arguments=t),n},r.prototype.diagnosticKey=function(){return this._diagnosticKey},r.prototype.arguments=function(){return this._arguments},r.prototype.text=function(){return n.getLocalizedText(this._diagnosticKey,this._arguments)},r.prototype.message=function(){return n.getDiagnosticMessage(this._diagnosticKey,this._arguments)},r.prototype.additionalLocations=function(){return this._additionalLocations||[]},r.equals=function(t,r){return i.equals(t,r)&&t._diagnosticKey===r._diagnosticKey&&n.ArrayUtilities.sequenceEquals(t._arguments,r._arguments,function(n,t){return n===t})},r.prototype.info=function(){return f(this.diagnosticKey())},r}(i);n.Diagnostic=r;n.newLine=e;n.getLocalizedText=t;n.getDiagnosticMessage=o}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.argument=function(n,t){return new Error("Invalid argument: "+n+". "+t)},n.argumentOutOfRange=function(n){return new Error("Argument out of range: "+n)},n.argumentNull=function(n){return new Error("Argument null: "+n)},n.abstract=function(){return new Error("Operation not implemented properly by subclass.")},n.notYetImplemented=function(){return new Error("Not yet implemented.")},n.invalidOperation=function(n){return new Error("Invalid operation: "+n)},n}();n.Errors=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.computeFnv1aCharArrayHashCode=function(i,r,u){for(var f=t.FNV_BASE,o=r+u,e=r;e<o;e++)f=n.IntegerUtilities.integerMultiplyLow32Bits(f^i[e],t.FNV_PRIME);return f},t.computeSimple31BitCharArrayHashCode=function(n,t,i){for(var f,r=0,u=0;u<i;u++)f=n[t+u],r=((r<<5)-r|0)+f|0;return r&2147483647},t.computeSimple31BitStringHashCode=function(n){for(var r,t=0,u=n.length,i=0;i<u;i++)r=n.charCodeAt(0+i),t=((t<<5)-t|0)+r|0;return t&2147483647},t.computeMurmur2StringHashCode=function(t,i){for(var f=1540483477,e=t.length,r=Math.abs(i^e),o=0;e>=2;){var s=t.charCodeAt(o),h=t.charCodeAt(o+1),u=Math.abs(s|h<<16);u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);u^=u>>24;u=n.IntegerUtilities.integerMultiplyLow32Bits(u,f);r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f);r^=u;o+=2;e-=2}return e===1&&(r^=t.charCodeAt(o),r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f)),r^=r>>13,r=n.IntegerUtilities.integerMultiplyLow32Bits(r,f),r^r>>15},t.getPrime=function(i){for(var u,r=0;r<t.primes.length;r++)if(u=t.primes[r],u>=i)return u;throw n.Errors.notYetImplemented();},t.expandPrime=function(n){var i=n<<1;return i>2146435069&&2146435069>n?2146435069:t.getPrime(i)},t.combine=function(n,t){return(t<<5)+t+n&2147483647},t.FNV_BASE=2166136261,t.FNV_PRIME=16777619,t.primes=[3,7,11,17,23,29,37,47,59,71,89,107,131,163,197,239,293,353,431,521,631,761,919,1103,1327,1597,1931,2333,2801,3371,4049,4861,5839,7013,8419,10103,12143,14591,17519,21023,25229,30293,36353,43627,52361,62851,75431,90523,108631,130363,156437,187751,225307,270371,324449,389357,467237,560689,672827,807403,968897,1162687,1395263,1674319,2009191,2411033,2893249,3471899,4166287,4999559,5999471,7199369],t}();n.Hash=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n,r){return typeof n=="undefined"&&(n=t.DefaultHashTableCapacity),typeof r=="undefined"&&(r=null),new i(n,r)}function e(n){return n.__hash===undefined&&(n.__hash=r,r++),n.__hash}var u,i,r;t.DefaultHashTableCapacity=1024;u=function(){function n(n,t,i,r){this.Key=n;this.Value=t;this.HashCode=i;this.Next=r}return n}();i=function(){function t(t,i){this.hash=i;this.count=0;var r=n.Hash.getPrime(t);this.entries=n.ArrayUtilities.createArray(r,null)}return t.prototype.set=function(n,t){this.addOrSet(n,t,!1)},t.prototype.add=function(n,t){this.addOrSet(n,t,!0)},t.prototype.containsKey=function(n){var t=this.computeHashCode(n),i=this.findEntry(n,t);return i!==null},t.prototype.get=function(n){var i=this.computeHashCode(n),t=this.findEntry(n,i);return t===null?null:t.Value},t.prototype.computeHashCode=function(t){var i=this.hash===null?t.hashCode:this.hash(t);return i=i&2147483647,n.Debug.assert(i>=0),i},t.prototype.addOrSet=function(t,i,r){var f=this.computeHashCode(t),u=this.findEntry(t,f);if(u!==null){if(r)throw n.Errors.argument("key","Key was already in table.");u.Key=t;u.Value=i;return}return this.addEntry(t,i,f)},t.prototype.findEntry=function(n,t){for(var i=this.entries[t%this.entries.length];i!==null;i=i.Next)if(i.HashCode===t&&n===i.Key)return i;return null},t.prototype.addEntry=function(n,t,i){var r=i%this.entries.length,f=new u(n,t,i,this.entries[r]);return this.entries[r]=f,this.count>=this.entries.length/2&&this.grow(),this.count++,f.Key},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t}();t.HashTable=i;t.createHashTable=f;r=1;t.identityHashCode=e})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){n.nodeMakeDirectoryTime=0;n.nodeCreateBufferTime=0;n.nodeWriteFileSyncTime=0,function(n){n[n.None=0]="None";n[n.Utf8=1]="Utf8";n[n.Utf16BigEndian=2]="Utf16BigEndian";n[n.Utf16LittleEndian=3]="Utf16LittleEndian"}(n.ByteOrderMark||(n.ByteOrderMark={}));var i=n.ByteOrderMark,t=function(){function n(n,t){this.contents=n;this.byteOrderMark=t}return n}();n.FileInformation=t;n.Environment=function(){function i(){function f(){return u.length>0?u.pop():new ActiveXObject("ADODB.Stream")}function o(n){u.push(n)}var i,u,e,r;try{i=new ActiveXObject("Scripting.FileSystemObject")}catch(s){return null}for(u=[],e=[],r=0;r<WScript.Arguments.length;r++)e[r]=WScript.Arguments.Item(r);return{newLine:"\r\n",currentDirectory:function(){return WScript.CreateObject("WScript.Shell").CurrentDirectory},supportsCodePage:function(){return WScript.ReadFile},readFile:function(i,r){var u,e,s,h,c;try{if(r!==null&&this.supportsCodePage())try{return h=WScript.ReadFile(i,r),new t(h,0)}catch(a){}return u=f(),u.Open(),u.Type=2,u.Charset="x-ansi",u.LoadFromFile(i),e=u.ReadText(2),u.Position=0,s=0,e.charCodeAt(0)===254&&e.charCodeAt(1)===255?(u.Charset="unicode",s=2):e.charCodeAt(0)===255&&e.charCodeAt(1)===254?(u.Charset="unicode",s=3):e.charCodeAt(0)===239&&e.charCodeAt(1)===187?(u.Charset="utf-8",s=1):u.Charset="utf-8",h=u.ReadText(-1),u.Close(),o(u),new t(h,s)}catch(l){c=l.number===-2147024809?n.getDiagnosticMessage(n.DiagnosticCode.Unsupported_file_encoding,null):n.getDiagnosticMessage(n.DiagnosticCode.Cannot_read_file_0_1,[i,l.message]);throw new Error(c);}},writeFile:function(n,t,i){var r=f(),u;r.Charset="utf-8";r.Open();r.WriteText(t,0);r.Position=i?0:3;u=f();u.Type=1;u.Open();r.CopyTo(u);u.Flush();u.SaveToFile(n,2);u.Close();r.Flush();r.Close()},fileExists:function(n){return i.FileExists(n)},deleteFile:function(n){i.FileExists(n)&&i.DeleteFile(n,!0)},directoryExists:function(n){return i.FolderExists(n)},listFiles:function(n,t,r){function u(n,i){var e=[],f;if(r.recursive)for(f=new Enumerator(n.subfolders);!f.atEnd();f.moveNext())e=e.concat(u(f.item(),i+"\\"+f.item().Name));for(f=new Enumerator(n.files);!f.atEnd();f.moveNext())(!t||f.item().Name.match(t))&&e.push(i+"\\"+f.item().Name);return e}r=r||{};var f=i.GetFolder(n);return u(f,n)},arguments:e,standardOut:WScript.StdOut}}function r(){var i=require("fs"),r=require("path"),f=require("module"),u=require("os");return{newLine:u.EOL,currentDirectory:function(){return process.cwd()},supportsCodePage:function(){return!1},readFile:function(r,u){var f,e,o;if(u!==null)throw new Error(n.getDiagnosticMessage(n.DiagnosticCode.codepage_option_not_supported_on_current_platform,null));f=i.readFileSync(r);switch(f[0]){case 254:if(f[1]===255){for(e=0;e+1<f.length;)o=f[e],f[e]=f[e+1],f[e+1]=o,e+=2;return new t(f.toString("ucs2",2),2)}break;case 255:if(f[1]===254)return new t(f.toString("ucs2",2),3);break;case 239:if(f[1]===187)return new t(f.toString("utf8",3),1)}return new t(f.toString("utf8",0),0)},writeFile:function(t,u,f){function s(n){var t=i.statSync(n);if(t.isFile())throw'"'+n+"\" exists but isn't a directory.";else{if(t.isDirectory())return;s(r.dirname(n));i.mkdirSync(n,509)}}var h=(new Date).getTime(),e,a,o;s(r.dirname(t));n.nodeMakeDirectoryTime+=(new Date).getTime()-h;f&&(u=""+u);var h=(new Date).getTime(),c=4096,l=i.openSync(t,"w");try{for(e=0;e<u.length;e+=c)a=(new Date).getTime(),o=new Buffer(u.substr(e,c),"utf8"),n.nodeCreateBufferTime+=(new Date).getTime()-a,i.writeSync(l,o,0,o.length,null)}finally{i.closeSync(l)}n.nodeWriteFileSyncTime+=(new Date).getTime()-h},fileExists:function(n){return i.existsSync(n)},deleteFile:function(n){try{i.unlinkSync(n)}catch(t){}},directoryExists:function(n){return i.existsSync(n)&&i.statSync(n).isDirectory()},listFiles:function(n,t,r){function u(n){for(var s,o=[],e=i.readdirSync(n),f=0;f<e.length;f++)s=i.statSync(n+"\\"+e[f]),r.recursive&&s.isDirectory()?o=o.concat(u(n+"\\"+e[f])):s.isFile()&&(!t||e[f].match(t))&&o.push(n+"\\"+e[f]);return o}return r=r||{},u(n)},arguments:process.argv.slice(2),standardOut:{Write:function(n){process.stdout.write(n)},WriteLine:function(n){process.stdout.write(n+"\n")},Close:function(){}}}}return typeof WScript!="undefined"&&typeof ActiveXObject=="function"?i():typeof module!="undefined"&&module.exports?r():null}()}(TypeScript||(TypeScript={})),function(n){(function(n){function t(n,t){return n/t>>0}function i(n,t){var i=n&65535,r=n>>>16,u=t&65535,f=t>>>16;return((n&4294901760)*t>>>0)+((n&65535)*t>>>0)>>>0}function r(n,t){var i=n&65535,u=n>>>16,f=t&65535,r=t>>>16;return u*r+((i*f>>>17)+i*r>>>15)}function u(n){return/^[0-9]+$/.test(n)}function f(n){return/^0(x|X)[0-9a-fA-F]+$/.test(n)}n.integerDivide=t;n.integerMultiplyLow32Bits=i;n.integerMultiplyHigh32Bits=r;n.isInteger=u;n.isHexInteger=f})(n.IntegerUtilities||(n.IntegerUtilities={}));var t=n.IntegerUtilities}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t){this._computeLineStarts=n;this.length=t;this._lineStarts=null}return t.prototype.toJSON=function(){return{lineStarts:this.lineStarts(),length:this.length}},t.prototype.equals=function(t){return this.length===t.length&&n.ArrayUtilities.sequenceEquals(this.lineStarts(),t.lineStarts(),function(n,t){return n===t})},t.prototype.lineStarts=function(){return this._lineStarts===null&&(this._lineStarts=this._computeLineStarts()),this._lineStarts},t.prototype.lineCount=function(){return this.lineStarts().length},t.prototype.getPosition=function(n,t){return this.lineStarts()[n]+t},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");if(t===this.length)return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this.lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLineStartPosition=function(n){return this.lineStarts()[n]},t.prototype.fillLineAndCharacterFromPosition=function(t,i){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var r=this.getLineNumberFromPosition(t);i.line=r;i.character=t-this.lineStarts()[r]},t.prototype.getLineAndCharacterFromPosition=function(t){if(t<0||t>this.length)throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this.lineStarts()[i])},t.empty=new t(function(){return[0]},0),t}();n.LineMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(this._line=0,this._character=0,t<0)throw n.Errors.argumentOutOfRange("line");if(i<0)throw n.Errors.argumentOutOfRange("character");this._line=t;this._character=i}return t.prototype.line=function(){return this._line},t.prototype.character=function(){return this._character},t}();n.LineAndCharacter=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.max=function(n,t){return n>=t?n:t},n.min=function(n,t){return n<=t?n:t},n}();n.MathPrototype=t}(TypeScript||(TypeScript={})),function(n){(function(t){t.DefaultStringTableCapacity=256;var r=function(){function n(n,t,i){this.Text=n;this.HashCode=t;this.Next=i}return n}(),i=function(){function t(t){this.count=0;var i=n.Hash.getPrime(t);this.entries=n.ArrayUtilities.createArray(i,null)}return t.prototype.addCharArray=function(t,i,r){var u=n.Hash.computeSimple31BitCharArrayHashCode(t,i,r)&2147483647,f=this.findCharArrayEntry(t,i,r,u),e;return f!==null?f.Text:(e=t.slice(i,i+r),this.addEntry(n.StringUtilities.fromCharCodeArray(e),u))},t.prototype.findCharArrayEntry=function(n,i,r,u){for(var f=this.entries[u%this.entries.length];f!==null;f=f.Next)if(f.HashCode===u&&t.textCharArrayEquals(f.Text,n,i,r))return f;return null},t.prototype.addEntry=function(n,t){var i=t%this.entries.length,u=new r(n,t,this.entries[i]);return this.entries[i]=u,this.count===this.entries.length&&this.grow(),this.count++,u.Text},t.prototype.grow=function(){var f=n.Hash.expandPrime(this.entries.length),e=this.entries,r=n.ArrayUtilities.createArray(f,null),i,t,u,o;for(this.entries=r,i=0;i<e.length;i++)for(t=e[i];t!==null;)u=t.HashCode%f,o=t.Next,t.Next=r[u],r[u]=t,t=o},t.textCharArrayEquals=function(n,t,i,r){var f,u;if(n.length!==r)return!1;for(f=i,u=0;u<r;u++){if(n.charCodeAt(u)!==t[f])return!1;f++}return!0},t}();t.StringTable=i;t.DefaultStringTable=new i(t.DefaultStringTableCapacity)})(n.Collections||(n.Collections={}));var t=n.Collections}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isString=function(n){return Object.prototype.toString.apply(n,[])==="[object String]"},n.fromCharCodeArray=function(n){return String.fromCharCode.apply(null,n)},n.endsWith=function(n,t){return n.substring(n.length-t.length,n.length)===t},n.startsWith=function(n,t){return n.substr(0,t.length)===t},n.copyTo=function(n,t,i,r,u){for(var f=0;f<u;f++)i[r+f]=n.charCodeAt(t+f)},n.repeat=function(n,t){return Array(t+1).join(n)},n.stringEquals=function(n,t){return n===t},n}();n.StringUtilities=t}(TypeScript||(TypeScript={}));global=Function("return this").call(null),function(n){var t,i;(function(n){n.now;n.resolution;typeof WScript!="undefined"&&typeof global.WScript.InitializeProjection!="undefined"?(global.WScript.InitializeProjection(),n.now=function(){return TestUtilities.QueryPerformanceCounter()},n.resolution=TestUtilities.QueryPerformanceFrequency()):(n.now=function(){return Date.now()},n.resolution=1e3)})(t||(t={}));i=function(){function n(){this.time=0}return n.prototype.start=function(){this.time=0;this.startTime=t.now()},n.prototype.end=function(){this.time=t.now()-this.startTime},n}();n.Timer=i}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.Warning=0]="Warning";n[n.Error=1]="Error";n[n.Message=2]="Message";n[n.NoPrefix=3]="NoPrefix"})(n.DiagnosticCategory||(n.DiagnosticCategory={}));var t=n.DiagnosticCategory}(TypeScript||(TypeScript={})),function(n){n.diagnosticInformationMap={"error TS{0}: {1}":{code:0,category:3},"warning TS{0}: {1}":{code:1,category:3},"Unrecognized escape sequence.":{code:1e3,category:1},"Unexpected character {0}.":{code:1001,category:1},"Missing close quote character.":{code:1002,category:1},"Identifier expected.":{code:1003,category:1},"'{0}' keyword expected.":{code:1004,category:1},"'{0}' expected.":{code:1005,category:1},"Identifier expected; '{0}' is a keyword.":{code:1006,category:1},"Automatic semicolon insertion not allowed.":{code:1007,category:1},"Unexpected token; '{0}' expected.":{code:1008,category:1},"Trailing separator not allowed.":{code:1009,category:1},"'*/' expected.":{code:1010,category:1},"'public' or 'private' modifier must precede 'static'.":{code:1011,category:1},"Unexpected token.":{code:1012,category:1},"Catch clause parameter cannot have a type annotation.":{code:1013,category:1},"Rest parameter must be last in list.":{code:1014,category:1},"Parameter cannot have question mark and initializer.":{code:1015,category:1},"Required parameter cannot follow optional parameter.":{code:1016,category:1},"Index signatures cannot have rest parameters.":{code:1017,category:1},"Index signature parameter cannot have accessibility modifiers.":{code:1018,category:1},"Index signature parameter cannot have a question mark.":{code:1019,category:1},"Index signature parameter cannot have an initializer.":{code:1020,category:1},"Index signature must have a type annotation.":{code:1021,category:1},"Index signature parameter must have a type annotation.":{code:1022,category:1},"Index signature parameter type must be 'string' or 'number'.":{code:1023,category:1},"'extends' clause already seen.":{code:1024,category:1},"'extends' clause must precede 'implements' clause.":{code:1025,category:1},"Classes can only extend a single class.":{code:1026,category:1},"'implements' clause already seen.":{code:1027,category:1},"Accessibility modifier already seen.":{code:1028,category:1},"'{0}' modifier must precede '{1}' modifier.":{code:1029,category:1},"'{0}' modifier already seen.":{code:1030,category:1},"'{0}' modifier cannot appear on a class element.":{code:1031,category:1},"Interface declaration cannot have 'implements' clause.":{code:1032,category:1},"'super' invocation cannot have type arguments.":{code:1034,category:1},"Only ambient modules can use quoted names.":{code:1035,category:1},"Statements are not allowed in ambient contexts.":{code:1036,category:1},"Implementations are not allowed in ambient contexts.":{code:1037,category:1},"'declare' modifier not allowed for code already in an ambient context.":{code:1038,category:1},"Initializers are not allowed in ambient contexts.":{code:1039,category:1},"Parameter property declarations can only be used in a non-ambient constructor declaration.":{code:1040,category:1},"Function implementation expected.":{code:1041,category:1},"Constructor implementation expected.":{code:1042,category:1},"Function overload name must be '{0}'.":{code:1043,category:1},"'{0}' modifier cannot appear on a module element.":{code:1044,category:1},"'declare' modifier cannot appear on an interface declaration.":{code:1045,category:1},"'declare' modifier required for top level element.":{code:1046,category:1},"Rest parameter cannot be optional.":{code:1047,category:1},"Rest parameter cannot have an initializer.":{code:1048,category:1},"'set' accessor must have one and only one parameter.":{code:1049,category:1},"'set' accessor parameter cannot be optional.":{code:1051,category:1},"'set' accessor parameter cannot have an initializer.":{code:1052,category:1},"'set' accessor cannot have rest parameter.":{code:1053,category:1},"'get' accessor cannot have parameters.":{code:1054,category:1},"Modifiers cannot appear here.":{code:1055,category:1},"Accessors are only available when targeting ECMAScript 5 and higher.":{code:1056,category:1},"Class name cannot be '{0}'.":{code:1057,category:1},"Interface name cannot be '{0}'.":{code:1058,category:1},"Enum name cannot be '{0}'.":{code:1059,category:1},"Module name cannot be '{0}'.":{code:1060,category:1},"Enum member must have initializer.":{code:1061,category:1},"Export assignment cannot be used in internal modules.":{code:1063,category:1},"Export assignment not allowed in module with exported element.":{code:1064,category:1},"Module cannot have multiple export assignments.":{code:1065,category:1},"Ambient enum elements can only have integer literal initializers.":{code:1066,category:1},"module, class, interface, enum, import or statement":{code:1067,category:3},"constructor, function, accessor or variable":{code:1068,category:3},statement:{code:1069,category:3},"case or default clause":{code:1070,category:3},identifier:{code:1071,category:3},"call, construct, index, property or function signature":{code:1072,category:3},expression:{code:1073,category:3},"type name":{code:1074,category:3},"property or accessor":{code:1075,category:3},parameter:{code:1076,category:3},type:{code:1077,category:3},"type parameter":{code:1078,category:3},"'declare' modifier not allowed on import declaration.":{code:1079,category:1},"Function overload must be static.":{code:1080,category:1},"Function overload must not be static.":{code:1081,category:1},"Parameter property declarations cannot be used in a constructor overload.":{code:1083,category:1},"Invalid 'reference' directive syntax.":{code:1084,category:1},"Octal literals are not available when targeting ECMAScript 5 and higher.":{code:1085,category:1},"Accessors are not allowed in ambient contexts.":{code:1086,category:1},"'{0}' modifier cannot appear on a constructor declaration.":{code:1089,category:1},"'{0}' modifier cannot appear on a parameter.":{code:1090,category:1},"Only a single variable declaration is allowed in a 'for...in' statement.":{code:1091,category:1},"Type parameters cannot appear on a constructor declaration.":{code:1091,category:1},"Type annotation cannot appear on a constructor declaration.":{code:1092,category:1},"Duplicate identifier '{0}'.":{code:2e3,category:1},"The name '{0}' does not exist in the current scope.":{code:2001,category:1},"The name '{0}' does not refer to a value.":{code:2002,category:1},"'super' can only be used inside a class instance method.":{code:2003,category:1},"The left-hand side of an assignment expression must be a variable, property or indexer.":{code:2004,category:1},"Value of type '{0}' is not callable. Did you mean to include 'new'?":{code:2161,category:1},"Value of type '{0}' is not callable.":{code:2006,category:1},"Value of type '{0}' is not newable.":{code:2007,category:1},"Value of type '{0}' is not indexable by type '{1}'.":{code:2008,category:1},"Operator '{0}' cannot be applied to types '{1}' and '{2}'.":{code:2009,category:1},"Operator '{0}' cannot be applied to types '{1}' and '{2}': {3}":{code:2010,category:1},"Cannot convert '{0}' to '{1}'.":{code:2011,category:1},"Cannot convert '{0}' to '{1}':{NL}{2}":{code:2012,category:1},"Expected var, class, interface, or module.":{code:2013,category:1},"Operator '{0}' cannot be applied to type '{1}'.":{code:2014,category:1},"Getter '{0}' already declared.":{code:2015,category:1},"Setter '{0}' already declared.":{code:2016,category:1},"Exported class '{0}' extends private class '{1}'.":{code:2018,category:1},"Exported class '{0}' implements private interface '{1}'.":{code:2019,category:1},"Exported interface '{0}' extends private interface '{1}'.":{code:2020,category:1},"Exported class '{0}' extends class from inaccessible module {1}.":{code:2021,category:1},"Exported class '{0}' implements interface from inaccessible module {1}.":{code:2022,category:1},"Exported interface '{0}' extends interface from inaccessible module {1}.":{code:2023,category:1},"Public static property '{0}' of exported class has or is using private type '{1}'.":{code:2024,category:1},"Public property '{0}' of exported class has or is using private type '{1}'.":{code:2025,category:1},"Property '{0}' of exported interface has or is using private type '{1}'.":{code:2026,category:1},"Exported variable '{0}' has or is using private type '{1}'.":{code:2027,category:1},"Public static property '{0}' of exported class is using inaccessible module {1}.":{code:2028,category:1},"Public property '{0}' of exported class is using inaccessible module {1}.":{code:2029,category:1},"Property '{0}' of exported interface is using inaccessible module {1}.":{code:2030,category:1},"Exported variable '{0}' is using inaccessible module {1}.":{code:2031,category:1},"Parameter '{0}' of constructor from exported class has or is using private type '{1}'.":{code:2032,category:1},"Parameter '{0}' of public static property setter from exported class has or is using private type '{1}'.":{code:2033,category:1},"Parameter '{0}' of public property setter from exported class has or is using private type '{1}'.":{code:2034,category:1},"Parameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.":{code:2035,category:1},"Parameter '{0}' of call signature from exported interface has or is using private type '{1}'.":{code:2036,category:1},"Parameter '{0}' of public static method from exported class has or is using private type '{1}'.":{code:2037,category:1},"Parameter '{0}' of public method from exported class has or is using private type '{1}'.":{code:2038,category:1},"Parameter '{0}' of method from exported interface has or is using private type '{1}'.":{code:2039,category:1},"Parameter '{0}' of exported function has or is using private type '{1}'.":{code:2040,category:1},"Parameter '{0}' of constructor from exported class is using inaccessible module {1}.":{code:2041,category:1},"Parameter '{0}' of public static property setter from exported class is using inaccessible module {1}.":{code:2042,category:1},"Parameter '{0}' of public property setter from exported class is using inaccessible module {1}.":{code:2043,category:1},"Parameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.":{code:2044,category:1},"Parameter '{0}' of call signature from exported interface is using inaccessible module {1}":{code:2045,category:1},"Parameter '{0}' of public static method from exported class is using inaccessible module {1}.":{code:2046,category:1},"Parameter '{0}' of public method from exported class is using inaccessible module {1}.":{code:2047,category:1},"Parameter '{0}' of method from exported interface is using inaccessible module {1}.":{code:2048,category:1},"Parameter '{0}' of exported function is using inaccessible module {1}.":{code:2049,category:1},"Return type of public static property getter from exported class has or is using private type '{0}'.":{code:2050,category:1},"Return type of public property getter from exported class has or is using private type '{0}'.":{code:2051,category:1},"Return type of constructor signature from exported interface has or is using private type '{0}'.":{code:2052,category:1},"Return type of call signature from exported interface has or is using private type '{0}'.":{code:2053,category:1},"Return type of index signature from exported interface has or is using private type '{0}'.":{code:2054,category:1},"Return type of public static method from exported class has or is using private type '{0}'.":{code:2055,category:1},"Return type of public method from exported class has or is using private type '{0}'.":{code:2056,category:1},"Return type of method from exported interface has or is using private type '{0}'.":{code:2057,category:1},"Return type of exported function has or is using private type '{0}'.":{code:2058,category:1},"Return type of public static property getter from exported class is using inaccessible module {0}.":{code:2059,category:1},"Return type of public property getter from exported class is using inaccessible module {0}.":{code:2060,category:1},"Return type of constructor signature from exported interface is using inaccessible module {0}.":{code:2061,category:1},"Return type of call signature from exported interface is using inaccessible module {0}.":{code:2062,category:1},"Return type of index signature from exported interface is using inaccessible module {0}.":{code:2063,category:1},"Return type of public static method from exported class is using inaccessible module {0}.":{code:2064,category:1},"Return type of public method from exported class is using inaccessible module {0}.":{code:2065,category:1},"Return type of method from exported interface is using inaccessible module {0}.":{code:2066,category:1},"Return type of exported function is using inaccessible module {0}.":{code:2067,category:1},"'new T[]' cannot be used to create an array. Use 'new Array<T>()' instead.":{code:2068,category:1},"A parameter list must follow a generic type argument list. '(' expected.":{code:2069,category:1},"Multiple constructor implementations are not allowed.":{code:2070,category:1},"Unable to resolve external module '{0}'.":{code:2071,category:1},"Module cannot be aliased to a non-module type.":{code:2072,category:1},"A class may only extend another class.":{code:2073,category:1},"A class may only implement another class or interface.":{code:2074,category:1},"An interface may only extend another class or interface.":{code:2075,category:1},"Unable to resolve type.":{code:2077,category:1},"Unable to resolve type of '{0}'.":{code:2078,category:1},"Unable to resolve type parameter constraint.":{code:2079,category:1},"Type parameter constraint cannot be a primitive type.":{code:2080,category:1},"Supplied parameters do not match any signature of call target.":{code:2081,category:1},"Supplied parameters do not match any signature of call target:{NL}{0}":{code:2082,category:1},"Invalid 'new' expression.":{code:2083,category:1},"Call signatures used in a 'new' expression must have a 'void' return type.":{code:2084,category:1},"Could not select overload for 'new' expression.":{code:2085,category:1},"Type '{0}' does not satisfy the constraint '{1}' for type parameter '{2}'.":{code:2086,category:1},"Could not select overload for 'call' expression.":{code:2087,category:1},"Cannot invoke an expression whose type lacks a call signature.":{code:2088,category:1},"Calls to 'super' are only valid inside a class.":{code:2089,category:1},"Generic type '{0}' requires {1} type argument(s).":{code:2090,category:1},"Type of array literal cannot be determined. Best common type could not be found for array elements.":{code:2092,category:1},"Could not find enclosing symbol for dotted name '{0}'.":{code:2093,category:1},"The property '{0}' does not exist on value of type '{1}'.":{code:2094,category:1},"Could not find symbol '{0}'.":{code:2095,category:1},"'get' and 'set' accessor must have the same type.":{code:2096,category:1},"'this' cannot be referenced in current location.":{code:2097,category:1},"Static members cannot reference class type parameters.":{code:2099,category:1},"Class '{0}' is recursively referenced as a base type of itself.":{code:2100,category:1},"Interface '{0}' is recursively referenced as a base type of itself.":{code:2101,category:1},"'super' property access is permitted only in a constructor, member function, or member accessor of a derived class.":{code:2102,category:1},"'super' cannot be referenced in non-derived classes.":{code:2103,category:1},"A 'super' call must be the first statement in the constructor when a class contains initialized properties or has parameter properties.":{code:2104,category:1},"Constructors for derived classes must contain a 'super' call.":{code:2105,category:1},"Super calls are not permitted outside constructors or in nested functions inside constructors.":{code:2106,category:1},"'{0}.{1}' is inaccessible.":{code:2107,category:1},"'this' cannot be referenced within module bodies.":{code:2108,category:1},"Invalid '+' expression - types not known to support the addition operator.":{code:2111,category:1},"The right-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.":{code:2112,category:1},"The left-hand side of an arithmetic operation must be of type 'any', 'number' or an enum type.":{code:2113,category:1},"The type of a unary arithmetic operation operand must be of type 'any', 'number' or an enum type.":{code:2114,category:1},"Variable declarations of a 'for' statement cannot use a type annotation.":{code:2115,category:1},"Variable declarations of a 'for' statement must be of types 'string' or 'any'.":{code:2116,category:1},"The right-hand side of a 'for...in' statement must be of type 'any', an object type or a type parameter.":{code:2117,category:1},"The left-hand side of an 'in' expression must be of types 'any', 'string' or 'number'.":{code:2118,category:1},"The right-hand side of an 'in' expression must be of type 'any', an object type or a type parameter.":{code:2119,category:1},"The left-hand side of an 'instanceof' expression must be of type 'any', an object type or a type parameter.":{code:2120,category:1},"The right-hand side of an 'instanceof' expression must be of type 'any' or of a type assignable to the 'Function' interface type.":{code:2121,category:1},"Setters cannot return a value.":{code:2122,category:1},"Tried to query type of uninitialized module '{0}'.":{code:2123,category:1},"Tried to set variable type to uninitialized module type '{0}'.":{code:2124,category:1},"Type '{0}' does not have type parameters.":{code:2125,category:1},"Getters must return a value.":{code:2126,category:1},"Getter and setter accessors do not agree in visibility.":{code:2127,category:1},"Invalid left-hand side of assignment expression.":{code:2130,category:1},"Function declared a non-void return type, but has no return expression.":{code:2131,category:1},"Cannot resolve return type reference.":{code:2132,category:1},"Constructors cannot have a return type of 'void'.":{code:2133,category:1},"Subsequent variable declarations must have the same type.  Variable '{0}' must be of type '{1}', but here has type '{2}'.":{code:2134,category:1},"All symbols within a with block will be resolved to 'any'.":{code:2135,category:1},"Import declarations in an internal module cannot reference an external module.":{code:2136,category:1},"Class {0} declares interface {1} but does not implement it:{NL}{2}":{code:2137,category:1},"Class {0} declares class {1} as an interface but does not implement it:{NL}{2}":{code:2138,category:1},"The operand of an increment or decrement operator must be a variable, property or indexer.":{code:2139,category:1},"'this' cannot be referenced in static initializers in a class body.":{code:2140,category:1},"Class '{0}' cannot extend class '{1}':{NL}{2}":{code:2141,category:1},"Interface '{0}' cannot extend class '{1}':{NL}{2}":{code:2142,category:1},"Interface '{0}' cannot extend interface '{1}':{NL}{2}":{code:2143,category:1},"Duplicate overload signature for '{0}'.":{code:2144,category:1},"Duplicate constructor overload signature.":{code:2145,category:1},"Duplicate overload call signature.":{code:2146,category:1},"Duplicate overload construct signature.":{code:2147,category:1},"Overload signature is not compatible with function definition.":{code:2148,category:1},"Overload signature is not compatible with function definition:{NL}{0}":{code:2149,category:1},"Overload signatures must all be public or private.":{code:2150,category:1},"Overload signatures must all be exported or not exported.":{code:2151,category:1},"Overload signatures must all be ambient or non-ambient.":{code:2152,category:1},"Overload signatures must all be optional or required.":{code:2153,category:1},"Specialized overload signature is not assignable to any non-specialized signature.":{code:2154,category:1},"'this' cannot be referenced in constructor arguments.":{code:2155,category:1},"Instance member cannot be accessed off a class.":{code:2157,category:1},"Untyped function calls may not accept type arguments.":{code:2158,category:1},"Non-generic functions may not accept type arguments.":{code:2159,category:1},"A generic type may not reference itself with a wrapped form of its own type parameters.":{code:2160,category:1},"Rest parameters must be array types.":{code:2162,category:1},"Overload signature implementation cannot use specialized type.":{code:2163,category:1},"Export assignments may only be used at the top-level of external modules.":{code:2164,category:1},"Export assignments may only be made with variables, functions, classes, interfaces, enums and internal modules.":{code:2165,category:1},"Only public methods of the base class are accessible via the 'super' keyword.":{code:2166,category:1},"Numeric indexer type '{0}' must be assignable to string indexer type '{1}'.":{code:2167,category:1},"Numeric indexer type '{0}' must be assignable to string indexer type '{1}':{NL}{2}":{code:2168,category:1},"All numerically named properties must be assignable to numeric indexer type '{0}'.":{code:2169,category:1},"All numerically named properties must be assignable to numeric indexer type '{0}':{NL}{1}":{code:2170,category:1},"All named properties must be assignable to string indexer type '{0}'.":{code:2171,category:1},"All named properties must be assignable to string indexer type '{0}':{NL}{1}":{code:2172,category:1},"Generic type references must include all type arguments.":{code:2173,category:1},"Default arguments are only allowed in implementation.":{code:2174,category:1},"Overloads cannot differ only by return type.":{code:2175,category:1},"Function expression declared a non-void return type, but has no return expression.":{code:2176,category:1},"Import declaration referencing identifier from internal module can only be made with variables, functions, classes, interfaces, enums and internal modules.":{code:2177,category:1},"Could not find symbol '{0}' in module '{1}'.":{code:2178,category:1},"Unable to resolve module reference '{0}'.":{code:2179,category:1},"Could not find module '{0}' in module '{1}'.":{code:2180,category:1},"Exported import declaration '{0}' is assigned value with type that has or is using private type '{1}'.":{code:2181,category:1},"Exported import declaration '{0}' is assigned value with type that is using inaccessible module '{1}'.":{code:2182,category:1},"Exported import declaration '{0}' is assigned type that has or is using private type '{1}'.":{code:2183,category:1},"Exported import declaration '{0}' is assigned type that is using inaccessible module '{1}'.":{code:2184,category:1},"Exported import declaration '{0}' is assigned container that is or is using inaccessible module '{1}'.":{code:2185,category:1},"Type name '{0}' in extends clause does not reference constructor function for '{1}'.":{code:2186,category:1},"Internal module reference '{0}' in import declaration does not reference module instance for '{1}'.":{code:2187,category:1},"Module '{0}' cannot merge with previous declaration of '{1}' in a different file '{2}'.":{code:2188,category:1},"Interface '{0}' cannot simultaneously extend types '{1}' and '{2}':{NL}{3}":{code:2189,category:1},"Initializer of parameter '{0}' cannot reference identifier '{1}' declared after it.":{code:2190,category:1},"Ambient external module declaration cannot be reopened.":{code:2191,category:1},"All declarations of merged declaration '{0}' must be exported or not exported.":{code:2192,category:1},"'super' cannot be referenced in constructor arguments.":{code:2193,category:1},"Return type of constructor signature must be assignable to the instance type of the class.":{code:2194,category:1},"Ambient external module declaration must be defined in global context.":{code:2195,category:1},"Ambient external module declaration cannot specify relative module name.":{code:2196,category:1},"Import declaration in an ambient external module declaration cannot reference external module through relative external module name.":{code:2197,category:1},"Could not find the best common type of types of all return statement expressions.":{code:2198,category:1},"Import declaration cannot refer to external module reference when --noResolve option is set.":{code:2199,category:1},"Duplicate identifier '_this'. Compiler uses variable declaration '_this' to capture 'this' reference.":{code:2200,category:1},"'continue' statement can only be used within an enclosing iteration statement.":{code:2201,category:1},"'break' statement can only be used within an enclosing iteration or switch statement.":{code:2202,category:1},"Jump target not found.":{code:2203,category:1},"Jump target cannot cross function boundary.":{code:2204,category:1},"Duplicate identifier '_super'. Compiler uses '_super' to capture base class reference.":{code:2205,category:1},"Expression resolves to variable declaration '_this' that compiler uses to capture 'this' reference.":{code:2206,category:1},"Expression resolves to '_super' that compiler uses to capture base class reference.":{code:2207,category:1},"TypeParameter '{0}' of constructor signature from exported interface has or is using private type '{1}'.":{code:2208,category:1},"TypeParameter '{0}' of call signature from exported interface has or is using private type '{1}'.":{code:2209,category:1},"TypeParameter '{0}' of public static method from exported class has or is using private type '{1}'.":{code:2210,category:1},"TypeParameter '{0}' of public method from exported class has or is using private type '{1}'.":{code:2211,category:1},"TypeParameter '{0}' of method from exported interface has or is using private type '{1}'.":{code:2212,category:1},"TypeParameter '{0}' of exported function has or is using private type '{1}'.":{code:2213,category:1},"TypeParameter '{0}' of constructor signature from exported interface is using inaccessible module {1}.":{code:2214,category:1},"TypeParameter '{0}' of call signature from exported interface is using inaccessible module {1}":{code:2215,category:1},"TypeParameter '{0}' of public static method from exported class is using inaccessible module {1}.":{code:2216,category:1},"TypeParameter '{0}' of public method from exported class is using inaccessible module {1}.":{code:2217,category:1},"TypeParameter '{0}' of method from exported interface is using inaccessible module {1}.":{code:2218,category:1},"TypeParameter '{0}' of exported function is using inaccessible module {1}.":{code:2219,category:1},"TypeParameter '{0}' of exported class has or is using private type '{1}'.":{code:2220,category:1},"TypeParameter '{0}' of exported interface has or is using private type '{1}'.":{code:2221,category:1},"TypeParameter '{0}' of exported class is using inaccessible module {1}.":{code:2222,category:1},"TypeParameter '{0}' of exported interface is using inaccessible module {1}.":{code:2223,category:1},"Duplicate identifier '_i'. Compiler uses '_i' to initialize rest parameter.":{code:2224,category:1},"Duplicate identifier 'arguments'. Compiler uses 'arguments' to initialize rest parameters.":{code:2225,category:1},"Type of conditional '{0}' must be identical to '{1}' or '{2}'.":{code:2226,category:1},"Type of conditional '{0}' must be identical to '{1}', '{2}' or '{3}'.":{code:2227,category:1},"Duplicate identifier '{0}'. Compiler reserves name '{1}' in top level scope of an external module.":{code:2228,category:1},"Constraint of a type parameter cannot reference any type parameter from the same type parameter list.":{code:2229,category:1},"Initializer of instance member variable '{0}' cannot reference identifier '{1}' declared in the constructor.":{code:2230,category:1},"Parameter '{0}' cannot be referenced in its initializer.":{code:2231,category:1},"Duplicate string index signature.":{code:2232,category:1},"Duplicate number index signature.":{code:2233,category:1},"All declarations of an interface must have identical type parameters.":{code:2234,category:1},"Expression resolves to variable declaration '_i' that compiler uses to initialize rest parameter.":{code:2235,category:1},"Type '{0}' is missing property '{1}' from type '{2}'.":{code:4e3,category:3},"Types of property '{0}' of types '{1}' and '{2}' are incompatible.":{code:4001,category:3},"Types of property '{0}' of types '{1}' and '{2}' are incompatible:{NL}{3}":{code:4002,category:3},"Property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.":{code:4003,category:3},"Property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.":{code:4004,category:3},"Types '{0}' and '{1}' define property '{2}' as private.":{code:4005,category:3},"Call signatures of types '{0}' and '{1}' are incompatible.":{code:4006,category:3},"Call signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:4007,category:3},"Type '{0}' requires a call signature, but type '{1}' lacks one.":{code:4008,category:3},"Construct signatures of types '{0}' and '{1}' are incompatible.":{code:4009,category:3},"Construct signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:4010,category:3},"Type '{0}' requires a construct signature, but type '{1}' lacks one.":{code:4011,category:3},"Index signatures of types '{0}' and '{1}' are incompatible.":{code:4012,category:3},"Index signatures of types '{0}' and '{1}' are incompatible:{NL}{2}":{code:4013,category:3},"Call signature expects {0} or fewer parameters.":{code:4014,category:3},"Could not apply type '{0}' to argument {1} which is of type '{2}'.":{code:4015,category:3},"Class '{0}' defines instance member accessor '{1}', but extended class '{2}' defines it as instance member function.":{code:4016,category:3},"Class '{0}' defines instance member property '{1}', but extended class '{2}' defines it as instance member function.":{code:4017,category:3},"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member accessor.":{code:4018,category:3},"Class '{0}' defines instance member function '{1}', but extended class '{2}' defines it as instance member property.":{code:4019,category:3},"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible.":{code:4020,category:3},"Types of static property '{0}' of class '{1}' and class '{2}' are incompatible:{NL}{3}":{code:4021,category:3},"Type reference cannot refer to container '{0}'.":{code:4022,category:1},"Type reference must refer to type.":{code:4023,category:1},"In enums with multiple declarations only one declaration can omit an initializer for the first enum element.":{code:4024,category:1}," (+ {0} overload(s))":{code:4025,category:2},"Variable declaration cannot have the same name as an import declaration.":{code:4026,category:1},"Signature expected {0} type arguments, got {1} instead.":{code:4027,category:1},"Property '{0}' defined as optional in type '{1}', but is required in type '{2}'.":{code:4028,category:3},"Types '{0}' and '{1}' originating in infinitely expanding type reference do not refer to same named type.":{code:4029,category:3},"Types '{0}' and '{1}' originating in infinitely expanding type reference have incompatible type arguments.":{code:4030,category:3},"Types '{0}' and '{1}' originating in infinitely expanding type reference have incompatible type arguments:{NL}{2}":{code:4031,category:3},"Named properties '{0}' of types '{1}' and '{2}' are not identical.":{code:4032,category:3},"Types of string indexer of types '{0}' and '{1}' are not identical.":{code:4033,category:3},"Types of number indexer of types '{0}' and '{1}' are not identical.":{code:4034,category:3},"Type of number indexer in type '{0}' is not assignable to string indexer type in type '{1}'.{NL}{2}":{code:4035,category:3},"Type of property '{0}' in type '{1}' is not assignable to string indexer type in type '{2}'.{NL}{3}":{code:4036,category:3},"Type of property '{0}' in type '{1}' is not assignable to number indexer type in type '{2}'.{NL}{3}":{code:4037,category:3},"Static property '{0}' defined as private in type '{1}' is defined as public in type '{2}'.":{code:4038,category:3},"Static property '{0}' defined as public in type '{1}' is defined as private in type '{2}'.":{code:4039,category:3},"Types '{0}' and '{1}' define static property '{2}' as private.":{code:4040,category:3},"Current host does not support '{0}' option.":{code:5001,category:1},"ECMAScript target version '{0}' not supported.  Specify a valid target version: '{1}' (default), or '{2}'":{code:5002,category:1},"Module code generation '{0}' not supported.":{code:5003,category:1},"Could not find file: '{0}'.":{code:5004,category:1},"A file cannot have a reference to itself.":{code:5006,category:1},"Cannot resolve referenced file: '{0}'.":{code:5007,category:1},"Cannot find the common subdirectory path for the input files.":{code:5009,category:1},"Emit Error: {0}.":{code:5011,category:1},"Cannot read file '{0}': {1}":{code:5012,category:1},"Unsupported file encoding.":{code:5013,category:3},"Locale must be of the form <language> or <language>-<territory>. For example '{0}' or '{1}'.":{code:5014,category:1},"Unsupported locale: '{0}'.":{code:5015,category:1},"Execution Failed.{NL}":{code:5016,category:1},"Invalid call to 'up'":{code:5019,category:1},"Invalid call to 'down'":{code:5020,category:1},"Base64 value '{0}' finished with a continuation bit.":{code:5021,category:1},"Unknown option '{0}'":{code:5023,category:1},"Expected {0} arguments to message, got {1} instead.":{code:5024,category:1},"Expected the message '{0}' to have {1} arguments, but it had {2}":{code:5025,category:1},"Could not delete file '{0}'":{code:5034,category:1},"Could not create directory '{0}'":{code:5035,category:1},"Error while executing file '{0}': ":{code:5036,category:1},"Cannot compile external modules unless the '--module' flag is provided.":{code:5037,category:1},"Option mapRoot cannot be specified without specifying sourcemap option.":{code:5038,category:1},"Option sourceRoot cannot be specified without specifying sourcemap option.":{code:5039,category:1},"Options mapRoot and sourceRoot cannot be specified without specifying sourcemap option.":{code:5040,category:1},"Option '{0}' specified without '{1}'":{code:5041,category:1},"'codepage' option not supported on current platform.":{code:5042,category:1},"Concatenate and emit output to single file.":{code:6001,category:2},"Generates corresponding {0} file.":{code:6002,category:2},"Specifies the location where debugger should locate map files instead of generated locations.":{code:6003,category:2},"Specifies the location where debugger should locate TypeScript files instead of source locations.":{code:6004,category:2},"Watch input files.":{code:6005,category:2},"Redirect output structure to the directory.":{code:6006,category:2},"Do not emit comments to output.":{code:6009,category:2},"Skip resolution and preprocessing.":{code:6010,category:2},"Specify ECMAScript target version: '{0}' (default), or '{1}'":{code:6015,category:2},"Specify module code generation: '{0}' or '{1}'":{code:6016,category:2},"Print this message.":{code:6017,category:2},"Print the compiler's version: {0}":{code:6019,category:2},"Allow use of deprecated '{0}' keyword when referencing an external module.":{code:6021,category:2},"Specify locale for errors and messages. For example '{0}' or '{1}'":{code:6022,category:2},"Syntax:   {0}":{code:6023,category:2},options:{code:6024,category:2},file1:{code:6025,category:2},"Examples:":{code:6026,category:2},"Options:":{code:6027,category:2},"Insert command line options and files from a file.":{code:6030,category:2},"Version {0}":{code:6029,category:2},"Use the '{0}' flag to see options.":{code:6031,category:2},"{NL}Recompiling ({0}):":{code:6032,category:2},STRING:{code:6033,category:2},KIND:{code:6034,category:2},file2:{code:6035,category:2},VERSION:{code:6036,category:2},LOCATION:{code:6037,category:2},DIRECTORY:{code:6038,category:2},NUMBER:{code:6039,category:2},"Specify the codepage to use when opening source files.":{code:6040,category:2},"Additional locations:":{code:6041,category:2},"This version of the Javascript runtime does not support the '{0}' function.":{code:7e3,category:1},"Unknown rule.":{code:7002,category:1},"Invalid line number ({0})":{code:7003,category:1},"Warn on expressions and declarations with an implied 'any' type.":{code:7004,category:2},"Variable '{0}' implicitly has an 'any' type.":{code:7005,category:1},"Parameter '{0}' of '{1}' implicitly has an 'any' type.":{code:7006,category:1},"Parameter '{0}' of function type implicitly has an 'any' type.":{code:7007,category:1},"Member '{0}' of object type implicitly has an 'any' type.":{code:7008,category:1},"'new' expression, which lacks a constructor signature, implicitly has an 'any' type.":{code:7009,category:1},"'{0}', which lacks return-type annotation, implicitly has an 'any' return type.":{code:7010,category:1},"Function expression, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7011,category:1},"Parameter '{0}' of lambda function implicitly has an 'any' type.":{code:7012,category:1},"Constructor signature, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7013,category:1},"Lambda Function, which lacks return-type annotation, implicitly has an 'any' return type.":{code:7014,category:1},"Array Literal implicitly has an 'any' type from widening.":{code:7015,category:1},"'{0}', which lacks 'get' accessor and parameter type annotation on 'set' accessor, implicitly has an 'any' type.":{code:7016,category:1},"Index signature of object type implicitly has an 'any' type.":{code:7017,category:1},"Object literal's property '{0}' implicitly has an 'any' type from widening.":{code:7018,category:1}}}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.nullCharacter=0]="nullCharacter";n[n.maxAsciiCharacter=127]="maxAsciiCharacter";n[n.lineFeed=10]="lineFeed";n[n.carriageReturn=13]="carriageReturn";n[n.lineSeparator=8232]="lineSeparator";n[n.paragraphSeparator=8233]="paragraphSeparator";n[n.nextLine=133]="nextLine";n[n.space=32]="space";n[n.nonBreakingSpace=160]="nonBreakingSpace";n[n.enQuad=8192]="enQuad";n[n.emQuad=8193]="emQuad";n[n.enSpace=8194]="enSpace";n[n.emSpace=8195]="emSpace";n[n.threePerEmSpace=8196]="threePerEmSpace";n[n.fourPerEmSpace=8197]="fourPerEmSpace";n[n.sixPerEmSpace=8198]="sixPerEmSpace";n[n.figureSpace=8199]="figureSpace";n[n.punctuationSpace=8200]="punctuationSpace";n[n.thinSpace=8201]="thinSpace";n[n.hairSpace=8202]="hairSpace";n[n.zeroWidthSpace=8203]="zeroWidthSpace";n[n.narrowNoBreakSpace=8239]="narrowNoBreakSpace";n[n.ideographicSpace=12288]="ideographicSpace";n[n._=95]="_";n[n.$=36]="$";n[n._0=48]="_0";n[n._7=55]="_7";n[n._9=57]="_9";n[n.a=97]="a";n[n.b=98]="b";n[n.c=99]="c";n[n.d=100]="d";n[n.e=101]="e";n[n.f=102]="f";n[n.g=103]="g";n[n.h=104]="h";n[n.i=105]="i";n[n.k=107]="k";n[n.l=108]="l";n[n.m=109]="m";n[n.n=110]="n";n[n.o=111]="o";n[n.p=112]="p";n[n.q=113]="q";n[n.r=114]="r";n[n.s=115]="s";n[n.t=116]="t";n[n.u=117]="u";n[n.v=118]="v";n[n.w=119]="w";n[n.x=120]="x";n[n.y=121]="y";n[n.z=122]="z";n[n.A=65]="A";n[n.E=69]="E";n[n.F=70]="F";n[n.X=88]="X";n[n.Z=90]="Z";n[n.ampersand=38]="ampersand";n[n.asterisk=42]="asterisk";n[n.at=64]="at";n[n.backslash=92]="backslash";n[n.bar=124]="bar";n[n.caret=94]="caret";n[n.closeBrace=125]="closeBrace";n[n.closeBracket=93]="closeBracket";n[n.closeParen=41]="closeParen";n[n.colon=58]="colon";n[n.comma=44]="comma";n[n.dot=46]="dot";n[n.doubleQuote=34]="doubleQuote";n[n.equals=61]="equals";n[n.exclamation=33]="exclamation";n[n.greaterThan=62]="greaterThan";n[n.lessThan=60]="lessThan";n[n.minus=45]="minus";n[n.openBrace=123]="openBrace";n[n.openBracket=91]="openBracket";n[n.openParen=40]="openParen";n[n.percent=37]="percent";n[n.plus=43]="plus";n[n.question=63]="question";n[n.semicolon=59]="semicolon";n[n.singleQuote=39]="singleQuote";n[n.slash=47]="slash";n[n.tilde=126]="tilde";n[n.backspace=8]="backspace";n[n.formFeed=12]="formFeed";n[n.byteOrderMark=65279]="byteOrderMark";n[n.tab=9]="tab";n[n.verticalTab=11]="verticalTab"})(n.CharacterCodes||(n.CharacterCodes={}));var t=n.CharacterCodes}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n){return new i(n)}var i=function(){function t(n){this.text=n;this._lineStartPositions=null}return t.prototype.getText=function(n,t){return this.text.substring(n,t)},t.prototype.getLength=function(){return this.text.length},t.prototype.getLineStartPositions=function(){return this._lineStartPositions||(this._lineStartPositions=n.TextUtilities.parseLineStarts(this.text)),this._lineStartPositions},t.prototype.getTextChangeRangeSinceVersion=function(){throw n.Errors.notYetImplemented();},t}();t.fromString=r})(n.ScriptSnapshot||(n.ScriptSnapshot={}));var t=n.ScriptSnapshot}(TypeScript||(TypeScript={})),function(n){(function(t){function i(t){return new n.LineMap(function(){return n.TextUtilities.parseLineStarts({charCodeAt:function(n){return t.charCodeAt(n)},length:t.length()})},t.length())}function r(t){return new n.LineMap(function(){return t.getLineStartPositions()},t.getLength())}function u(t){return new n.LineMap(function(){return n.TextUtilities.parseLineStarts(t)},t.length)}t.fromSimpleText=i;t.fromScriptSnapshot=r;t.fromString=u})(n.LineMap1||(n.LineMap1={}));var t=n.LineMap1}(TypeScript||(TypeScript={})),function(n){(function(t){function u(t,i,r){var u=t.charCodeAt(i);u===10?i>0&&t.charCodeAt(i-1)===13?(r.startPosition=i-1,r.length=2):(r.startPosition=i,r.length=1):n.TextUtilities.isAnyLineBreakCharacter(u)?(r.startPosition=i,r.length=1):(r.startPosition=i+1,r.length=0)}function s(n){return new o(n)}var f=function(){function n(n,t){this.startPosition=n;this.length=t}return n}(),i=function(){function t(t,i,r,u){if(this._text=null,this._textSpan=null,t===null)throw n.Errors.argumentNull("text");n.Debug.assert(r>=0);n.Debug.assert(u>=0);this._text=t;this._textSpan=i;this._lineBreakLength=r;this._lineNumber=u}return t.prototype.start=function(){return this._textSpan.start()},t.prototype.end=function(){return this._textSpan.end()},t.prototype.endIncludingLineBreak=function(){return this.end()+this._lineBreakLength},t.prototype.extent=function(){return this._textSpan},t.prototype.extentIncludingLineBreak=function(){return n.TextSpan.fromBounds(this.start(),this.endIncludingLineBreak())},t.prototype.toString=function(){return this._text.toString(this._textSpan)},t.prototype.lineNumber=function(){return this._lineNumber},t}(),r=function(){function t(){this.linebreakInfo=new f(0,0);this.lastLineFoundForPosition=null}return t.prototype.length=function(){throw n.Errors.abstract();},t.prototype.charCodeAt=function(){throw n.Errors.abstract();},t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.toString=function(t){typeof t=="undefined"&&(t=null);throw n.Errors.abstract();},t.prototype.subText=function(n){return this.checkSubSpan(n),new e(this,n)},t.prototype.substr=function(){throw n.Errors.abstract();},t.prototype.copyTo=function(){throw n.Errors.abstract();},t.prototype.lineCount=function(){return this._lineStarts().length},t.prototype.lines=function(){for(var t=[],i=this.lineCount(),n=0;n<i;++n)t[n]=this.getLineFromLineNumber(n);return t},t.prototype.lineMap=function(){var t=this;return new n.LineMap(function(){return t._lineStarts()},this.length())},t.prototype._lineStarts=function(){throw n.Errors.abstract();},t.prototype.getLineFromLineNumber=function(t){var f=this._lineStarts(),r;if(t<0||t>=f.length)throw n.Errors.argumentOutOfRange("lineNumber");return r=f[t],t===f.length-1?new i(this,new n.TextSpan(r,this.length()-r),0,t):(u(this,f[t+1]-1,this.linebreakInfo),new i(this,new n.TextSpan(r,this.linebreakInfo.startPosition-r),this.linebreakInfo.length,t))},t.prototype.getLineFromPosition=function(n){var t=this.lastLineFoundForPosition,r,i;return t!==null&&t.start()<=n&&t.endIncludingLineBreak()>n?t:(r=this.getLineNumberFromPosition(n),i=this.getLineFromLineNumber(r),this.lastLineFoundForPosition=i,i)},t.prototype.getLineNumberFromPosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");if(t===this.length())return this.lineCount()-1;var i=n.ArrayUtilities.binarySearch(this._lineStarts(),t);return i<0&&(i=~i-1),i},t.prototype.getLinePosition=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");var i=this.getLineNumberFromPosition(t);return new n.LineAndCharacter(i,t-this._lineStarts()[i])},t}(),e=function(t){function i(i,r){if(t.call(this),this._lazyLineStarts=null,i===null)throw n.Errors.argumentNull("text");if(r.start()<0||r.start()>=i.length()||r.end()<0||r.end()>i.length())throw n.Errors.argument("span");this.text=i;this.span=r}return __extends(i,t),i.prototype.length=function(){return this.span.length()},i.prototype.charCodeAt=function(t){if(t<0||t>this.length())throw n.Errors.argumentOutOfRange("position");return this.text.charCodeAt(this.span.start()+t)},i.prototype.subText=function(n){return this.checkSubSpan(n),new i(this.text,this.getCompositeSpan(n.start(),n.length()))},i.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},i.prototype.substr=function(n,t,i){var r=this.span.start()+n;return this.text.substr(r,t,i)},i.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},i.prototype._lineStarts=function(){var t=this;return this._lazyLineStarts||(this._lazyLineStarts=n.TextUtilities.parseLineStarts({charCodeAt:function(n){return t.charCodeAt(n)},length:this.length()})),this._lazyLineStarts},i}(r),o=function(t){function i(i){if(t.call(this),this.source=null,this._lazyLineStarts=null,i===null)throw n.Errors.argumentNull("data");this.source=i}return __extends(i,t),i.prototype.length=function(){return this.source.length},i.prototype.charCodeAt=function(t){if(t<0||t>=this.source.length)throw n.Errors.argumentOutOfRange("position");return this.source.charCodeAt(t)},i.prototype.substr=function(n,t){return this.source.substr(n,t)},i.prototype.toString=function(t){return(typeof t=="undefined"&&(t=null),t===null&&(t=new n.TextSpan(0,this.length())),this.checkSubSpan(t),t.start()===0&&t.length()===this.length())?this.source:this.source.substr(t.start(),t.length())},i.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.source,t,i,r,u)},i.prototype._lineStarts=function(){return this._lazyLineStarts===null&&(this._lazyLineStarts=n.TextUtilities.parseLineStarts(this.source)),this._lazyLineStarts},i}(r);t.createText=s})(n.TextFactory||(n.TextFactory={}));var t=n.TextFactory}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return new r(n)}function e(n){return new u(n)}var i=function(){function t(t,i){if(this.text=null,this.span=null,t===null)throw n.Errors.argumentNull("text");if(i.start()<0||i.start()>=t.length()||i.end()<0||i.end()>t.length())throw n.Errors.argument("span");this.text=t;this.span=i}return t.prototype.checkSubSpan=function(t){if(t.start()<0||t.start()>this.length()||t.end()>this.length())throw n.Errors.argumentOutOfRange("span");},t.prototype.checkSubPosition=function(t){if(t<0||t>=this.length())throw n.Errors.argumentOutOfRange("position");},t.prototype.length=function(){return this.span.length()},t.prototype.subText=function(n){return this.checkSubSpan(n),new t(this.text,this.getCompositeSpan(n.start(),n.length()))},t.prototype.copyTo=function(n,t,i,r){var u=this.getCompositeSpan(n,r);this.text.copyTo(u.start(),t,i,u.length())},t.prototype.substr=function(n,t,i){var r=this.getCompositeSpan(n,t);return this.text.substr(r.start(),r.length(),i)},t.prototype.getCompositeSpan=function(t,i){var r=n.MathPrototype.min(this.text.length(),this.span.start()+t),u=n.MathPrototype.min(this.text.length(),r+i);return new n.TextSpan(r,u-r)},t.prototype.charCodeAt=function(n){return this.checkSubPosition(n),this.text.charCodeAt(this.span.start()+n)},t.prototype.lineMap=function(){return n.LineMap1.fromSimpleText(this)},t}(),r=function(){function t(n){this.value=n;this._lineMap=null}return t.prototype.length=function(){return this.value.length},t.prototype.copyTo=function(t,i,r,u){n.StringUtilities.copyTo(this.value,t,i,r,u)},t.prototype.substr=function(i,r,u){if(u){var f=r<=t.charArray.length?t.charArray:n.ArrayUtilities.createArray(r,0);return this.copyTo(i,f,0,r),n.Collections.DefaultStringTable.addCharArray(f,0,r)}return this.value.substr(i,r)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.charCodeAt=function(n){return this.value.charCodeAt(n)},t.prototype.lineMap=function(){return this._lineMap||(this._lineMap=n.LineMap1.fromString(this.value)),this._lineMap},t.charArray=n.ArrayUtilities.createArray(1024,0),t}(),u=function(){function t(n){this.scriptSnapshot=n}return t.prototype.charCodeAt=function(n){return this.scriptSnapshot.getText(n,n+1).charCodeAt(0)},t.prototype.length=function(){return this.scriptSnapshot.getLength()},t.prototype.copyTo=function(t,i,r,u){var f=this.scriptSnapshot.getText(t,t+u);n.StringUtilities.copyTo(f,0,i,r,u)},t.prototype.substr=function(n,t){return this.scriptSnapshot.getText(n,n+t)},t.prototype.subText=function(n){return new i(this,n)},t.prototype.lineMap=function(){var t=this;return new n.LineMap(function(){return t.scriptSnapshot.getLineStartPositions()},this.length())},t}();t.fromString=f;t.fromScriptSnapshot=e})(n.SimpleText||(n.SimpleText={}));var t=n.SimpleText}(TypeScript||(TypeScript={})),function(n){(function(n){function r(t){var u=t.length,f,r,s;if(0===u)return f=[],f.push(0),f;for(var e=0,i=0,o=[],h=0;i<u;){if(r=t.charCodeAt(i),r>13&&r<=127){i++;continue}else s=r===13&&i+1<u&&t.charCodeAt(i+1)===10?2:r===10?1:n.getLengthOfLineBreak(t,i);0===s?i++:(o.push(e),i+=s,e=i,h++)}return o.push(e),o}function t(n,t,r){if(r===13){var u=t+1;return u<n.length&&10===n.charCodeAt(u)?2:1}return i(r)?1:0}function u(n,i){var r=n.charCodeAt(i);return r>13&&r<=127?0:t(n,i,r)}function i(n){return n===10||n===13||n===133||n===8232||n===8233}n.parseLineStarts=r;n.getLengthOfLineBreakSlow=t;n.getLengthOfLineBreak=u;n.isAnyLineBreakCharacter=i})(n.TextUtilities||(n.TextUtilities={}));var t=n.TextUtilities}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){t<0&&n.Errors.argument("start");i<0&&n.Errors.argument("length");this._start=t;this._length=i}return t.prototype.start=function(){return this._start},t.prototype.length=function(){return this._length},t.prototype.end=function(){return this._start+this._length},t.prototype.isEmpty=function(){return this._length===0},t.prototype.containsPosition=function(n){return n>=this._start&&n<this.end()},t.prototype.containsTextSpan=function(n){return n._start>=this._start&&n.end()<=this.end()},t.prototype.overlapsWith=function(t){var i=n.MathPrototype.max(this._start,t._start),r=n.MathPrototype.min(this.end(),t.end());return i<r},t.prototype.overlap=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<u?t.fromBounds(r,u):null},t.prototype.intersectsWithTextSpan=function(n){return n._start<=this.end()&&n.end()>=this._start},t.prototype.intersectsWith=function(n,t){var i=n+t;return n<=this.end()&&i>=this._start},t.prototype.intersectsWithPosition=function(n){return n<=this.end()&&n>=this._start},t.prototype.intersection=function(i){var r=n.MathPrototype.max(this._start,i._start),u=n.MathPrototype.min(this.end(),i.end());return r<=u?t.fromBounds(r,u):null},t.fromBounds=function(i,r){return n.Debug.assert(i>=0),n.Debug.assert(r-i>=0),new t(i,r-i)},t}();n.TextSpan=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t,i){if(i<0)throw n.Errors.argumentOutOfRange("newLength");this._span=t;this._newLength=i}return t.prototype.span=function(){return this._span},t.prototype.newLength=function(){return this._newLength},t.prototype.newSpan=function(){return new n.TextSpan(this.span().start(),this.newLength())},t.prototype.isUnchanged=function(){return this.span().isEmpty()&&this.newLength()===0},t.collapseChangesFromSingleVersion=function(i){for(var r,o,h,s=0,u=1073741823,f=0,e=0;e<i.length;e++)r=i[e],s+=r.newLength()-r.span().length(),r.span().start()<u&&(u=r.span().start()),r.span().end()>f&&(f=r.span().end());return u>f?null:(o=n.TextSpan.fromBounds(u,f),h=o.length()+s,new t(o,h))},t.collapseChangesAcrossMultipleVersions=function(i){var u;if(i.length===0)return t.unchanged;if(i.length===1)return i[0];var f=i[0],r=f.span().start(),e=f.span().end(),o=r+f.newLength();for(u=1;u<i.length;u++){var s=i[u],y=r,h=e,c=o,l=s.span().start(),a=s.span().end(),v=l+s.newLength();r=n.MathPrototype.min(y,l);e=n.MathPrototype.max(h,h+(a-c));o=n.MathPrototype.max(v,v+(c-a))}return new t(n.TextSpan.fromBounds(r,e),o-r)},t.unchanged=new t(new n.TextSpan(0,0),0),t}();n.TextChangeRange=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isDecimalDigit=function(n){return n>=48&&n<=57},n.isOctalDigit=function(n){return n>=48&&n<=55},n.isHexDigit=function(t){return n.isDecimalDigit(t)||t>=65&&t<=70||t>=97&&t<=102},n.hexValue=function(t){return n.isDecimalDigit(t)?t-48:t>=65&&t<=70?t-55:t-87},n.isWhitespace=function(n){switch(n){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:return!0}return!1},n.isLineTerminator=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0}return!1},n}();n.CharacterInfo=t}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.TriviaNewLineMask=1]="TriviaNewLineMask";n[n.TriviaCommentMask=2]="TriviaCommentMask";n[n.TriviaFullWidthShift=2]="TriviaFullWidthShift";n[n.NodeDataComputed=1]="NodeDataComputed";n[n.NodeIncrementallyUnusableMask=2]="NodeIncrementallyUnusableMask";n[n.NodeParsedInStrictModeMask=4]="NodeParsedInStrictModeMask";n[n.NodeFullWidthShift=3]="NodeFullWidthShift";n[n.IsVariableWidthKeyword=-2147483648]="IsVariableWidthKeyword"})(n.SyntaxConstants||(n.SyntaxConstants={}));var t=n.SyntaxConstants}(TypeScript||(TypeScript={}));FormattingOptions=function(){function n(n,t,i,r){this.useTabs=n;this.spacesPerTab=t;this.indentSpaces=i;this.newLineCharacter=r}return n.defaultOptions=new n(!1,4,4,"\r\n"),n}(),function(n){(function(t){function e(n,t,r){return i(n,t,r)+n.width()}function i(n,t,i){for(var o=t.firstTokenInLineContainingToken(n),e=[],f=n;f!==o;)f=t.previousToken(f),f===o?(e.push(f.trailingTrivia().fullText()),e.push(f.text())):e.push(f.fullText());return r(o,e),u(e,i)}function o(n,t,i){var e=t.firstTokenInLineContainingToken(n),f=[];return r(e,f),u(f,i)}function r(t,i){for(var r,f,e=t.leadingTrivia(),u=e.count()-1;u>=0;u--){if(r=e.syntaxTriviaAt(u),r.kind()===5)break;if(r.kind()===6&&(f=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(r),i.push(n.ArrayUtilities.last(f)),f.length>0))break;i.push(r.fullText())}}function u(n,t){for(var u,i=0,r=n.length-1;r>=0;r--)u=n[r],i=f(u,u.length,i,t);return i}function s(n,t,i){return f(n,t,0,i)}function f(n,t,i,r){for(var o,u=i,e=r.spacesPerTab,f=0;f<t;f++)o=n.charCodeAt(f),o===9?u+=e-u%e:u++;return u}function h(t,i){var r=0,u=n.MathPrototype.max(0,t);return i.useTabs&&(r=Math.floor(t/i.spacesPerTab),u-=r*i.spacesPerTab),n.StringUtilities.repeat("\t",r)+n.StringUtilities.repeat(" ",u)}function c(t,i){return n.Syntax.whitespace(this.indentationString(t,i))}function l(t){for(var r,i=0;i<t.length;i++)if(r=t.charCodeAt(i),!n.CharacterInfo.isWhitespace(r))return i;return t.length}t.columnForEndOfToken=e;t.columnForStartOfToken=i;t.columnForStartOfFirstTokenInLineContainingToken=o;t.columnForPositionInString=s;t.indentationString=h;t.indentationTrivia=c;t.firstNonWhitespacePosition=l})(n.Indentation||(n.Indentation={}));var t=n.Indentation}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.EcmaScript3=0]="EcmaScript3";n[n.EcmaScript5=1]="EcmaScript5"})(n.LanguageVersion||(n.LanguageVersion={}));var t=n.LanguageVersion}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(n,t){this._languageVersion=n;this._allowAutomaticSemicolonInsertion=t}return n.prototype.toJSON=function(){return{allowAutomaticSemicolonInsertion:this._allowAutomaticSemicolonInsertion}},n.prototype.languageVersion=function(){return this._languageVersion},n.prototype.allowAutomaticSemicolonInsertion=function(){return this._allowAutomaticSemicolonInsertion},n}();n.ParseOptions=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this._parent=n;this._element=t;this._fullStart=i}return t.create=function(t,i,u){if(i===null)return null;if(i.isNode())return new f(t,i,u);if(i.isToken())return new r(t,i,u);if(i.isList())return new e(t,i,u);if(i.isSeparatedList())return new o(t,i,u);throw n.Errors.invalidOperation();},t.prototype.parent=function(){return this._parent},t.prototype.parentElement=function(){return this._parent&&this._parent._element},t.prototype.element=function(){return this._element},t.prototype.kind=function(){return this.element().kind()},t.prototype.childIndex=function(t){return n.Syntax.childIndex(this.element(),t)},t.prototype.childCount=function(){return this.element().childCount()},t.prototype.childAt=function(i){var r=n.Syntax.childOffsetAt(this.element(),i);return t.create(this,this.element().childAt(i),this.fullStart()+r)},t.prototype.childStart=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()},t.prototype.childEnd=function(t){var i=n.Syntax.childOffset(this.element(),t);return this.fullStart()+i+t.leadingTriviaWidth()+t.width()},t.prototype.childStartAt=function(t){var i=n.Syntax.childOffsetAt(this.element(),t),r=this.element().childAt(t);return this.fullStart()+i+r.leadingTriviaWidth()},t.prototype.childEndAt=function(t){var r=n.Syntax.childOffsetAt(this.element(),t),i=this.element().childAt(t);return this.fullStart()+r+i.leadingTriviaWidth()+i.width()},t.prototype.getPositionedChild=function(i){var r=n.Syntax.childOffset(this.element(),i);return t.create(this,i,this.fullStart()+r)},t.prototype.fullStart=function(){return this._fullStart},t.prototype.fullEnd=function(){return this.fullStart()+this.element().fullWidth()},t.prototype.fullWidth=function(){return this.element().fullWidth()},t.prototype.start=function(){return this.fullStart()+this.element().leadingTriviaWidth()},t.prototype.end=function(){return this.fullStart()+this.element().leadingTriviaWidth()+this.element().width()},t.prototype.root=function(){for(var n=this;n.parent()!==null;)n=n.parent();return n},t.prototype.containingNode=function(){for(var n=this.parent();n!==null&&!n.element().isNode();)n=n.parent();return n},t}(),i,f,r,e,o,u;n.PositionedElement=t;i=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.nodeOrToken=function(){return this.element()},t}(t);n.PositionedNodeOrToken=i;f=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.node=function(){return this.element()},t}(i);n.PositionedNode=f;r=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.token=function(){return this.element()},t.prototype.previousToken=function(n){var t,f,r,i,e;if(typeof n=="undefined"&&(n=!1),t=this.token().leadingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.start(),r=t.count()-1;r>=0;r--){if(i=t.syntaxTriviaAt(r),i.isSkippedToken())return new u(this,i.skippedToken(),f-i.fullWidth());f-=i.fullWidth()}return(e=this.fullStart(),e===0)?null:this.root().node().findToken(e-1,n)},t.prototype.nextToken=function(n){var t,f,i,e,r;if(typeof n=="undefined"&&(n=!1),this.token().tokenKind===10)return null;if(t=this.token().trailingTrivia(),n&&t&&t.hasSkippedToken())for(f=this.end(),i=0,e=t.count();i<e;i++){if(r=t.syntaxTriviaAt(i),r.isSkippedToken())return new u(this,r.skippedToken(),f);f+=r.fullWidth()}return this.root().node().findToken(this.fullEnd(),n)},t}(i);n.PositionedToken=r;e=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedList=e;o=function(n){function t(t,i,r){n.call(this,t,i,r)}return __extends(t,n),t.prototype.list=function(){return this.element()},t}(t);n.PositionedSeparatedList=o;u=function(t){function i(n,i,r){t.call(this,n.parent(),i,r);this._parentToken=n}return __extends(i,t),i.prototype.parentToken=function(){return this._parentToken},i.prototype.previousToken=function(t){var r,i;if(typeof t=="undefined"&&(t=!1),i=this.fullStart(),t){if(i>=this.parentToken().end())return(r=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),i-1),r)?r:this.parentToken();if(r=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),i-1),r)return r}return(i=this.parentToken().fullStart(),i===0)?null:this.root().node().findToken(i-1,t)},i.prototype.nextToken=function(t){if(typeof t=="undefined"&&(t=!1),this.token().tokenKind===10)return null;if(t){var r=this.end(),i;if(r<=this.parentToken().start())return(i=n.Syntax.findSkippedTokenInLeadingTriviaList(this.parentToken(),r),i)?i:this.parentToken();if(i=n.Syntax.findSkippedTokenInTrailingTriviaList(this.parentToken(),r),i)return i}return this.root().node().findToken(this.parentToken().fullEnd(),t)},i}(r);n.PositionedSkippedToken=u}(TypeScript||(TypeScript={})),function(n){(function(n){n[n.None=0]="None";n[n.List=1]="List";n[n.SeparatedList=2]="SeparatedList";n[n.TriviaList=3]="TriviaList";n[n.WhitespaceTrivia=4]="WhitespaceTrivia";n[n.NewLineTrivia=5]="NewLineTrivia";n[n.MultiLineCommentTrivia=6]="MultiLineCommentTrivia";n[n.SingleLineCommentTrivia=7]="SingleLineCommentTrivia";n[n.SkippedTokenTrivia=8]="SkippedTokenTrivia";n[n.ErrorToken=9]="ErrorToken";n[n.EndOfFileToken=10]="EndOfFileToken";n[n.IdentifierName=11]="IdentifierName";n[n.RegularExpressionLiteral=12]="RegularExpressionLiteral";n[n.NumericLiteral=13]="NumericLiteral";n[n.StringLiteral=14]="StringLiteral";n[n.BreakKeyword=15]="BreakKeyword";n[n.CaseKeyword=16]="CaseKeyword";n[n.CatchKeyword=17]="CatchKeyword";n[n.ContinueKeyword=18]="ContinueKeyword";n[n.DebuggerKeyword=19]="DebuggerKeyword";n[n.DefaultKeyword=20]="DefaultKeyword";n[n.DeleteKeyword=21]="DeleteKeyword";n[n.DoKeyword=22]="DoKeyword";n[n.ElseKeyword=23]="ElseKeyword";n[n.FalseKeyword=24]="FalseKeyword";n[n.FinallyKeyword=25]="FinallyKeyword";n[n.ForKeyword=26]="ForKeyword";n[n.FunctionKeyword=27]="FunctionKeyword";n[n.IfKeyword=28]="IfKeyword";n[n.InKeyword=29]="InKeyword";n[n.InstanceOfKeyword=30]="InstanceOfKeyword";n[n.NewKeyword=31]="NewKeyword";n[n.NullKeyword=32]="NullKeyword";n[n.ReturnKeyword=33]="ReturnKeyword";n[n.SwitchKeyword=34]="SwitchKeyword";n[n.ThisKeyword=35]="ThisKeyword";n[n.ThrowKeyword=36]="ThrowKeyword";n[n.TrueKeyword=37]="TrueKeyword";n[n.TryKeyword=38]="TryKeyword";n[n.TypeOfKeyword=39]="TypeOfKeyword";n[n.VarKeyword=40]="VarKeyword";n[n.VoidKeyword=41]="VoidKeyword";n[n.WhileKeyword=42]="WhileKeyword";n[n.WithKeyword=43]="WithKeyword";n[n.ClassKeyword=44]="ClassKeyword";n[n.ConstKeyword=45]="ConstKeyword";n[n.EnumKeyword=46]="EnumKeyword";n[n.ExportKeyword=47]="ExportKeyword";n[n.ExtendsKeyword=48]="ExtendsKeyword";n[n.ImportKeyword=49]="ImportKeyword";n[n.SuperKeyword=50]="SuperKeyword";n[n.ImplementsKeyword=51]="ImplementsKeyword";n[n.InterfaceKeyword=52]="InterfaceKeyword";n[n.LetKeyword=53]="LetKeyword";n[n.PackageKeyword=54]="PackageKeyword";n[n.PrivateKeyword=55]="PrivateKeyword";n[n.ProtectedKeyword=56]="ProtectedKeyword";n[n.PublicKeyword=57]="PublicKeyword";n[n.StaticKeyword=58]="StaticKeyword";n[n.YieldKeyword=59]="YieldKeyword";n[n.AnyKeyword=60]="AnyKeyword";n[n.BooleanKeyword=61]="BooleanKeyword";n[n.ConstructorKeyword=62]="ConstructorKeyword";n[n.DeclareKeyword=63]="DeclareKeyword";n[n.GetKeyword=64]="GetKeyword";n[n.ModuleKeyword=65]="ModuleKeyword";n[n.RequireKeyword=66]="RequireKeyword";n[n.NumberKeyword=67]="NumberKeyword";n[n.SetKeyword=68]="SetKeyword";n[n.StringKeyword=69]="StringKeyword";n[n.OpenBraceToken=70]="OpenBraceToken";n[n.CloseBraceToken=71]="CloseBraceToken";n[n.OpenParenToken=72]="OpenParenToken";n[n.CloseParenToken=73]="CloseParenToken";n[n.OpenBracketToken=74]="OpenBracketToken";n[n.CloseBracketToken=75]="CloseBracketToken";n[n.DotToken=76]="DotToken";n[n.DotDotDotToken=77]="DotDotDotToken";n[n.SemicolonToken=78]="SemicolonToken";n[n.CommaToken=79]="CommaToken";n[n.LessThanToken=80]="LessThanToken";n[n.GreaterThanToken=81]="GreaterThanToken";n[n.LessThanEqualsToken=82]="LessThanEqualsToken";n[n.GreaterThanEqualsToken=83]="GreaterThanEqualsToken";n[n.EqualsEqualsToken=84]="EqualsEqualsToken";n[n.EqualsGreaterThanToken=85]="EqualsGreaterThanToken";n[n.ExclamationEqualsToken=86]="ExclamationEqualsToken";n[n.EqualsEqualsEqualsToken=87]="EqualsEqualsEqualsToken";n[n.ExclamationEqualsEqualsToken=88]="ExclamationEqualsEqualsToken";n[n.PlusToken=89]="PlusToken";n[n.MinusToken=90]="MinusToken";n[n.AsteriskToken=91]="AsteriskToken";n[n.PercentToken=92]="PercentToken";n[n.PlusPlusToken=93]="PlusPlusToken";n[n.MinusMinusToken=94]="MinusMinusToken";n[n.LessThanLessThanToken=95]="LessThanLessThanToken";n[n.GreaterThanGreaterThanToken=96]="GreaterThanGreaterThanToken";n[n.GreaterThanGreaterThanGreaterThanToken=97]="GreaterThanGreaterThanGreaterThanToken";n[n.AmpersandToken=98]="AmpersandToken";n[n.BarToken=99]="BarToken";n[n.CaretToken=100]="CaretToken";n[n.ExclamationToken=101]="ExclamationToken";n[n.TildeToken=102]="TildeToken";n[n.AmpersandAmpersandToken=103]="AmpersandAmpersandToken";n[n.BarBarToken=104]="BarBarToken";n[n.QuestionToken=105]="QuestionToken";n[n.ColonToken=106]="ColonToken";n[n.EqualsToken=107]="EqualsToken";n[n.PlusEqualsToken=108]="PlusEqualsToken";n[n.MinusEqualsToken=109]="MinusEqualsToken";n[n.AsteriskEqualsToken=110]="AsteriskEqualsToken";n[n.PercentEqualsToken=111]="PercentEqualsToken";n[n.LessThanLessThanEqualsToken=112]="LessThanLessThanEqualsToken";n[n.GreaterThanGreaterThanEqualsToken=113]="GreaterThanGreaterThanEqualsToken";n[n.GreaterThanGreaterThanGreaterThanEqualsToken=114]="GreaterThanGreaterThanGreaterThanEqualsToken";n[n.AmpersandEqualsToken=115]="AmpersandEqualsToken";n[n.BarEqualsToken=116]="BarEqualsToken";n[n.CaretEqualsToken=117]="CaretEqualsToken";n[n.SlashToken=118]="SlashToken";n[n.SlashEqualsToken=119]="SlashEqualsToken";n[n.SourceUnit=120]="SourceUnit";n[n.QualifiedName=121]="QualifiedName";n[n.ObjectType=122]="ObjectType";n[n.FunctionType=123]="FunctionType";n[n.ArrayType=124]="ArrayType";n[n.ConstructorType=125]="ConstructorType";n[n.GenericType=126]="GenericType";n[n.TypeQuery=127]="TypeQuery";n[n.InterfaceDeclaration=128]="InterfaceDeclaration";n[n.FunctionDeclaration=129]="FunctionDeclaration";n[n.ModuleDeclaration=130]="ModuleDeclaration";n[n.ClassDeclaration=131]="ClassDeclaration";n[n.EnumDeclaration=132]="EnumDeclaration";n[n.ImportDeclaration=133]="ImportDeclaration";n[n.ExportAssignment=134]="ExportAssignment";n[n.MemberFunctionDeclaration=135]="MemberFunctionDeclaration";n[n.MemberVariableDeclaration=136]="MemberVariableDeclaration";n[n.ConstructorDeclaration=137]="ConstructorDeclaration";n[n.IndexMemberDeclaration=138]="IndexMemberDeclaration";n[n.GetAccessor=139]="GetAccessor";n[n.SetAccessor=140]="SetAccessor";n[n.PropertySignature=141]="PropertySignature";n[n.CallSignature=142]="CallSignature";n[n.ConstructSignature=143]="ConstructSignature";n[n.IndexSignature=144]="IndexSignature";n[n.MethodSignature=145]="MethodSignature";n[n.Block=146]="Block";n[n.IfStatement=147]="IfStatement";n[n.VariableStatement=148]="VariableStatement";n[n.ExpressionStatement=149]="ExpressionStatement";n[n.ReturnStatement=150]="ReturnStatement";n[n.SwitchStatement=151]="SwitchStatement";n[n.BreakStatement=152]="BreakStatement";n[n.ContinueStatement=153]="ContinueStatement";n[n.ForStatement=154]="ForStatement";n[n.ForInStatement=155]="ForInStatement";n[n.EmptyStatement=156]="EmptyStatement";n[n.ThrowStatement=157]="ThrowStatement";n[n.WhileStatement=158]="WhileStatement";n[n.TryStatement=159]="TryStatement";n[n.LabeledStatement=160]="LabeledStatement";n[n.DoStatement=161]="DoStatement";n[n.DebuggerStatement=162]="DebuggerStatement";n[n.WithStatement=163]="WithStatement";n[n.PlusExpression=164]="PlusExpression";n[n.NegateExpression=165]="NegateExpression";n[n.BitwiseNotExpression=166]="BitwiseNotExpression";n[n.LogicalNotExpression=167]="LogicalNotExpression";n[n.PreIncrementExpression=168]="PreIncrementExpression";n[n.PreDecrementExpression=169]="PreDecrementExpression";n[n.DeleteExpression=170]="DeleteExpression";n[n.TypeOfExpression=171]="TypeOfExpression";n[n.VoidExpression=172]="VoidExpression";n[n.CommaExpression=173]="CommaExpression";n[n.AssignmentExpression=174]="AssignmentExpression";n[n.AddAssignmentExpression=175]="AddAssignmentExpression";n[n.SubtractAssignmentExpression=176]="SubtractAssignmentExpression";n[n.MultiplyAssignmentExpression=177]="MultiplyAssignmentExpression";n[n.DivideAssignmentExpression=178]="DivideAssignmentExpression";n[n.ModuloAssignmentExpression=179]="ModuloAssignmentExpression";n[n.AndAssignmentExpression=180]="AndAssignmentExpression";n[n.ExclusiveOrAssignmentExpression=181]="ExclusiveOrAssignmentExpression";n[n.OrAssignmentExpression=182]="OrAssignmentExpression";n[n.LeftShiftAssignmentExpression=183]="LeftShiftAssignmentExpression";n[n.SignedRightShiftAssignmentExpression=184]="SignedRightShiftAssignmentExpression";n[n.UnsignedRightShiftAssignmentExpression=185]="UnsignedRightShiftAssignmentExpression";n[n.ConditionalExpression=186]="ConditionalExpression";n[n.LogicalOrExpression=187]="LogicalOrExpression";n[n.LogicalAndExpression=188]="LogicalAndExpression";n[n.BitwiseOrExpression=189]="BitwiseOrExpression";n[n.BitwiseExclusiveOrExpression=190]="BitwiseExclusiveOrExpression";n[n.BitwiseAndExpression=191]="BitwiseAndExpression";n[n.EqualsWithTypeConversionExpression=192]="EqualsWithTypeConversionExpression";n[n.NotEqualsWithTypeConversionExpression=193]="NotEqualsWithTypeConversionExpression";n[n.EqualsExpression=194]="EqualsExpression";n[n.NotEqualsExpression=195]="NotEqualsExpression";n[n.LessThanExpression=196]="LessThanExpression";n[n.GreaterThanExpression=197]="GreaterThanExpression";n[n.LessThanOrEqualExpression=198]="LessThanOrEqualExpression";n[n.GreaterThanOrEqualExpression=199]="GreaterThanOrEqualExpression";n[n.InstanceOfExpression=200]="InstanceOfExpression";n[n.InExpression=201]="InExpression";n[n.LeftShiftExpression=202]="LeftShiftExpression";n[n.SignedRightShiftExpression=203]="SignedRightShiftExpression";n[n.UnsignedRightShiftExpression=204]="UnsignedRightShiftExpression";n[n.MultiplyExpression=205]="MultiplyExpression";n[n.DivideExpression=206]="DivideExpression";n[n.ModuloExpression=207]="ModuloExpression";n[n.AddExpression=208]="AddExpression";n[n.SubtractExpression=209]="SubtractExpression";n[n.PostIncrementExpression=210]="PostIncrementExpression";n[n.PostDecrementExpression=211]="PostDecrementExpression";n[n.MemberAccessExpression=212]="MemberAccessExpression";n[n.InvocationExpression=213]="InvocationExpression";n[n.ArrayLiteralExpression=214]="ArrayLiteralExpression";n[n.ObjectLiteralExpression=215]="ObjectLiteralExpression";n[n.ObjectCreationExpression=216]="ObjectCreationExpression";n[n.ParenthesizedExpression=217]="ParenthesizedExpression";n[n.ParenthesizedArrowFunctionExpression=218]="ParenthesizedArrowFunctionExpression";n[n.SimpleArrowFunctionExpression=219]="SimpleArrowFunctionExpression";n[n.CastExpression=220]="CastExpression";n[n.ElementAccessExpression=221]="ElementAccessExpression";n[n.FunctionExpression=222]="FunctionExpression";n[n.OmittedExpression=223]="OmittedExpression";n[n.VariableDeclaration=224]="VariableDeclaration";n[n.VariableDeclarator=225]="VariableDeclarator";n[n.ArgumentList=226]="ArgumentList";n[n.ParameterList=227]="ParameterList";n[n.TypeArgumentList=228]="TypeArgumentList";n[n.TypeParameterList=229]="TypeParameterList";n[n.ExtendsHeritageClause=230]="ExtendsHeritageClause";n[n.ImplementsHeritageClause=231]="ImplementsHeritageClause";n[n.EqualsValueClause=232]="EqualsValueClause";n[n.CaseSwitchClause=233]="CaseSwitchClause";n[n.DefaultSwitchClause=234]="DefaultSwitchClause";n[n.ElseClause=235]="ElseClause";n[n.CatchClause=236]="CatchClause";n[n.FinallyClause=237]="FinallyClause";n[n.TypeParameter=238]="TypeParameter";n[n.Constraint=239]="Constraint";n[n.SimplePropertyAssignment=240]="SimplePropertyAssignment";n[n.FunctionPropertyAssignment=241]="FunctionPropertyAssignment";n[n.Parameter=242]="Parameter";n[n.EnumElement=243]="EnumElement";n[n.TypeAnnotation=244]="TypeAnnotation";n[n.ExternalModuleReference=245]="ExternalModuleReference";n[n.ModuleNameModuleReference=246]="ModuleNameModuleReference";n[n.Last=n.ModuleNameModuleReference]="Last";n[n.FirstStandardKeyword=n.BreakKeyword]="FirstStandardKeyword";n[n.LastStandardKeyword=n.WithKeyword]="LastStandardKeyword";n[n.FirstFutureReservedKeyword=n.ClassKeyword]="FirstFutureReservedKeyword";n[n.LastFutureReservedKeyword=n.SuperKeyword]="LastFutureReservedKeyword";n[n.FirstFutureReservedStrictKeyword=n.ImplementsKeyword]="FirstFutureReservedStrictKeyword";n[n.LastFutureReservedStrictKeyword=n.YieldKeyword]="LastFutureReservedStrictKeyword";n[n.FirstTypeScriptKeyword=n.AnyKeyword]="FirstTypeScriptKeyword";n[n.LastTypeScriptKeyword=n.StringKeyword]="LastTypeScriptKeyword";n[n.FirstKeyword=n.FirstStandardKeyword]="FirstKeyword";n[n.LastKeyword=n.LastTypeScriptKeyword]="LastKeyword";n[n.FirstToken=n.ErrorToken]="FirstToken";n[n.LastToken=n.SlashEqualsToken]="LastToken";n[n.FirstPunctuation=n.OpenBraceToken]="FirstPunctuation";n[n.LastPunctuation=n.SlashEqualsToken]="LastPunctuation";n[n.FirstFixedWidth=n.FirstKeyword]="FirstFixedWidth";n[n.LastFixedWidth=n.LastPunctuation]="LastFixedWidth";n[n.FirstTrivia=n.WhitespaceTrivia]="FirstTrivia";n[n.LastTrivia=n.SkippedTokenTrivia]="LastTrivia"})(n.SyntaxKind||(n.SyntaxKind={}));var t=n.SyntaxKind}(TypeScript||(TypeScript={})),function(n){(function(n){function e(n){return t.hasOwnProperty(n)?t[n]:0}function o(n){var t=i[n];return t!==undefined?t:null}function s(n){return n>=9&&n<=119}function h(n){return n>=15&&n<=69}function c(n){return n>=15&&n<=43}function l(n){return n>=44&&n<=50}function a(n){return n>=51&&n<=59}function v(n){return n>=70&&n<=119}function y(n){return u(n)!==0}function p(n){return f(n)!==0}function u(n){switch(n){case 89:return 164;case 90:return 165;case 102:return 166;case 101:return 167;case 93:return 168;case 94:return 169;default:return 0}}function w(n){switch(n){case 93:return 210;case 94:return 211;default:return 0}}function f(n){switch(n){case 91:return 205;case 118:return 206;case 92:return 207;case 89:return 208;case 90:return 209;case 95:return 202;case 96:return 203;case 97:return 204;case 80:return 196;case 81:return 197;case 82:return 198;case 83:return 199;case 30:return 200;case 29:return 201;case 84:return 192;case 86:return 193;case 87:return 194;case 88:return 195;case 98:return 191;case 100:return 190;case 99:return 189;case 103:return 188;case 104:return 187;case 116:return 182;case 115:return 180;case 117:return 181;case 112:return 183;case 113:return 184;case 114:return 185;case 108:return 175;case 109:return 176;case 110:return 177;case 119:return 178;case 111:return 179;case 107:return 174;case 79:return 173;default:return 0}}function b(n){switch(n){case 205:return 91;case 206:return 118;case 207:return 92;case 208:return 89;case 209:return 90;case 202:return 95;case 203:return 96;case 204:return 97;case 196:return 80;case 197:return 81;case 198:return 82;case 199:return 83;case 200:return 30;case 201:return 29;case 192:return 84;case 193:return 86;case 194:return 87;case 195:return 88;case 191:return 98;case 190:return 100;case 189:return 99;case 188:return 103;case 187:return 104;case 182:return 116;case 180:return 115;case 181:return 117;case 183:return 112;case 184:return 113;case 185:return 114;case 175:return 108;case 176:return 109;case 177:return 110;case 178:return 119;case 179:return 111;case 174:return 107;case 173:return 79;default:return 0}}function k(n){switch(n){case 118:case 119:return!0;default:return!1}}function d(n){switch(n){case 118:case 119:case 12:return!0;default:return!1}}var t={any:60,boolean:61,"break":15,"case":16,"catch":17,"class":44,"continue":18,"const":45,constructor:62,"debugger":19,declare:63,"default":20,"delete":21,"do":22,"else":23,"enum":46,"export":47,"extends":48,"false":24,"finally":25,"for":26,"function":27,get:64,"if":28,implements:51,"import":49,"in":29,"instanceof":30,interface:52,let:53,module:65,"new":31,"null":32,number:67,package:54,private:55,protected:56,public:57,require:66,"return":33,set:68,static:58,string:69,"super":50,"switch":34,"this":35,"throw":36,"true":37,"try":38,"typeof":39,"var":40,"void":41,"while":42,"with":43,yield:59,"{":70,"}":71,"(":72,")":73,"[":74,"]":75,".":76,"...":77,";":78,",":79,"<":80,">":81,"<=":82,">=":83,"==":84,"=>":85,"!=":86,"===":87,"!==":88,"+":89,"-":90,"*":91,"%":92,"++":93,"--":94,"<<":95,">>":96,">>>":97,"&":98,"|":99,"^":100,"!":101,"~":102,"&&":103,"||":104,"?":105,":":106,"=":107,"+=":108,"-=":109,"*=":110,"%=":111,"<<=":112,">>=":113,">>>=":114,"&=":115,"|=":116,"^=":117,"/":118,"/=":119},i=[];for(var r in t)t.hasOwnProperty(r)&&(i[t[r]]=r);i[62]="constructor";n.getTokenKind=e;n.getText=o;n.isTokenKind=s;n.isAnyKeyword=h;n.isStandardKeyword=c;n.isFutureReservedKeyword=l;n.isFutureReservedStrictKeyword=a;n.isAnyPunctuation=v;n.isPrefixUnaryExpressionOperatorToken=y;n.isBinaryExpressionOperatorToken=p;n.getPrefixUnaryExpressionFromOperatorToken=u;n.getPostfixUnaryExpressionFromOperatorToken=w;n.getBinaryExpressionFromOperatorToken=f;n.getOperatorTokenFromBinaryExpression=b;n.isAnyDivideToken=k;n.isAnyDivideOrRegularExpressionToken=d})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){for(var u,o,s,e=n.ArrayUtilities.createArray(127,!1),r=n.ArrayUtilities.createArray(127,!1),i=n.ArrayUtilities.createArray(127,!1),f=n.ArrayUtilities.createArray(127,!1),t=0;t<127;t++)t>=97&&t<=122?(r[t]=!0,i[t]=!0):t>=65&&t<=90||t===95||t===36?(r[t]=!0,i[t]=!0):t>=48&&t<=57&&(i[t]=!0,f[t]=!0);for(f[46]=!0,u=15;u<=69;u++)o=n.SyntaxFacts.getText(u),e[o.charCodeAt(0)]=!0;s=function(){function t(t,i,r,u){typeof u=="undefined"&&(u=n.ArrayUtilities.createArray(2048,0));this.slidingWindow=new n.SlidingWindow(this,u,0,i.length());this.fileName=t;this.text=i;this._languageVersion=r}return t.prototype.languageVersion=function(){return this._languageVersion},t.prototype.fetchMoreItems=function(t,i,r,u,f){var o=this.text.length()-i,e=n.MathPrototype.min(o,f);return this.text.copyTo(i,r,u,e),e},t.prototype.currentCharCode=function(){return this.slidingWindow.currentItem(null)},t.prototype.absoluteIndex=function(){return this.slidingWindow.absoluteIndex()},t.prototype.setAbsoluteIndex=function(n){this.slidingWindow.setAbsoluteIndex(n)},t.prototype.scan=function(t,i){var f=t.length,e=this.slidingWindow.absoluteIndex(),o=this.scanTriviaInfo(t,!1),s=this.slidingWindow.absoluteIndex(),r=this.scanSyntaxToken(t,i),h=this.slidingWindow.absoluteIndex(),c=this.scanTriviaInfo(t,!0),l=this.slidingWindow.absoluteIndex(),a=(r&-2147483648)!=0,v=r&2147483647,u=this.createToken(e,o,s,v,h,l,c,a);return f!==t.length?n.Syntax.realizeToken(u):u},t.prototype.createToken=function(t,i,r,u,f,e,o,s){var c,h;return!s&&u>=15?i===0?o===0?new n.Syntax.FixedWidthTokenWithNoTrivia(u):(h=this.text.substr(t,e-t,!1),new n.Syntax.FixedWidthTokenWithTrailingTrivia(h,u,o)):o===0?(h=this.text.substr(t,e-t,!1),new n.Syntax.FixedWidthTokenWithLeadingTrivia(h,u,i)):(h=this.text.substr(t,e-t,!1),new n.Syntax.FixedWidthTokenWithLeadingAndTrailingTrivia(h,u,i,o)):(c=f-r,h=this.text.substr(t,e-t,!1),i===0?o===0?new n.Syntax.VariableWidthTokenWithNoTrivia(h,u):new n.Syntax.VariableWidthTokenWithTrailingTrivia(h,u,o):o===0?new n.Syntax.VariableWidthTokenWithLeadingTrivia(h,u,i):new n.Syntax.VariableWidthTokenWithLeadingAndTrailingTrivia(h,u,i,o))},t.scanTrivia=function(i,r,u,f){var e=new t(null,i.subText(new n.TextSpan(r,u)),1,t.triviaWindow);return e.scanTrivia(i,r,f)},t.prototype.scanTrivia=function(t,i,r){for(var u=[],f,e;;){if(!this.slidingWindow.isAtEndOfSource()){f=this.currentCharCode();switch(f){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:u.push(this.scanWhitespaceTrivia(t,i));continue;case 47:if(e=this.slidingWindow.peekItemN(1),e===47){u.push(this.scanSingleLineCommentTrivia(t,i));continue}if(e===42){u.push(this.scanMultiLineCommentTrivia(t,i));continue}throw n.Errors.invalidOperation();case 13:case 10:case 8233:case 8232:if(u.push(this.scanLineTerminatorSequenceTrivia(f)),!r)continue;break;default:throw n.Errors.invalidOperation();}}return n.Syntax.triviaList(u)}},t.prototype.scanTriviaInfo=function(n,t){for(var i=0,r=0,u,f;;){u=this.currentCharCode();switch(u){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();i++;continue;case 47:if(f=this.slidingWindow.peekItemN(1),f===47){r|=2;i+=this.scanSingleLineCommentTriviaLength();continue}if(f===42){r|=2;i+=this.scanMultiLineCommentTriviaLength(n);continue}break;case 13:case 10:case 8233:case 8232:if(r|=1,i+=this.scanLineTerminatorSequenceLength(u),!t)continue}return i<<2|r}},t.prototype.isNewLineCharacter=function(n){switch(n){case 13:case 10:case 8233:case 8232:return!0;default:return!1}},t.prototype.scanWhitespaceTrivia=function(t,i){for(var f=this.absoluteIndex(),r=0,u;;){u=this.currentCharCode();switch(u){case 32:case 160:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8203:case 8239:case 12288:case 9:case 11:case 12:case 65279:this.slidingWindow.moveToNextItem();r++;continue}break}return n.Syntax.deferredTrivia(4,t,i+f,r)},t.prototype.scanSingleLineCommentTrivia=function(t,i){var r=this.slidingWindow.absoluteIndex(),u=this.scanSingleLineCommentTriviaLength();return n.Syntax.deferredTrivia(7,t,i+r,u)},t.prototype.scanSingleLineCommentTriviaLength=function(){this.slidingWindow.moveToNextItem();this.slidingWindow.moveToNextItem();for(var n=2;;){if(this.slidingWindow.isAtEndOfSource()||this.isNewLineCharacter(this.currentCharCode()))return n;this.slidingWindow.moveToNextItem();n++}},t.prototype.scanMultiLineCommentTrivia=function(t,i){var r=this.absoluteIndex(),u=this.scanMultiLineCommentTriviaLength(null);return n.Syntax.deferredTrivia(6,t,i+r,u)},t.prototype.scanMultiLineCommentTriviaLength=function(t){var i,r;for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i=2;;){if(this.slidingWindow.isAtEndOfSource())return t!==null&&t.push(new n.Diagnostic(this.fileName,this.text.lineMap(),this.slidingWindow.absoluteIndex(),0,n.DiagnosticCode.AsteriskSlash_expected,null)),i;if(r=this.currentCharCode(),r===42&&this.slidingWindow.peekItemN(1)===47)return this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),i+2;this.slidingWindow.moveToNextItem();i++}},t.prototype.scanLineTerminatorSequenceTrivia=function(t){var i=this.slidingWindow.getAndPinAbsoluteIndex(),r=this.scanLineTerminatorSequenceLength(t),u=this.substring(i,i+r,!1);return this.slidingWindow.releaseAndUnpinAbsoluteIndex(i),n.Syntax.trivia(5,u)},t.prototype.scanLineTerminatorSequenceLength=function(n){return this.slidingWindow.moveToNextItem(),n===13&&this.currentCharCode()===10?(this.slidingWindow.moveToNextItem(),2):1},t.prototype.scanSyntaxToken=function(n,t){var i,u;if(this.slidingWindow.isAtEndOfSource())return 10;i=this.currentCharCode();switch(i){case 34:case 39:return this.scanStringLiteral(n);case 47:return this.scanSlashToken(t);case 46:return this.scanDotToken(n);case 45:return this.scanMinusToken();case 33:return this.scanExclamationToken();case 61:return this.scanEqualsToken();case 124:return this.scanBarToken();case 42:return this.scanAsteriskToken();case 43:return this.scanPlusToken();case 37:return this.scanPercentToken();case 38:return this.scanAmpersandToken();case 94:return this.scanCaretToken();case 60:return this.scanLessThanToken();case 62:return this.advanceAndSetTokenKind(81);case 44:return this.advanceAndSetTokenKind(79);case 58:return this.advanceAndSetTokenKind(106);case 59:return this.advanceAndSetTokenKind(78);case 126:return this.advanceAndSetTokenKind(102);case 40:return this.advanceAndSetTokenKind(72);case 41:return this.advanceAndSetTokenKind(73);case 123:return this.advanceAndSetTokenKind(70);case 125:return this.advanceAndSetTokenKind(71);case 91:return this.advanceAndSetTokenKind(74);case 93:return this.advanceAndSetTokenKind(75);case 63:return this.advanceAndSetTokenKind(105)}return f[i]?this.scanNumericLiteral(n):r[i]&&(u=this.tryFastScanIdentifierOrKeyword(i),u!==0)?u:this.isIdentifierStart(this.peekCharOrUnicodeEscape())?this.slowScanIdentifierOrKeyword(n):this.scanDefaultCharacter(i,n)},t.prototype.isIdentifierStart=function(t){return r[t]?!0:t>127&&n.Unicode.isIdentifierStart(t,this._languageVersion)},t.prototype.isIdentifierPart=function(t){return i[t]?!0:t>127&&n.Unicode.isIdentifierPart(t,this._languageVersion)},t.prototype.tryFastScanIdentifierOrKeyword=function(t){for(var r=this.slidingWindow,h=r.window,o=r.currentRelativeItemIndex,c=r.windowCount,u=o,f=0,l,s;u<c;){if(f=h[u],!i[f])break;u++}return u===c?0:f===92||f>127?0:(s=u-o,l=e[t]?n.ScannerUtilities.identifierKind(h,o,s):11,r.setAbsoluteIndex(r.absoluteIndex()+s),l)},t.prototype.slowScanIdentifierOrKeyword=function(t){var u=this.slidingWindow.absoluteIndex(),r=!1,f;do f=this.scanCharOrUnicodeEscape(t),r=r||f;while(this.isIdentifierPart(this.peekCharOrUnicodeEscape()));var e=this.slidingWindow.absoluteIndex()-u,o=this.text.substr(u,e,!1),s=n.Syntax.massageEscapes(o),i=n.SyntaxFacts.getTokenKind(s);return i>=15&&i<=69?r?i|-2147483648:i:11},t.prototype.scanNumericLiteral=function(n){return this.isHexNumericLiteral()?this.scanHexNumericLiteral():this.isOctalNumericLiteral()?this.scanOctalNumericLiteral(n):this.scanDecimalNumericLiteral(),13},t.prototype.isOctalNumericLiteral=function(){return this.currentCharCode()===48&&n.CharacterInfo.isOctalDigit(this.slidingWindow.peekItemN(1))},t.prototype.scanOctalNumericLiteral=function(t){for(var i=this.absoluteIndex();n.CharacterInfo.isOctalDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem();this.languageVersion()>=1&&t.push(new n.Diagnostic(this.fileName,this.text.lineMap(),i,this.absoluteIndex()-i,n.DiagnosticCode.Octal_literals_are_not_available_when_targeting_ECMAScript_5_and_higher,null))},t.prototype.scanDecimalDigits=function(){while(n.CharacterInfo.isDecimalDigit(this.currentCharCode()))this.slidingWindow.moveToNextItem()},t.prototype.scanDecimalNumericLiteral=function(){var i,t,r;this.scanDecimalDigits();this.currentCharCode()===46&&this.slidingWindow.moveToNextItem();this.scanDecimalDigits();i=this.currentCharCode();(i===101||i===69)&&(t=this.slidingWindow.peekItemN(1),n.CharacterInfo.isDecimalDigit(t)?(this.slidingWindow.moveToNextItem(),this.scanDecimalDigits()):(t===45||t===43)&&(r=this.slidingWindow.peekItemN(2),n.CharacterInfo.isDecimalDigit(r)&&(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),this.scanDecimalDigits())))},t.prototype.scanHexNumericLiteral=function(){for(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem();n.CharacterInfo.isHexDigit(this.currentCharCode());)this.slidingWindow.moveToNextItem()},t.prototype.isHexNumericLiteral=function(){if(this.currentCharCode()===48){var t=this.slidingWindow.peekItemN(1);if(t===120||t===88)return t=this.slidingWindow.peekItemN(2),n.CharacterInfo.isHexDigit(t)}return!1},t.prototype.advanceAndSetTokenKind=function(n){return this.slidingWindow.moveToNextItem(),n},t.prototype.scanLessThanToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),82):this.currentCharCode()===60?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),112):95):80},t.prototype.scanBarToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),116):this.currentCharCode()===124?(this.slidingWindow.moveToNextItem(),104):99},t.prototype.scanCaretToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),117):100},t.prototype.scanAmpersandToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),115):this.currentCharCode()===38?(this.slidingWindow.moveToNextItem(),103):98},t.prototype.scanPercentToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),111):92},t.prototype.scanMinusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),109):n===45?(this.slidingWindow.moveToNextItem(),94):90},t.prototype.scanPlusToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),108):n===43?(this.slidingWindow.moveToNextItem(),93):89},t.prototype.scanAsteriskToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),110):91},t.prototype.scanEqualsToken=function(){this.slidingWindow.moveToNextItem();var n=this.currentCharCode();return n===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),87):84):n===62?(this.slidingWindow.moveToNextItem(),85):107},t.prototype.isDotPrefixedNumericLiteral=function(){if(this.currentCharCode()===46){var t=this.slidingWindow.peekItemN(1);return n.CharacterInfo.isDecimalDigit(t)}return!1},t.prototype.scanDotToken=function(n){return this.isDotPrefixedNumericLiteral()?this.scanNumericLiteral(n):(this.slidingWindow.moveToNextItem(),this.currentCharCode()===46&&this.slidingWindow.peekItemN(1)===46?(this.slidingWindow.moveToNextItem(),this.slidingWindow.moveToNextItem(),77):76)},t.prototype.scanSlashToken=function(n){if(n){var t=this.tryScanRegularExpressionToken();if(t!==0)return t}return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),119):118},t.prototype.tryScanRegularExpressionToken=function(){var r=this.slidingWindow.getAndPinAbsoluteIndex(),n,t,u;for(this.slidingWindow.moveToNextItem(),n=!1,t=!1;;){if(u=this.currentCharCode(),this.isNewLineCharacter(u)||this.slidingWindow.isAtEndOfSource())return this.slidingWindow.rewindToPinnedIndex(r),this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),0;if(this.slidingWindow.moveToNextItem(),n){n=!1;continue}switch(u){case 92:n=!0;continue;case 91:t=!0;continue;case 93:t=!1;continue;case 47:if(t)continue;break;default:continue}break}while(i[this.currentCharCode()])this.slidingWindow.moveToNextItem();return this.slidingWindow.releaseAndUnpinAbsoluteIndex(r),12},t.prototype.scanExclamationToken=function(){return this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),this.currentCharCode()===61?(this.slidingWindow.moveToNextItem(),88):86):101},t.prototype.scanDefaultCharacter=function(t,i){var f=this.slidingWindow.absoluteIndex(),r,u;return this.slidingWindow.moveToNextItem(),r=String.fromCharCode(t),u=this.getErrorMessageText(r),i.push(new n.Diagnostic(this.fileName,this.text.lineMap(),f,1,n.DiagnosticCode.Unexpected_character_0,[u])),9},t.prototype.getErrorMessageText=function(n){return n==="\\"?'"\\"':JSON.stringify(n)},t.prototype.skipEscapeSequence=function(n){var t=this.slidingWindow.getAndPinAbsoluteIndex(),i,r;this.slidingWindow.moveToNextItem();i=this.currentCharCode();this.slidingWindow.moveToNextItem();switch(i){case 120:case 117:this.slidingWindow.rewindToPinnedIndex(t);r=this.scanUnicodeOrHexEscape(n);break;case 13:this.currentCharCode()===10&&this.slidingWindow.moveToNextItem()}this.slidingWindow.releaseAndUnpinAbsoluteIndex(t)},t.prototype.scanStringLiteral=function(t){var r=this.currentCharCode(),i;for(this.slidingWindow.moveToNextItem();;)if(i=this.currentCharCode(),i===92)this.skipEscapeSequence(t);else if(i===r){this.slidingWindow.moveToNextItem();break}else if(this.isNewLineCharacter(i)||this.slidingWindow.isAtEndOfSource()){t.push(new n.Diagnostic(this.fileName,this.text.lineMap(),n.MathPrototype.min(this.slidingWindow.absoluteIndex(),this.text.length()),1,n.DiagnosticCode.Missing_close_quote_character,null));break}else this.slidingWindow.moveToNextItem();return 14},t.prototype.isUnicodeEscape=function(n){if(n===92){var t=this.slidingWindow.peekItemN(1);if(t===117)return!0}return!1},t.prototype.peekCharOrUnicodeEscape=function(){var n=this.currentCharCode();return this.isUnicodeEscape(n)?this.peekUnicodeOrHexEscape():n},t.prototype.peekUnicodeOrHexEscape=function(){var n=this.slidingWindow.getAndPinAbsoluteIndex(),t=this.scanUnicodeOrHexEscape(null);return this.slidingWindow.rewindToPinnedIndex(n),this.slidingWindow.releaseAndUnpinAbsoluteIndex(n),t},t.prototype.scanCharOrUnicodeEscape=function(n){var i=this.currentCharCode(),t;return i===92&&(t=this.slidingWindow.peekItemN(1),t===117)?(this.scanUnicodeOrHexEscape(n),!0):(this.slidingWindow.moveToNextItem(),!1)},t.prototype.scanUnicodeOrHexEscape=function(t){var h=this.slidingWindow.absoluteIndex(),f=this.currentCharCode(),i,e,r,u,o,s;for(this.slidingWindow.moveToNextItem(),f=this.currentCharCode(),i=0,this.slidingWindow.moveToNextItem(),e=f===117?4:2,r=0;r<e;r++){if(u=this.currentCharCode(),!n.CharacterInfo.isHexDigit(u)){t!==null&&(o=this.slidingWindow.absoluteIndex(),s=this.createIllegalEscapeDiagnostic(h,o),t.push(s));break}i=(i<<4)+n.CharacterInfo.hexValue(u);this.slidingWindow.moveToNextItem()}return i},t.prototype.substring=function(t,i,r){var f=i-t,u=t-this.slidingWindow.windowAbsoluteStartIndex;return r?n.Collections.DefaultStringTable.addCharArray(this.slidingWindow.window,u,f):n.StringUtilities.fromCharCodeArray(this.slidingWindow.window.slice(u,u+f))},t.prototype.createIllegalEscapeDiagnostic=function(t,i){return new n.Diagnostic(this.fileName,this.text.lineMap(),t,i-t,n.DiagnosticCode.Unrecognized_escape_sequence,null)},t.isValidIdentifier=function(i,r){var e=new t(null,i,r,t.triviaWindow),u=[],f=e.scan(u,!1);return u.length===0&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(f)&&f.width()===i.length()},t.triviaWindow=n.ArrayUtilities.createArray(2048,0),t}();n.Scanner=s}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.identifierKind=function(n,t,i){switch(i){case 2:switch(n[t]){case 100:return n[t+1]===111?22:11;case 105:switch(n[t+1]){case 102:return 28;case 110:return 29;default:return 11}default:return 11}case 3:switch(n[t]){case 102:return n[t+1]===111&&n[t+2]===114?26:11;case 110:return n[t+1]===101&&n[t+2]===119?31:11;case 116:return n[t+1]===114&&n[t+2]===121?38:11;case 118:return n[t+1]===97&&n[t+2]===114?40:11;case 108:return n[t+1]===101&&n[t+2]===116?53:11;case 97:return n[t+1]===110&&n[t+2]===121?60:11;case 103:return n[t+1]===101&&n[t+2]===116?64:11;case 115:return n[t+1]===101&&n[t+2]===116?68:11;default:return 11}case 4:switch(n[t]){case 99:return n[t+1]===97&&n[t+2]===115&&n[t+3]===101?16:11;case 101:switch(n[t+1]){case 108:return n[t+2]===115&&n[t+3]===101?23:11;case 110:return n[t+2]===117&&n[t+3]===109?46:11;default:return 11}case 110:return n[t+1]===117&&n[t+2]===108&&n[t+3]===108?32:11;case 116:switch(n[t+1]){case 104:return n[t+2]===105&&n[t+3]===115?35:11;case 114:return n[t+2]===117&&n[t+3]===101?37:11;default:return 11}case 118:return n[t+1]===111&&n[t+2]===105&&n[t+3]===100?41:11;case 119:return n[t+1]===105&&n[t+2]===116&&n[t+3]===104?43:11;default:return 11}case 5:switch(n[t]){case 98:return n[t+1]===114&&n[t+2]===101&&n[t+3]===97&&n[t+4]===107?15:11;case 99:switch(n[t+1]){case 97:return n[t+2]===116&&n[t+3]===99&&n[t+4]===104?17:11;case 108:return n[t+2]===97&&n[t+3]===115&&n[t+4]===115?44:11;case 111:return n[t+2]===110&&n[t+3]===115&&n[t+4]===116?45:11;default:return 11}case 102:return n[t+1]===97&&n[t+2]===108&&n[t+3]===115&&n[t+4]===101?24:11;case 116:return n[t+1]===104&&n[t+2]===114&&n[t+3]===111&&n[t+4]===119?36:11;case 119:return n[t+1]===104&&n[t+2]===105&&n[t+3]===108&&n[t+4]===101?42:11;case 115:return n[t+1]===117&&n[t+2]===112&&n[t+3]===101&&n[t+4]===114?50:11;case 121:return n[t+1]===105&&n[t+2]===101&&n[t+3]===108&&n[t+4]===100?59:11;default:return 11}case 6:switch(n[t]){case 100:return n[t+1]===101&&n[t+2]===108&&n[t+3]===101&&n[t+4]===116&&n[t+5]===101?21:11;case 114:return n[t+1]===101&&n[t+2]===116&&n[t+3]===117&&n[t+4]===114&&n[t+5]===110?33:11;case 115:switch(n[t+1]){case 119:return n[t+2]===105&&n[t+3]===116&&n[t+4]===99&&n[t+5]===104?34:11;case 116:switch(n[t+2]){case 97:return n[t+3]===116&&n[t+4]===105&&n[t+5]===99?58:11;case 114:return n[t+3]===105&&n[t+4]===110&&n[t+5]===103?69:11;default:return 11}default:return 11}case 116:return n[t+1]===121&&n[t+2]===112&&n[t+3]===101&&n[t+4]===111&&n[t+5]===102?39:11;case 101:return n[t+1]===120&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?47:11;case 105:return n[t+1]===109&&n[t+2]===112&&n[t+3]===111&&n[t+4]===114&&n[t+5]===116?49:11;case 112:return n[t+1]===117&&n[t+2]===98&&n[t+3]===108&&n[t+4]===105&&n[t+5]===99?57:11;case 109:return n[t+1]===111&&n[t+2]===100&&n[t+3]===117&&n[t+4]===108&&n[t+5]===101?65:11;case 110:return n[t+1]===117&&n[t+2]===109&&n[t+3]===98&&n[t+4]===101&&n[t+5]===114?67:11;default:return 11}case 7:switch(n[t]){case 100:switch(n[t+1]){case 101:switch(n[t+2]){case 102:return n[t+3]===97&&n[t+4]===117&&n[t+5]===108&&n[t+6]===116?20:11;case 99:return n[t+3]===108&&n[t+4]===97&&n[t+5]===114&&n[t+6]===101?63:11;default:return 11}default:return 11}case 102:return n[t+1]===105&&n[t+2]===110&&n[t+3]===97&&n[t+4]===108&&n[t+5]===108&&n[t+6]===121?25:11;case 101:return n[t+1]===120&&n[t+2]===116&&n[t+3]===101&&n[t+4]===110&&n[t+5]===100&&n[t+6]===115?48:11;case 112:switch(n[t+1]){case 97:return n[t+2]===99&&n[t+3]===107&&n[t+4]===97&&n[t+5]===103&&n[t+6]===101?54:11;case 114:return n[t+2]===105&&n[t+3]===118&&n[t+4]===97&&n[t+5]===116&&n[t+6]===101?55:11;default:return 11}case 98:return n[t+1]===111&&n[t+2]===111&&n[t+3]===108&&n[t+4]===101&&n[t+5]===97&&n[t+6]===110?61:11;case 114:return n[t+1]===101&&n[t+2]===113&&n[t+3]===117&&n[t+4]===105&&n[t+5]===114&&n[t+6]===101?66:11;default:return 11}case 8:switch(n[t]){case 99:return n[t+1]===111&&n[t+2]===110&&n[t+3]===116&&n[t+4]===105&&n[t+5]===110&&n[t+6]===117&&n[t+7]===101?18:11;case 100:return n[t+1]===101&&n[t+2]===98&&n[t+3]===117&&n[t+4]===103&&n[t+5]===103&&n[t+6]===101&&n[t+7]===114?19:11;case 102:return n[t+1]===117&&n[t+2]===110&&n[t+3]===99&&n[t+4]===116&&n[t+5]===105&&n[t+6]===111&&n[t+7]===110?27:11;default:return 11}case 9:switch(n[t]){case 105:return n[t+1]===110&&n[t+2]===116&&n[t+3]===101&&n[t+4]===114&&n[t+5]===102&&n[t+6]===97&&n[t+7]===99&&n[t+8]===101?52:11;case 112:return n[t+1]===114&&n[t+2]===111&&n[t+3]===116&&n[t+4]===101&&n[t+5]===99&&n[t+6]===116&&n[t+7]===101&&n[t+8]===100?56:11;default:return 11}case 10:switch(n[t]){case 105:switch(n[t+1]){case 110:return n[t+2]===115&&n[t+3]===116&&n[t+4]===97&&n[t+5]===110&&n[t+6]===99&&n[t+7]===101&&n[t+8]===111&&n[t+9]===102?30:11;case 109:return n[t+2]===112&&n[t+3]===108&&n[t+4]===101&&n[t+5]===109&&n[t+6]===101&&n[t+7]===110&&n[t+8]===116&&n[t+9]===115?51:11;default:return 11}default:return 11}case 11:return n[t]===99&&n[t+1]===111&&n[t+2]===110&&n[t+3]===115&&n[t+4]===116&&n[t+5]===114&&n[t+6]===117&&n[t+7]===99&&n[t+8]===116&&n[t+9]===111&&n[t+10]===114?62:11;default:return 11}},n}();n.ScannerUtilities=t}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){return e(n,!1)}function e(n,u){var f,e;if(n===undefined||n===null||n.length===0)return t.emptySeparatedList;if(u)for(f=0;f<n.length;f++)e=n[f],f%2==1;return n.length===1?new i(n[0]):new r(n)}var u=function(){function t(){}return t.prototype.kind=function(){return 2},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.toJSON=function(){return[]},t.prototype.childCount=function(){return 0},t.prototype.nonSeparatorCount=function(){return 0},t.prototype.separatorCount=function(){return 0},t.prototype.toArray=function(){return[]},t.prototype.toNonSeparatorArray=function(){return[]},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.nonSeparatorAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.collectTextElements=function(){},t.prototype.firstToken=function(){return null},t.prototype.lastToken=function(){return null},t.prototype.fullWidth=function(){return 0},t.prototype.fullText=function(){return""},t.prototype.width=function(){return 0},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!1},t.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(){},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.trailingTriviaWidth=function(){return 0},t}(),i,r;t.emptySeparatedList=new u;i=function(){function t(n){this.item=n}return t.prototype.toJSON=function(){return[this.item]},t.prototype.kind=function(){return 2},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.childCount=function(){return 1},t.prototype.nonSeparatorCount=function(){return 1},t.prototype.separatorCount=function(){return 0},t.prototype.toArray=function(){return[this.item]},t.prototype.toNonSeparatorArray=function(){return[this.item]},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.nonSeparatorAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.separatorAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedSeparatedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();r=function(){function t(n){this._data=0;this.elements=n}return t.prototype.kind=function(){return 2},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!0},t.prototype.toJSON=function(){return this.elements},t.prototype.childCount=function(){return this.elements.length},t.prototype.nonSeparatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length+1,2)},t.prototype.separatorCount=function(){return n.IntegerUtilities.integerDivide(this.elements.length,2)},t.prototype.toArray=function(){return this.elements.slice(0)},t.prototype.toNonSeparatorArray=function(){for(var t=[],n=0,i=this.nonSeparatorCount();n<i;n++)t.push(this.nonSeparatorAt(n));return t},t.prototype.childAt=function(t){if(t<0||t>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[t]},t.prototype.nonSeparatorAt=function(t){var i=t*2;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.separatorAt=function(t){var i=t*2+1;if(i<0||i>=this.elements.length)throw n.Errors.argumentOutOfRange("index");return this.elements[i]},t.prototype.firstToken=function(){for(var i,n,t=0,r=this.elements.length;t<r;t++)if(t%2==0){if(i=this.elements[t],n=i.firstToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.lastToken=function(){for(var i,n,t=this.elements.length-1;t>=0;t--)if(t%2==0){if(i=this.elements[t],n=i.lastToken(),n!==null)return n}else if(n=this.elements[t],n.width()>0)return n;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nonSeparatorCount();n<t;n++)if(this.nonSeparatorAt(n).isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var i,u,r=0,n=!1,t=0,f=this.elements.length;t<f;t++)i=this.elements[t],u=i.fullWidth(),r+=u,n=n||i.isIncrementallyUnusable();return r<<3|(n?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedSeparatedList(t,this,r),u=0,o=this.elements.length;u<o;u++){if(e=this.elements[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.elements.length;t<i;t++)r=this.elements[t],r.collectTextElements(n)},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.elements):n.splice.apply(n,[t,0].concat(this.elements))},t}();t.separatedList=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i,r){typeof r=="undefined"&&(r=-1);this.source=n;this.window=t;this.defaultValue=i;this.sourceLength=r;this.windowCount=0;this.windowAbsoluteStartIndex=0;this.currentRelativeItemIndex=0;this._pinCount=0;this.firstPinnedAbsoluteIndex=-1}return t.prototype.windowAbsoluteEndIndex=function(){return this.windowAbsoluteStartIndex+this.windowCount},t.prototype.addMoreItemsToWindow=function(n){if(this.sourceLength>=0&&this.absoluteIndex()>=this.sourceLength)return!1;this.windowCount>=this.window.length&&this.tryShiftOrGrowWindow();var i=this.window.length-this.windowCount,t=this.source.fetchMoreItems(n,this.windowAbsoluteEndIndex(),this.window,this.windowCount,i);return this.windowCount+=t,t>0},t.prototype.tryShiftOrGrowWindow=function(){var r=this.currentRelativeItemIndex>this.window.length>>>1,u=this.firstPinnedAbsoluteIndex===-1||this.firstPinnedAbsoluteIndex>this.windowAbsoluteStartIndex,t,i;r&&u?(t=this.firstPinnedAbsoluteIndex===-1?this.currentRelativeItemIndex:this.firstPinnedAbsoluteIndex-this.windowAbsoluteStartIndex,i=this.windowCount-t,i>0&&n.ArrayUtilities.copy(this.window,t,this.window,0,i),this.windowAbsoluteStartIndex+=t,this.windowCount-=t,this.currentRelativeItemIndex-=t):n.ArrayUtilities.grow(this.window,this.window.length*2,this.defaultValue)},t.prototype.absoluteIndex=function(){return this.windowAbsoluteStartIndex+this.currentRelativeItemIndex},t.prototype.isAtEndOfSource=function(){return this.absoluteIndex()>=this.sourceLength},t.prototype.getAndPinAbsoluteIndex=function(){var n=this.absoluteIndex(),t=this._pinCount++;return t===0&&(this.firstPinnedAbsoluteIndex=n),n},t.prototype.releaseAndUnpinAbsoluteIndex=function(){this._pinCount--;this._pinCount===0&&(this.firstPinnedAbsoluteIndex=-1)},t.prototype.rewindToPinnedIndex=function(n){var t=n-this.windowAbsoluteStartIndex;this.currentRelativeItemIndex=t},t.prototype.currentItem=function(n){return this.currentRelativeItemIndex>=this.windowCount&&!this.addMoreItemsToWindow(n)?this.defaultValue:this.window[this.currentRelativeItemIndex]},t.prototype.peekItemN=function(n){while(this.currentRelativeItemIndex+n>=this.windowCount)if(!this.addMoreItemsToWindow(null))return this.defaultValue;return this.window[this.currentRelativeItemIndex+n]},t.prototype.moveToNextItem=function(){this.currentRelativeItemIndex++},t.prototype.disgardAllItemsFromCurrentIndexOnwards=function(){this.windowCount=this.currentRelativeItemIndex},t.prototype.setAbsoluteIndex=function(n){this.absoluteIndex()!==n&&(this._pinCount>0,n>=this.windowAbsoluteStartIndex&&n<this.windowAbsoluteEndIndex()?this.currentRelativeItemIndex=n-this.windowAbsoluteStartIndex:(this.windowAbsoluteStartIndex=n,this.windowCount=0,this.currentRelativeItemIndex=0))},t.prototype.pinCount=function(){return this._pinCount},t}();n.SlidingWindow=t}(TypeScript||(TypeScript={})),function(n){(function(t){function v(){return n.Syntax.normalModeFactory.sourceUnit(n.Syntax.emptyList,n.Syntax.token(10,{text:""}))}function y(n){var r=n.token(),i,t;return n!==null&&n.kind()===11&&((i=n.containingNode(),t=i.node(),t.kind()===121&&t.right===r)||t.kind()===212&&t.name===r)?i:n}function p(t){if(t!==null){var r=n.Syntax.getStandaloneExpression(t),i=r.containingNode();if(i!==null)switch(i.kind()){case 246:return!0;case 121:return!0;default:return e(t)}}return!1}function e(t){var r=n.Syntax.getStandaloneExpression(t),f=r.containingNode(),i=f.node(),u=r.nodeOrToken();if(i!==null)switch(i.kind()){case 124:return i.type===u;case 220:return i.type===u;case 244:case 230:case 231:case 228:return!0}return!1}function w(t,i){for(var r,f=0,u=0,e=t.childCount();u<e;u++){if(r=t.childAt(u),r===i)return f;r!==null&&(f+=r.fullWidth())}throw n.Errors.invalidOperation();}function b(n,t){for(var r,u=0,i=0;i<t;i++)r=n.childAt(i),r!==null&&(u+=r.fullWidth());return u}function k(t,i){for(var f,r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),f===i)return r;throw n.Errors.invalidOperation();}function i(n,t){return n===null?t===null:n.structuralEquals(t)}function d(n,t){return n===t?!0:n===null||t===null?!1:n.isToken()?t.isToken()?r(n,t):!1:t.isNode()?i(n,t):!1}function r(t,i){return t===i?!0:t===null||i===null?!1:t.kind()===i.kind()&&t.width()===i.width()&&t.fullWidth()===i.fullWidth()&&t.text()===i.text()&&n.Syntax.triviaListStructuralEquals(t.leadingTrivia(),i.leadingTrivia())&&n.Syntax.triviaListStructuralEquals(t.trailingTrivia(),i.trailingTrivia())}function g(t,i){if(t.count()!==i.count())return!1;for(var r=0,u=t.count();r<u;r++)if(!n.Syntax.triviaStructuralEquals(t.syntaxTriviaAt(r),i.syntaxTriviaAt(r)))return!1;return!0}function nt(n,t){return n.kind()===t.kind()&&n.fullWidth()===t.fullWidth()&&n.fullText()===t.fullText()}function o(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function s(t,i){var r,u,f,e;if(t.childCount()!==i.childCount())return!1;for(r=0,u=t.childCount();r<u;r++)if(f=t.childAt(r),e=i.childAt(r),!n.Syntax.nodeOrTokenStructuralEquals(f,e))return!1;return!0}function tt(t,u){if(t===u)return!0;if(t===null||u===null||u.kind()!==u.kind())return!1;if(t.isToken())return r(t,u);if(t.isNode())return i(t,u);if(t.isList())return o(t,u);if(t.isSeparatedList())return s(t,u);throw n.Errors.invalidOperation();}function it(t,i){return typeof i=="undefined"&&(i=null),n.Syntax.identifier(t)}function rt(){return n.Syntax.token(37)}function ut(){return n.Syntax.token(24)}function ft(t){return n.Syntax.token(13,{text:t})}function et(t){return n.Syntax.token(14,{text:t})}function h(n){return n.kind()===213&&n.expression.kind()===50}function ot(n){return n.kind()===149&&h(n.expression)}function c(n){return n.kind()===212&&n.expression.kind()===50}function st(n){return n.kind()===213&&c(n.expression)}function ht(t,i,r){return n.Syntax.normalModeFactory.binaryExpression(174,t,i,r)}function ct(n){for(var i,r,t=0;t<n.childCount();t++)if(i=n.childAt(t),i!==null&&i.isToken()&&(r=i,r.hasSkippedToken()||r.width()===0&&r.kind()!==10))return!0;return!1}function u(n){if(n&&n.kind()===14){var t=n.text();return t.length<2||t.charCodeAt(t.length-1)!==t.charCodeAt(0)}return!1}function l(n){if(n&&n.kind()===6){var t=n.fullText();return t.length<4||t.substring(t.length-2)!=="*/"}return!1}function a(n,t,i){if(n&&n.isComment()&&i>t){var r=t+n.fullWidth();if(i<r)return!0;if(i===r)return n.kind()===7||l(n)}return!1}function lt(n,t){var i=n.findToken(t),r=i.fullStart(),u=null,o=null,e,s,f;if(i.kind()===10?i.token().hasLeadingTrivia()?u=i.token().leadingTrivia():(i=i.previousToken(),i&&i&&i.token().hasTrailingTrivia()&&(u=i.token().trailingTrivia(),r=i.end())):t<=r+i.token().leadingTriviaWidth()?u=i.token().leadingTrivia():t>=r+i.token().width()&&(u=i.token().trailingTrivia(),r=i.end()),u)for(e=0,s=u.count();e<s;e++){if(f=u.syntaxTriviaAt(e),t<=r)break;else if(t<=r+f.fullWidth()&&f.isComment()){o=f;break}r+=f.fullWidth()}return o&&a(o,r,t)}function at(n,t){var i=n.findToken(t);if(i){if(i.kind()===10)return i=i.previousToken(),i&&i.token().trailingTriviaWidth()===0&&u(i.token());if(t>i.start())return t<i.end()&&(i.kind()===14||i.kind()===12)||t<=i.end()&&u(i.token())}return!1}function f(t,i,r){var u=null,f,e,h,o,s;if(r?(u=t.token().leadingTrivia(),f=t.fullStart()):(u=t.token().trailingTrivia(),f=t.end()),u&&u.hasSkippedToken())for(e=0,h=u.count();e<h;e++){if(o=u.syntaxTriviaAt(e),s=o.fullWidth(),o.isSkippedToken()&&i>=f&&i<=f+s)return new n.PositionedSkippedToken(t,o.skippedToken(),f);f+=s}return null}function vt(t,i,r){var u=null,f,e,o,s;if(r?(u=t.token().leadingTrivia(),f=t.fullStart()+u.fullWidth()):(u=t.token().trailingTrivia(),f=t.fullEnd()),u&&u.hasSkippedToken())for(e=u.count()-1;e>=0;e--){if(o=u.syntaxTriviaAt(e),s=o.fullWidth(),o.isSkippedToken()&&i>=f)return new n.PositionedSkippedToken(t,o.skippedToken(),f-s);f-=s}return null}function yt(n,t){return f(n,t,!0)}function pt(n,t){return f(n,t,!1)}function wt(n,t){var i=t<n.start();return f(n,t,i)}function bt(n,t){var i=t<n.start();return vt(n,t,i)}function kt(n,t){while(n&&n.parent()){if(n.parent().kind()===t)return n.parent();n=n.parent()}return null}function dt(t,i){return n.Syntax.getAncestorOfKind(t,i)!==null}function gt(t){if(t)switch(t.kind()){case 164:case 165:return t=t.operand,t.isToken()&&n.IntegerUtilities.isInteger(t.text());case 13:var i=t.text();return n.IntegerUtilities.isInteger(i)||n.IntegerUtilities.isHexInteger(i)}return!1}t.emptySourceUnit=v;t.getStandaloneExpression=y;t.isInModuleOrTypeContext=p;t.isInTypeOnlyContext=e;t.childOffset=w;t.childOffsetAt=b;t.childIndex=k;t.nodeStructuralEquals=i;t.nodeOrTokenStructuralEquals=d;t.tokenStructuralEquals=r;t.triviaListStructuralEquals=g;t.triviaStructuralEquals=nt;t.listStructuralEquals=o;t.separatedListStructuralEquals=s;t.elementStructuralEquals=tt;t.identifierName=it;t.trueExpression=rt;t.falseExpression=ut;t.numericLiteralExpression=ft;t.stringLiteralExpression=et;t.isSuperInvocationExpression=h;t.isSuperInvocationExpressionStatement=ot;t.isSuperMemberAccessExpression=c;t.isSuperMemberAccessInvocationExpression=st;t.assignmentExpression=ht;t.nodeHasSkippedOrMissingTokens=ct;t.isUnterminatedStringLiteral=u;t.isUnterminatedMultilineCommentTrivia=l;t.isEntirelyInsideCommentTrivia=a;t.isEntirelyInsideComment=lt;t.isEntirelyInStringOrRegularExpressionLiteral=at;t.findSkippedTokenInLeadingTriviaList=yt;t.findSkippedTokenInTrailingTriviaList=pt;t.findSkippedTokenInPositionedToken=wt;t.findSkippedTokenOnLeft=bt;t.getAncestorOfKind=kt;t.hasAncestorOfKind=dt;t.isIntegerLiteral=gt})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){var r=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!1)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!1)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!1)},t.prototype.importDeclaration=function(t,i,r,u,f,e){return new n.ImportDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!1)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.heritageClause=function(t,i,r){return new n.HeritageClauseSyntax(t,i,r,!1)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!1)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!1)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!1)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!1)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!1)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!1)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!1)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!1)},t.prototype.simpleArrowFunctionExpression=function(t,i,r,u){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,u,!1)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r,u){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,u,!1)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!1)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!1)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!1)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!1)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!1)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!1)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!1)},t.prototype.typeQuery=function(t,i){return new n.TypeQuerySyntax(t,i,!1)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!1)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!1)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!1)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!1)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!1)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!1)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!1)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!1)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!1)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!1)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!1)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!1)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!1)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!1)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!1)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!1)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!1)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!1)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!1)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!1)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!1)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!1)},t.prototype.constructorDeclaration=function(t,i,r,u,f){return new n.ConstructorDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!1)},t.prototype.getAccessor=function(t,i,r,u,f,e){return new n.GetAccessorSyntax(t,i,r,u,f,e,!1)},t.prototype.setAccessor=function(t,i,r,u,f){return new n.SetAccessorSyntax(t,i,r,u,f,!1)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!1)},t.prototype.indexMemberDeclaration=function(t,i,r){return new n.IndexMemberDeclarationSyntax(t,i,r,!1)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!1)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!1)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!1)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!1)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!1)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!1)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!1)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!1)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!1)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!1)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!1)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!1)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!1)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!1)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!1)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!1)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!1)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!1)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!1)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!1)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!1)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!1)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!1)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!1)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!1)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!1)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!1)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!1)},t}(),i;t.NormalModeFactory=r;i=function(){function t(){}return t.prototype.sourceUnit=function(t,i){return new n.SourceUnitSyntax(t,i,!0)},t.prototype.externalModuleReference=function(t,i,r,u){return new n.ExternalModuleReferenceSyntax(t,i,r,u,!0)},t.prototype.moduleNameModuleReference=function(t){return new n.ModuleNameModuleReferenceSyntax(t,!0)},t.prototype.importDeclaration=function(t,i,r,u,f,e){return new n.ImportDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.exportAssignment=function(t,i,r,u){return new n.ExportAssignmentSyntax(t,i,r,u,!0)},t.prototype.classDeclaration=function(t,i,r,u,f,e,o,s){return new n.ClassDeclarationSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.interfaceDeclaration=function(t,i,r,u,f,e){return new n.InterfaceDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.heritageClause=function(t,i,r){return new n.HeritageClauseSyntax(t,i,r,!0)},t.prototype.moduleDeclaration=function(t,i,r,u,f,e,o){return new n.ModuleDeclarationSyntax(t,i,r,u,f,e,o,!0)},t.prototype.functionDeclaration=function(t,i,r,u,f,e){return new n.FunctionDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.variableStatement=function(t,i,r){return new n.VariableStatementSyntax(t,i,r,!0)},t.prototype.variableDeclaration=function(t,i){return new n.VariableDeclarationSyntax(t,i,!0)},t.prototype.variableDeclarator=function(t,i,r){return new n.VariableDeclaratorSyntax(t,i,r,!0)},t.prototype.equalsValueClause=function(t,i){return new n.EqualsValueClauseSyntax(t,i,!0)},t.prototype.prefixUnaryExpression=function(t,i,r){return new n.PrefixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.arrayLiteralExpression=function(t,i,r){return new n.ArrayLiteralExpressionSyntax(t,i,r,!0)},t.prototype.omittedExpression=function(){return new n.OmittedExpressionSyntax(!0)},t.prototype.parenthesizedExpression=function(t,i,r){return new n.ParenthesizedExpressionSyntax(t,i,r,!0)},t.prototype.simpleArrowFunctionExpression=function(t,i,r,u){return new n.SimpleArrowFunctionExpressionSyntax(t,i,r,u,!0)},t.prototype.parenthesizedArrowFunctionExpression=function(t,i,r,u){return new n.ParenthesizedArrowFunctionExpressionSyntax(t,i,r,u,!0)},t.prototype.qualifiedName=function(t,i,r){return new n.QualifiedNameSyntax(t,i,r,!0)},t.prototype.typeArgumentList=function(t,i,r){return new n.TypeArgumentListSyntax(t,i,r,!0)},t.prototype.constructorType=function(t,i,r,u,f){return new n.ConstructorTypeSyntax(t,i,r,u,f,!0)},t.prototype.functionType=function(t,i,r,u){return new n.FunctionTypeSyntax(t,i,r,u,!0)},t.prototype.objectType=function(t,i,r){return new n.ObjectTypeSyntax(t,i,r,!0)},t.prototype.arrayType=function(t,i,r){return new n.ArrayTypeSyntax(t,i,r,!0)},t.prototype.genericType=function(t,i){return new n.GenericTypeSyntax(t,i,!0)},t.prototype.typeQuery=function(t,i){return new n.TypeQuerySyntax(t,i,!0)},t.prototype.typeAnnotation=function(t,i){return new n.TypeAnnotationSyntax(t,i,!0)},t.prototype.block=function(t,i,r){return new n.BlockSyntax(t,i,r,!0)},t.prototype.parameter=function(t,i,r,u,f,e){return new n.ParameterSyntax(t,i,r,u,f,e,!0)},t.prototype.memberAccessExpression=function(t,i,r){return new n.MemberAccessExpressionSyntax(t,i,r,!0)},t.prototype.postfixUnaryExpression=function(t,i,r){return new n.PostfixUnaryExpressionSyntax(t,i,r,!0)},t.prototype.elementAccessExpression=function(t,i,r,u){return new n.ElementAccessExpressionSyntax(t,i,r,u,!0)},t.prototype.invocationExpression=function(t,i){return new n.InvocationExpressionSyntax(t,i,!0)},t.prototype.argumentList=function(t,i,r,u){return new n.ArgumentListSyntax(t,i,r,u,!0)},t.prototype.binaryExpression=function(t,i,r,u){return new n.BinaryExpressionSyntax(t,i,r,u,!0)},t.prototype.conditionalExpression=function(t,i,r,u,f){return new n.ConditionalExpressionSyntax(t,i,r,u,f,!0)},t.prototype.constructSignature=function(t,i){return new n.ConstructSignatureSyntax(t,i,!0)},t.prototype.methodSignature=function(t,i,r){return new n.MethodSignatureSyntax(t,i,r,!0)},t.prototype.indexSignature=function(t,i,r,u){return new n.IndexSignatureSyntax(t,i,r,u,!0)},t.prototype.propertySignature=function(t,i,r){return new n.PropertySignatureSyntax(t,i,r,!0)},t.prototype.callSignature=function(t,i,r){return new n.CallSignatureSyntax(t,i,r,!0)},t.prototype.parameterList=function(t,i,r){return new n.ParameterListSyntax(t,i,r,!0)},t.prototype.typeParameterList=function(t,i,r){return new n.TypeParameterListSyntax(t,i,r,!0)},t.prototype.typeParameter=function(t,i){return new n.TypeParameterSyntax(t,i,!0)},t.prototype.constraint=function(t,i){return new n.ConstraintSyntax(t,i,!0)},t.prototype.elseClause=function(t,i){return new n.ElseClauseSyntax(t,i,!0)},t.prototype.ifStatement=function(t,i,r,u,f,e){return new n.IfStatementSyntax(t,i,r,u,f,e,!0)},t.prototype.expressionStatement=function(t,i){return new n.ExpressionStatementSyntax(t,i,!0)},t.prototype.constructorDeclaration=function(t,i,r,u,f){return new n.ConstructorDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.memberFunctionDeclaration=function(t,i,r,u,f){return new n.MemberFunctionDeclarationSyntax(t,i,r,u,f,!0)},t.prototype.getAccessor=function(t,i,r,u,f,e){return new n.GetAccessorSyntax(t,i,r,u,f,e,!0)},t.prototype.setAccessor=function(t,i,r,u,f){return new n.SetAccessorSyntax(t,i,r,u,f,!0)},t.prototype.memberVariableDeclaration=function(t,i,r){return new n.MemberVariableDeclarationSyntax(t,i,r,!0)},t.prototype.indexMemberDeclaration=function(t,i,r){return new n.IndexMemberDeclarationSyntax(t,i,r,!0)},t.prototype.throwStatement=function(t,i,r){return new n.ThrowStatementSyntax(t,i,r,!0)},t.prototype.returnStatement=function(t,i,r){return new n.ReturnStatementSyntax(t,i,r,!0)},t.prototype.objectCreationExpression=function(t,i,r){return new n.ObjectCreationExpressionSyntax(t,i,r,!0)},t.prototype.switchStatement=function(t,i,r,u,f,e,o){return new n.SwitchStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.caseSwitchClause=function(t,i,r,u){return new n.CaseSwitchClauseSyntax(t,i,r,u,!0)},t.prototype.defaultSwitchClause=function(t,i,r){return new n.DefaultSwitchClauseSyntax(t,i,r,!0)},t.prototype.breakStatement=function(t,i,r){return new n.BreakStatementSyntax(t,i,r,!0)},t.prototype.continueStatement=function(t,i,r){return new n.ContinueStatementSyntax(t,i,r,!0)},t.prototype.forStatement=function(t,i,r,u,f,e,o,s,h,c){return new n.ForStatementSyntax(t,i,r,u,f,e,o,s,h,c,!0)},t.prototype.forInStatement=function(t,i,r,u,f,e,o,s){return new n.ForInStatementSyntax(t,i,r,u,f,e,o,s,!0)},t.prototype.whileStatement=function(t,i,r,u,f){return new n.WhileStatementSyntax(t,i,r,u,f,!0)},t.prototype.withStatement=function(t,i,r,u,f){return new n.WithStatementSyntax(t,i,r,u,f,!0)},t.prototype.enumDeclaration=function(t,i,r,u,f,e){return new n.EnumDeclarationSyntax(t,i,r,u,f,e,!0)},t.prototype.enumElement=function(t,i){return new n.EnumElementSyntax(t,i,!0)},t.prototype.castExpression=function(t,i,r,u){return new n.CastExpressionSyntax(t,i,r,u,!0)},t.prototype.objectLiteralExpression=function(t,i,r){return new n.ObjectLiteralExpressionSyntax(t,i,r,!0)},t.prototype.simplePropertyAssignment=function(t,i,r){return new n.SimplePropertyAssignmentSyntax(t,i,r,!0)},t.prototype.functionPropertyAssignment=function(t,i,r){return new n.FunctionPropertyAssignmentSyntax(t,i,r,!0)},t.prototype.functionExpression=function(t,i,r,u){return new n.FunctionExpressionSyntax(t,i,r,u,!0)},t.prototype.emptyStatement=function(t){return new n.EmptyStatementSyntax(t,!0)},t.prototype.tryStatement=function(t,i,r,u){return new n.TryStatementSyntax(t,i,r,u,!0)},t.prototype.catchClause=function(t,i,r,u,f,e){return new n.CatchClauseSyntax(t,i,r,u,f,e,!0)},t.prototype.finallyClause=function(t,i){return new n.FinallyClauseSyntax(t,i,!0)},t.prototype.labeledStatement=function(t,i,r){return new n.LabeledStatementSyntax(t,i,r,!0)},t.prototype.doStatement=function(t,i,r,u,f,e,o){return new n.DoStatementSyntax(t,i,r,u,f,e,o,!0)},t.prototype.typeOfExpression=function(t,i){return new n.TypeOfExpressionSyntax(t,i,!0)},t.prototype.deleteExpression=function(t,i){return new n.DeleteExpressionSyntax(t,i,!0)},t.prototype.voidExpression=function(t,i){return new n.VoidExpressionSyntax(t,i,!0)},t.prototype.debuggerStatement=function(t,i){return new n.DebuggerStatementSyntax(t,i,!0)},t}();t.StrictModeFactory=i;t.normalModeFactory=new r;t.strictModeFactory=new i})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function i(n){if(n.kind()===149){var t=n,i=t.expression;if(i.kind()===14)return!0}return!1}function r(n){var i=n,r=i.expression,t=r.text();return t==='"use strict"'||t==="'use strict'"}function u(t){var i=t.tokenKind;return i===11||n.SyntaxFacts.isAnyKeyword(i)}t.isDirectivePrologueElement=i;t.isUseStrictDirective=r;t.isIdentifierNameOrAnyKeyword=u})(n.SyntaxFacts||(n.SyntaxFacts={}));var t=n.SyntaxFacts}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){if(n===undefined||n===null||n.length===0)return t.emptyList;if(n.length===1){var i=n[0];return new r(i)}return new u(n)}var i=function(){function t(){}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[]},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toArray=function(){return[]},t.prototype.collectTextElements=function(){},t.prototype.firstToken=function(){return null},t.prototype.lastToken=function(){return null},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.fullText=function(){return""},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!1},t.prototype.findTokenInternal=function(){throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(){},t}(),r,u;t.EmptySyntaxList=i;t.emptyList=new i;r=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 1},t.prototype.isToken=function(){return!1},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return[this.item]},t.prototype.childCount=function(){return 1},t.prototype.childAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.toArray=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.firstToken=function(){return this.item.firstToken()},t.prototype.lastToken=function(){return this.item.lastToken()},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.width=function(){return this.item.width()},t.prototype.leadingTrivia=function(){return this.item.leadingTrivia()},t.prototype.trailingTrivia=function(){return this.item.trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.item.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.item.trailingTriviaWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.isTypeScriptSpecific=function(){return this.item.isTypeScriptSpecific()},t.prototype.isIncrementallyUnusable=function(){return this.item.isIncrementallyUnusable()},t.prototype.findTokenInternal=function(t,i,r){return this.item.findTokenInternal(new n.PositionedList(t,this,r),i,r)},t.prototype.insertChildrenInto=function(n,t){n.splice(t,0,this.item)},t}();u=function(){function t(n){this._data=0;this.nodeOrTokens=n}return t.prototype.kind=function(){return 1},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!0},t.prototype.isSeparatedList=function(){return!1},t.prototype.toJSON=function(){return this.nodeOrTokens},t.prototype.childCount=function(){return this.nodeOrTokens.length},t.prototype.childAt=function(t){if(t<0||t>=this.nodeOrTokens.length)throw n.Errors.argumentOutOfRange("index");return this.nodeOrTokens[t]},t.prototype.toArray=function(){return this.nodeOrTokens.slice(0)},t.prototype.collectTextElements=function(n){for(var r,t=0,i=this.nodeOrTokens.length;t<i;t++)r=this.nodeOrTokens[t],r.collectTextElements(n)},t.prototype.firstToken=function(){for(var t,n=0,i=this.nodeOrTokens.length;n<i;n++)if(t=this.nodeOrTokens[n].firstToken(),t!==null)return t;return null},t.prototype.lastToken=function(){for(var t,n=this.nodeOrTokens.length-1;n>=0;n--)if(t=this.nodeOrTokens[n].lastToken(),t!==null)return t;return null},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.isTypeScriptSpecific=function(){for(var n=0,t=this.nodeOrTokens.length;n<t;n++)if(this.nodeOrTokens[n].isTypeScriptSpecific())return!0;return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.width=function(){var n=this.fullWidth();return n-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTrivia=function(){return this.firstToken().leadingTrivia()},t.prototype.trailingTrivia=function(){return this.lastToken().trailingTrivia()},t.prototype.leadingTriviaWidth=function(){return this.firstToken().leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){return this.lastToken().trailingTriviaWidth()},t.prototype.computeData=function(){for(var i,r=0,n=!1,t=0,u=this.nodeOrTokens.length;t<u;t++)i=this.nodeOrTokens[t],r+=i.fullWidth(),n=n||i.isIncrementallyUnusable();return r<<3|(n?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data=this.computeData()),this._data},t.prototype.findTokenInternal=function(t,i,r){var u,o,e,f;for(t=new n.PositionedList(t,this,r),u=0,o=this.nodeOrTokens.length;u<o;u++){if(e=this.nodeOrTokens[u],f=e.fullWidth(),i<f)return e.findTokenInternal(t,i,r);i-=f;r+=f}throw n.Errors.invalidOperation();},t.prototype.insertChildrenInto=function(n,t){t===0?n.unshift.apply(n,this.nodeOrTokens):n.splice.apply(n,[t,0].concat(this.nodeOrTokens))},t}();t.list=f})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){this._data=n?4:0}return t.prototype.isNode=function(){return!0},t.prototype.isToken=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){throw n.Errors.abstract();},t.prototype.childCount=function(){throw n.Errors.abstract();},t.prototype.childAt=function(){throw n.Errors.abstract();},t.prototype.firstToken=function(){for(var n,t=0,i=this.childCount();t<i;t++)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.firstToken();return null},t.prototype.lastToken=function(){for(var n,t=this.childCount()-1;t>=0;t--)if(n=this.childAt(t),n!==null&&(n.fullWidth()>0||n.kind()===10))return n.lastToken();return null},t.prototype.insertChildrenInto=function(t,i){for(var r,u=this.childCount()-1;u>=0;u--)if(r=this.childAt(u),r!==null)if(r.isNode()||r.isToken())t.splice(i,0,r);else if(r.isList())r.insertChildrenInto(t,i);else if(r.isSeparatedList())r.insertChildrenInto(t,i);else throw n.Errors.invalidOperation();},t.prototype.leadingTrivia=function(){var t=this.firstToken();return t?t.leadingTrivia():n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){var t=this.lastToken();return t?t.trailingTrivia():n.Syntax.emptyTriviaList},t.prototype.toJSON=function(){var t={kind:n.SyntaxKind[this.kind()],fullWidth:this.fullWidth()},f,i,e,r,u;for(this.isIncrementallyUnusable()&&(t.isIncrementallyUnusable=!0),this.parsedInStrictMode()&&(t.parsedInStrictMode=!0),f=this,i=0,e=this.childCount();i<e;i++)if(r=this.childAt(i),r)for(u in this)if(r===f[u]){t[u]=r;break}return t},t.prototype.accept=function(){throw n.Errors.abstract();},t.prototype.fullText=function(){var n=[];return this.collectTextElements(n),n.join("")},t.prototype.collectTextElements=function(n){for(var i,t=0,r=this.childCount();t<r;t++)i=this.childAt(t),i!==null&&i.collectTextElements(n)},t.prototype.replaceToken=function(t,i){return t===i?this:this.accept(new n.SyntaxTokenReplacer(t,i))},t.prototype.withLeadingTrivia=function(n){return this.replaceToken(this.firstToken(),this.firstToken().withLeadingTrivia(n))},t.prototype.withTrailingTrivia=function(n){return this.replaceToken(this.lastToken(),this.lastToken().withTrailingTrivia(n))},t.prototype.hasLeadingTrivia=function(){return this.lastToken().hasLeadingTrivia()},t.prototype.hasTrailingTrivia=function(){return this.lastToken().hasTrailingTrivia()},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return(this.data()&2)!=0},t.prototype.parsedInStrictMode=function(){return(this.data()&4)!=0},t.prototype.fullWidth=function(){return this.data()>>>3},t.prototype.computeData=function(){for(var n,r=this.childCount(),u=0,f=0,t=(this._data&2)!=0||r===0,i=0,e=r;i<e;i++)n=this.childAt(i),n!==null&&(f=n.fullWidth(),u+=f,t||(t=n.isIncrementallyUnusable()));return u<<3|(t?2:0)|1},t.prototype.data=function(){return(this._data&1)==0&&(this._data|=this.computeData()),this._data},t.prototype.findToken=function(t,i){var u,r;if(typeof i=="undefined"&&(i=!1),u=this.tryGetEndOfFileAt(t),u!==null)return u;if(t<0||t>=this.fullWidth())throw n.Errors.argumentOutOfRange("position");return(r=this.findTokenInternal(null,t,0),i)?n.Syntax.findSkippedTokenInPositionedToken(r,t)||r:r},t.prototype.tryGetEndOfFileAt=function(t){if(this.kind()===120&&t===this.fullWidth()){var i=this;return new n.PositionedToken(new n.PositionedNode(null,i,0),i.endOfFileToken,i.moduleElements.fullWidth())}return null},t.prototype.findTokenInternal=function(t,i,r){var u,o,f,e;for(t=new n.PositionedNode(t,this,r),u=0,o=this.childCount();u<o;u++)if(f=this.childAt(u),f!==null){if(e=f.fullWidth(),i<e)return f.findTokenInternal(t,i,r);i-=e;r+=e}throw n.Errors.invalidOperation();},t.prototype.findTokenOnLeft=function(t,i){typeof i=="undefined"&&(i=!1);var r=this.findToken(t,!1),u=r.start();return(i&&(r=n.Syntax.findSkippedTokenOnLeft(r,t)||r),t>u)?r:r.fullStart()===0?null:r.previousToken(i)},t.prototype.findCompleteTokenOnLeft=function(t,i){typeof i=="undefined"&&(i=!1);var r=this.findToken(t,!1);return(i&&(r=n.Syntax.findSkippedTokenOnLeft(r,t)||r),r.token().width()>0&&t>=r.end())?r:r.previousToken(i)},t.prototype.isModuleElement=function(){return!1},t.prototype.isClassElement=function(){return!1},t.prototype.isTypeMember=function(){return!1},t.prototype.isStatement=function(){return!1},t.prototype.isExpression=function(){return!1},t.prototype.isSwitchClause=function(){return!1},t.prototype.structuralEquals=function(t){var i,r,u,f;if(this===t)return!0;if(t===null||this.kind()!==t.kind())return!1;for(i=0,r=this.childCount();i<r;i++)if(u=this.childAt(i),f=t.childAt(i),!n.Syntax.elementStructuralEquals(u,f))return!1;return!0},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.leadingTriviaWidth=function(){var n=this.firstToken();return n===null?0:n.leadingTriviaWidth()},t.prototype.trailingTriviaWidth=function(){var n=this.lastToken();return n===null?0:n.trailingTriviaWidth()},t}();n.SyntaxNode=t}(TypeScript||(TypeScript={})),function(n){var tu=function(t){function i(n,i,r){t.call(this,r);this.moduleElements=n;this.endOfFileToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitSourceUnit(this)},i.prototype.kind=function(){return 120},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleElements;case 1:return this.endOfFileToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.moduleElements===n&&this.endOfFileToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(t){return new i(n.Syntax.emptyList,t,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleElements=function(n){return this.update(n,this.endOfFileToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withEndOfFileToken=function(n){return this.update(this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return this.moduleElements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode),o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,u,et,ot,f,st,ht,ct,lt,i,at,vt,yt,pt,wt,e,bt,kt,dt,gt,ni,ti,t,r,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu;n.SourceUnitSyntax=tu;o=function(t){function i(n,i,r,u,f){t.call(this,f);this.requireKeyword=n;this.openParenToken=i;this.stringLiteral=r;this.closeParenToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExternalModuleReference(this)},i.prototype.kind=function(){return 245},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.requireKeyword;case 1:return this.openParenToken;case 2:return this.stringLiteral;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleReference=function(){return!0},i.prototype.update=function(n,t,r,u){return this.requireKeyword===n&&this.openParenToken===t&&this.stringLiteral===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(66),n.Syntax.token(72),t,n.Syntax.token(73),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withRequireKeyword=function(n){return this.update(n,this.openParenToken,this.stringLiteral,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.requireKeyword,n,this.stringLiteral,this.closeParenToken)},i.prototype.withStringLiteral=function(n){return this.update(this.requireKeyword,this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.requireKeyword,this.openParenToken,this.stringLiteral,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ExternalModuleReferenceSyntax=o;s=function(t){function i(n,i){t.call(this,i);this.moduleName=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleNameModuleReference(this)},i.prototype.kind=function(){return 246},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.moduleName;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleReference=function(){return!0},i.prototype.update=function(n){return this.moduleName===n?this:new i(n,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModuleName=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ModuleNameModuleReferenceSyntax=s;h=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.importKeyword=i;this.identifier=r;this.equalsToken=u;this.moduleReference=f;this.semicolonToken=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitImportDeclaration(this)},i.prototype.kind=function(){return 133},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.importKeyword;case 2:return this.identifier;case 3:return this.equalsToken;case 4:return this.moduleReference;case 5:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.importKeyword===t&&this.identifier===r&&this.equalsToken===u&&this.moduleReference===f&&this.semicolonToken===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u,f,e){return new i(n.Syntax.emptyList,t,r,u,f,e,!1)},i.create1=function(t,r){return new i(n.Syntax.emptyList,n.Syntax.token(49),t,n.Syntax.token(107),r,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withImportKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.importKeyword,n,this.equalsToken,this.moduleReference,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,n,this.moduleReference,this.semicolonToken)},i.prototype.withModuleReference=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.importKeyword,this.identifier,this.equalsToken,this.moduleReference,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ImportDeclarationSyntax=h;c=function(t){function i(n,i,r,u,f){t.call(this,f);this.exportKeyword=n;this.equalsToken=i;this.identifier=r;this.semicolonToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitExportAssignment(this)},i.prototype.kind=function(){return 134},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.exportKeyword;case 1:return this.equalsToken;case 2:return this.identifier;case 3:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u){return this.exportKeyword===n&&this.equalsToken===t&&this.identifier===r&&this.semicolonToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(47),n.Syntax.token(107),t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExportKeyword=function(n){return this.update(n,this.equalsToken,this.identifier,this.semicolonToken)},i.prototype.withEqualsToken=function(n){return this.update(this.exportKeyword,n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.exportKeyword,this.equalsToken,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.exportKeyword,this.equalsToken,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ExportAssignmentSyntax=c;l=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,h);this.modifiers=n;this.classKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.openBraceToken=e;this.classElements=o;this.closeBraceToken=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitClassDeclaration(this)},i.prototype.kind=function(){return 131},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.classKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.openBraceToken;case 6:return this.classElements;case 7:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.modifiers===n&&this.classKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.openBraceToken===e&&this.classElements===o&&this.closeBraceToken===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,n.Syntax.emptyList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(44),t,null,n.Syntax.emptyList,n.Syntax.token(70),n.Syntax.emptyList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withClassKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.classKeyword,n,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,n,this.heritageClauses,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,n,this.openBraceToken,this.classElements,this.closeBraceToken)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n,this.classElements,this.closeBraceToken)},i.prototype.withClassElements=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withClassElement=function(t){return this.withClassElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.classKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.openBraceToken,this.classElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ClassDeclarationSyntax=l;a=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.interfaceKeyword=i;this.identifier=r;this.typeParameterList=u;this.heritageClauses=f;this.body=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitInterfaceDeclaration(this)},i.prototype.kind=function(){return 128},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.interfaceKeyword;case 2:return this.identifier;case 3:return this.typeParameterList;case 4:return this.heritageClauses;case 5:return this.body;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.interfaceKeyword===t&&this.identifier===r&&this.typeParameterList===u&&this.heritageClauses===f&&this.body===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,r,null,n.Syntax.emptyList,u,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(52),t,null,n.Syntax.emptyList,f.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withInterfaceKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.interfaceKeyword,n,this.typeParameterList,this.heritageClauses,this.body)},i.prototype.withTypeParameterList=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,n,this.heritageClauses,this.body)},i.prototype.withHeritageClauses=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,n,this.body)},i.prototype.withHeritageClause=function(t){return this.withHeritageClauses(n.Syntax.list([t]))},i.prototype.withBody=function(n){return this.update(this.modifiers,this.interfaceKeyword,this.identifier,this.typeParameterList,this.heritageClauses,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.InterfaceDeclarationSyntax=a;v=function(t){function i(n,i,r,u){t.call(this,u);this.extendsOrImplementsKeyword=i;this.typeNames=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitHeritageClause(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsOrImplementsKeyword;case 1:return this.typeNames;default:throw n.Errors.invalidOperation();}},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.extendsOrImplementsKeyword===t&&this.typeNames===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.extendsOrImplementsKeyword,this.typeNames)},i.prototype.withExtendsOrImplementsKeyword=function(n){return this.update(this._kind,n,this.typeNames)},i.prototype.withTypeNames=function(n){return this.update(this._kind,this.extendsOrImplementsKeyword,n)},i.prototype.withTypeName=function(t){return this.withTypeNames(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.HeritageClauseSyntax=v;y=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.modifiers=n;this.moduleKeyword=i;this.name=r;this.stringLiteral=u;this.openBraceToken=f;this.moduleElements=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitModuleDeclaration(this)},i.prototype.kind=function(){return 130},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.moduleKeyword;case 2:return this.name;case 3:return this.stringLiteral;case 4:return this.openBraceToken;case 5:return this.moduleElements;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.modifiers===n&&this.moduleKeyword===t&&this.name===r&&this.stringLiteral===u&&this.openBraceToken===f&&this.moduleElements===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(n.Syntax.emptyList,t,null,null,r,n.Syntax.emptyList,u,!1)},i.create1=function(){return new i(n.Syntax.emptyList,n.Syntax.token(65),null,null,n.Syntax.token(70),n.Syntax.emptyList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.moduleKeyword,this.name,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withModuleKeyword=function(n){return this.update(this.modifiers,n,this.name,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withName=function(n){return this.update(this.modifiers,this.moduleKeyword,n,this.stringLiteral,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withStringLiteral=function(n){return this.update(this.modifiers,this.moduleKeyword,this.name,n,this.openBraceToken,this.moduleElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.name,this.stringLiteral,n,this.moduleElements,this.closeBraceToken)},i.prototype.withModuleElements=function(n){return this.update(this.modifiers,this.moduleKeyword,this.name,this.stringLiteral,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withModuleElement=function(t){return this.withModuleElements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.moduleKeyword,this.name,this.stringLiteral,this.openBraceToken,this.moduleElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ModuleDeclarationSyntax=y;p=function(i){function r(n,t,r,u,f,e,o){i.call(this,o);this.modifiers=n;this.functionKeyword=t;this.identifier=r;this.callSignature=u;this.block=f;this.semicolonToken=e}return __extends(r,i),r.prototype.accept=function(n){return n.visitFunctionDeclaration(this)},r.prototype.kind=function(){return 129},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.functionKeyword;case 2:return this.identifier;case 3:return this.callSignature;case 4:return this.block;case 5:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u,f,e){return this.modifiers===n&&this.functionKeyword===t&&this.identifier===i&&this.callSignature===u&&this.block===f&&this.semicolonToken===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(t,i,u){return new r(n.Syntax.emptyList,t,i,u,null,null,!1)},r.create1=function(i){return new r(n.Syntax.emptyList,n.Syntax.token(27),i,t.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.functionKeyword,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withFunctionKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.callSignature,this.block,this.semicolonToken)},r.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.functionKeyword,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.functionKeyword,this.identifier,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return this.modifiers.childCount()>0?!0:this.callSignature.isTypeScriptSpecific()?!0:this.block!==null&&this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FunctionDeclarationSyntax=p;w=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclaration=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableStatement(this)},i.prototype.kind=function(){return 148},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclaration;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclaration===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclaration,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclaration=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclaration,n)},i.prototype.isTypeScriptSpecific=function(){return this.modifiers.childCount()>0?!0:this.variableDeclaration.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableStatementSyntax=w;b=function(t){function i(n,i,r){t.call(this,r);this.varKeyword=n;this.variableDeclarators=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclaration(this)},i.prototype.kind=function(){return 224},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.varKeyword;case 1:return this.variableDeclarators;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.varKeyword===n&&this.variableDeclarators===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(40),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVarKeyword=function(n){return this.update(n,this.variableDeclarators)},i.prototype.withVariableDeclarators=function(n){return this.update(this.varKeyword,n)},i.prototype.withVariableDeclarator=function(t){return this.withVariableDeclarators(n.Syntax.separatedList([t]))},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclarators.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclarationSyntax=b;k=function(t){function i(n,i,r,u){t.call(this,u);this.propertyName=n;this.typeAnnotation=i;this.equalsValueClause=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitVariableDeclarator(this)},i.prototype.kind=function(){return 225},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.typeAnnotation;case 2:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.typeAnnotation===t&&this.equalsValueClause===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.propertyName,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.propertyName,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null?!0:this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VariableDeclaratorSyntax=k;d=function(t){function i(n,i,r){t.call(this,r);this.equalsToken=n;this.value=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEqualsValueClause(this)},i.prototype.kind=function(){return 232},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.equalsToken;case 1:return this.value;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.equalsToken===n&&this.value===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(107),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withEqualsToken=function(n){return this.update(n,this.value)},i.prototype.withValue=function(n){return this.update(this.equalsToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.value.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EqualsValueClauseSyntax=d;g=function(t){function i(n,i,r,u){t.call(this,u);this.operatorToken=i;this.operand=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPrefixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operatorToken;case 1:return this.operand;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operatorToken===t&&this.operand===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operatorToken,this.operand)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,n,this.operand)},i.prototype.withOperand=function(n){return this.update(this._kind,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PrefixUnaryExpressionSyntax=g;nt=function(t){function i(n,i,r,u){t.call(this,u);this.openBracketToken=n;this.expressions=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayLiteralExpression(this)},i.prototype.kind=function(){return 214},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.expressions;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isPrimaryExpression=function(){return!0},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBracketToken===n&&this.expressions===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(74),n.Syntax.emptySeparatedList,n.Syntax.token(75),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.expressions,this.closeBracketToken)},i.prototype.withExpressions=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken)},i.prototype.withExpression=function(t){return this.withExpressions(n.Syntax.separatedList([t]))},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.expressions,n)},i.prototype.isTypeScriptSpecific=function(){return this.expressions.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArrayLiteralExpressionSyntax=nt;tt=function(t){function i(n){t.call(this,n)}return __extends(i,t),i.prototype.accept=function(n){return n.visitOmittedExpression(this)},i.prototype.kind=function(){return 223},i.prototype.childCount=function(){return 0},i.prototype.childAt=function(){throw n.Errors.invalidOperation();},i.prototype.isExpression=function(){return!0},i.prototype.update=function(){return this},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.OmittedExpressionSyntax=tt;it=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.expression=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParenthesizedExpression(this)},i.prototype.kind=function(){return 217},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.expression;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.isPrimaryExpression=function(){return!0},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.expression===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(72),t,n.Syntax.token(73),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.expression,this.closeParenToken)},i.prototype.withExpression=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParenthesizedExpressionSyntax=it;rt=function(t){function i(n,i,r,u,f){t.call(this,f);this.identifier=n;this.equalsGreaterThanToken=i;this.block=r;this.expression=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimpleArrowFunctionExpression(this)},i.prototype.kind=function(){return 219},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.equalsGreaterThanToken;case 2:return this.block;case 3:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isArrowFunctionExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.identifier===n&&this.equalsGreaterThanToken===t&&this.block===r&&this.expression===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,null,!1)},i.create1=function(t){return new i(t,n.Syntax.token(85),null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.equalsGreaterThanToken,this.block,this.expression)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.identifier,n,this.block,this.expression)},i.prototype.withBlock=function(n){return this.update(this.identifier,this.equalsGreaterThanToken,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.identifier,this.equalsGreaterThanToken,this.block,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.SimpleArrowFunctionExpressionSyntax=rt;ut=function(i){function r(n,t,r,u,f){i.call(this,f);this.callSignature=n;this.equalsGreaterThanToken=t;this.block=r;this.expression=u}return __extends(r,i),r.prototype.accept=function(n){return n.visitParenthesizedArrowFunctionExpression(this)},r.prototype.kind=function(){return 218},r.prototype.childCount=function(){return 4},r.prototype.childAt=function(t){switch(t){case 0:return this.callSignature;case 1:return this.equalsGreaterThanToken;case 2:return this.block;case 3:return this.expression;default:throw n.Errors.invalidOperation();}},r.prototype.isArrowFunctionExpression=function(){return!0},r.prototype.isUnaryExpression=function(){return!0},r.prototype.isExpression=function(){return!0},r.prototype.update=function(n,t,i,u){return this.callSignature===n&&this.equalsGreaterThanToken===t&&this.block===i&&this.expression===u?this:new r(n,t,i,u,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,t,null,null,!1)},r.create1=function(){return new r(t.create1(),n.Syntax.token(85),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCallSignature=function(n){return this.update(n,this.equalsGreaterThanToken,this.block,this.expression)},r.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.callSignature,n,this.block,this.expression)},r.prototype.withBlock=function(n){return this.update(this.callSignature,this.equalsGreaterThanToken,n,this.expression)},r.prototype.withExpression=function(n){return this.update(this.callSignature,this.equalsGreaterThanToken,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.ParenthesizedArrowFunctionExpressionSyntax=ut;ft=function(t){function i(n,i,r,u){t.call(this,u);this.left=n;this.dotToken=i;this.right=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitQualifiedName(this)},i.prototype.kind=function(){return 121},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.dotToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isName=function(){return!0},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t,r){return this.left===n&&this.dotToken===t&&this.right===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(76),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLeft=function(n){return this.update(n,this.dotToken,this.right)},i.prototype.withDotToken=function(n){return this.update(this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this.left,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.QualifiedNameSyntax=ft;u=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeArguments=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeArgumentList(this)},i.prototype.kind=function(){return 228},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeArguments;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeArguments===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(80),n.Syntax.emptySeparatedList,n.Syntax.token(81),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeArguments,this.greaterThanToken)},i.prototype.withTypeArguments=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeArgument=function(t){return this.withTypeArguments(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeArguments,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeArgumentListSyntax=u;et=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.newKeyword=n;this.typeParameterList=i;this.parameterList=r;this.equalsGreaterThanToken=u;this.type=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstructorType(this)},i.prototype.kind=function(){return 125},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.typeParameterList;case 2:return this.parameterList;case 3:return this.equalsGreaterThanToken;case 4:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.newKeyword===n&&this.typeParameterList===t&&this.parameterList===r&&this.equalsGreaterThanToken===u&&this.type===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create=function(n,t,r,u){return new i(n,null,t,r,u,!1)},i.create1=function(t){return new i(n.Syntax.token(31),null,r.create1(),n.Syntax.token(85),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withTypeParameterList=function(n){return this.update(this.newKeyword,n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.newKeyword,this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.newKeyword,this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstructorTypeSyntax=et;ot=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeParameterList=n;this.parameterList=i;this.equalsGreaterThanToken=r;this.type=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitFunctionType(this)},i.prototype.kind=function(){return 123},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.equalsGreaterThanToken;case 3:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t,r,u){return this.typeParameterList===n&&this.parameterList===t&&this.equalsGreaterThanToken===r&&this.type===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(null,n,t,r,!1)},i.create1=function(t){return new i(null,r.create1(),n.Syntax.token(85),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.equalsGreaterThanToken,this.type)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.equalsGreaterThanToken,this.type)},i.prototype.withEqualsGreaterThanToken=function(n){return this.update(this.typeParameterList,this.parameterList,n,this.type)},i.prototype.withType=function(n){return this.update(this.typeParameterList,this.parameterList,this.equalsGreaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.FunctionTypeSyntax=ot;f=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.typeMembers=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectType(this)},i.prototype.kind=function(){return 122},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.typeMembers;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.typeMembers===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(70),n.Syntax.emptySeparatedList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.typeMembers,this.closeBraceToken)},i.prototype.withTypeMembers=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withTypeMember=function(t){return this.withTypeMembers(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.typeMembers,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ObjectTypeSyntax=f;st=function(t){function i(n,i,r,u){t.call(this,u);this.type=n;this.openBracketToken=i;this.closeBracketToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArrayType(this)},i.prototype.kind=function(){return 124},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.type;case 1:return this.openBracketToken;case 2:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t,r){return this.type===n&&this.openBracketToken===t&&this.closeBracketToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(74),n.Syntax.token(75),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withType=function(n){return this.update(n,this.openBracketToken,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.type,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.type,this.openBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ArrayTypeSyntax=st;ht=function(t){function i(n,i,r){t.call(this,r);this.name=n;this.typeArgumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitGenericType(this)},i.prototype.kind=function(){return 126},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.name;case 1:return this.typeArgumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t){return this.name===n&&this.typeArgumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,u.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withName=function(n){return this.update(n,this.typeArgumentList)},i.prototype.withTypeArgumentList=function(n){return this.update(this.name,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.GenericTypeSyntax=ht;ct=function(t){function i(n,i,r){t.call(this,r);this.typeOfKeyword=n;this.name=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeQuery(this)},i.prototype.kind=function(){return 127},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.name;default:throw n.Errors.invalidOperation();}},i.prototype.isType=function(){return!0},i.prototype.update=function(n,t){return this.typeOfKeyword===n&&this.name===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(39),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeOfKeyword=function(n){return this.update(n,this.name)},i.prototype.withName=function(n){return this.update(this.typeOfKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeQuerySyntax=ct;lt=function(t){function i(n,i,r){t.call(this,r);this.colonToken=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeAnnotation(this)},i.prototype.kind=function(){return 244},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.colonToken;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.colonToken===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(106),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withColonToken=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeAnnotationSyntax=lt;i=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.statements=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBlock(this)},i.prototype.kind=function(){return 146},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.statements;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.statements===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptyList,r,!1)},i.create1=function(){return new i(n.Syntax.token(70),n.Syntax.emptyList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.statements,this.closeBraceToken)},i.prototype.withStatements=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.statements,n)},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BlockSyntax=i;at=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.dotDotDotToken=n;this.modifiers=i;this.identifier=r;this.questionToken=u;this.typeAnnotation=f;this.equalsValueClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameter(this)},i.prototype.kind=function(){return 242},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.dotDotDotToken;case 1:return this.modifiers;case 2:return this.identifier;case 3:return this.questionToken;case 4:return this.typeAnnotation;case 5:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u,f,e){return this.dotDotDotToken===n&&this.modifiers===t&&this.identifier===r&&this.questionToken===u&&this.typeAnnotation===f&&this.equalsValueClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t){return new i(null,n.Syntax.emptyList,t,null,null,null,!1)},i.create1=function(t){return new i(null,n.Syntax.emptyList,t,null,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDotDotDotToken=function(n){return this.update(n,this.modifiers,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withModifiers=function(n){return this.update(this.dotDotDotToken,n,this.identifier,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withIdentifier=function(n){return this.update(this.dotDotDotToken,this.modifiers,n,this.questionToken,this.typeAnnotation,this.equalsValueClause)},i.prototype.withQuestionToken=function(n){return this.update(this.dotDotDotToken,this.modifiers,this.identifier,n,this.typeAnnotation,this.equalsValueClause)},i.prototype.withTypeAnnotation=function(n){return this.update(this.dotDotDotToken,this.modifiers,this.identifier,this.questionToken,n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.dotDotDotToken,this.modifiers,this.identifier,this.questionToken,this.typeAnnotation,n)},i.prototype.isTypeScriptSpecific=function(){return this.dotDotDotToken!==null?!0:this.modifiers.isTypeScriptSpecific()?!0:this.questionToken!==null?!0:this.typeAnnotation!==null?!0:this.equalsValueClause!==null?!0:!1},i}(n.SyntaxNode);n.ParameterSyntax=at;vt=function(t){function i(n,i,r,u){t.call(this,u);this.expression=n;this.dotToken=i;this.name=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberAccessExpression(this)},i.prototype.kind=function(){return 212},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.dotToken;case 2:return this.name;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.expression===n&&this.dotToken===t&&this.name===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(76),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.dotToken,this.name)},i.prototype.withDotToken=function(n){return this.update(this.expression,n,this.name)},i.prototype.withName=function(n){return this.update(this.expression,this.dotToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.MemberAccessExpressionSyntax=vt;yt=function(t){function i(n,i,r,u){t.call(this,u);this.operand=i;this.operatorToken=r;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitPostfixUnaryExpression(this)},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.operand;case 1:return this.operatorToken;default:throw n.Errors.invalidOperation();}},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r){return this._kind===n&&this.operand===t&&this.operatorToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.operand,this.operatorToken)},i.prototype.withOperand=function(n){return this.update(this._kind,n,this.operatorToken)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.operand,n)},i.prototype.isTypeScriptSpecific=function(){return this.operand.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.PostfixUnaryExpressionSyntax=yt;pt=function(t){function i(n,i,r,u,f){t.call(this,f);this.expression=n;this.openBracketToken=i;this.argumentExpression=r;this.closeBracketToken=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitElementAccessExpression(this)},i.prototype.kind=function(){return 221},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.openBracketToken;case 2:return this.argumentExpression;case 3:return this.closeBracketToken;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.expression===n&&this.openBracketToken===t&&this.argumentExpression===r&&this.closeBracketToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(74),r,n.Syntax.token(75),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.openBracketToken,this.argumentExpression,this.closeBracketToken)},i.prototype.withOpenBracketToken=function(n){return this.update(this.expression,n,this.argumentExpression,this.closeBracketToken)},i.prototype.withArgumentExpression=function(n){return this.update(this.expression,this.openBracketToken,n,this.closeBracketToken)},i.prototype.withCloseBracketToken=function(n){return this.update(this.expression,this.openBracketToken,this.argumentExpression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentExpression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElementAccessExpressionSyntax=pt;wt=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.argumentList=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitInvocationExpression(this)},i.prototype.kind=function(){return 213},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.argumentList===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(n){return new i(n,e.create1(),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.InvocationExpressionSyntax=wt;e=function(t){function i(n,i,r,u,f){t.call(this,f);this.typeArgumentList=n;this.openParenToken=i;this.closeParenToken=u;this.arguments=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitArgumentList(this)},i.prototype.kind=function(){return 226},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.typeArgumentList;case 1:return this.openParenToken;case 2:return this.arguments;case 3:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r,u){return this.typeArgumentList===n&&this.openParenToken===t&&this.arguments===r&&this.closeParenToken===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r){return new i(null,t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(null,n.Syntax.token(72),n.Syntax.emptySeparatedList,n.Syntax.token(73),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeArgumentList=function(n){return this.update(n,this.openParenToken,this.arguments,this.closeParenToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.typeArgumentList,n,this.arguments,this.closeParenToken)},i.prototype.withArguments=function(n){return this.update(this.typeArgumentList,this.openParenToken,n,this.closeParenToken)},i.prototype.withArgument=function(t){return this.withArguments(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.typeArgumentList,this.openParenToken,this.arguments,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeArgumentList!==null&&this.typeArgumentList.isTypeScriptSpecific()?!0:this.arguments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ArgumentListSyntax=e;bt=function(t){function i(n,i,r,u,f){t.call(this,f);this.left=i;this.operatorToken=r;this.right=u;this._kind=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitBinaryExpression(this)},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.left;case 1:return this.operatorToken;case 2:return this.right;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.kind=function(){return this._kind},i.prototype.update=function(n,t,r,u){return this._kind===n&&this.left===t&&this.operatorToken===r&&this.right===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withKind=function(n){return this.update(n,this.left,this.operatorToken,this.right)},i.prototype.withLeft=function(n){return this.update(this._kind,n,this.operatorToken,this.right)},i.prototype.withOperatorToken=function(n){return this.update(this._kind,this.left,n,this.right)},i.prototype.withRight=function(n){return this.update(this._kind,this.left,this.operatorToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.left.isTypeScriptSpecific()?!0:this.right.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.BinaryExpressionSyntax=bt;kt=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.condition=n;this.questionToken=i;this.whenTrue=r;this.colonToken=u;this.whenFalse=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitConditionalExpression(this)},i.prototype.kind=function(){return 186},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.condition;case 1:return this.questionToken;case 2:return this.whenTrue;case 3:return this.colonToken;case 4:return this.whenFalse;default:throw n.Errors.invalidOperation();}},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.condition===n&&this.questionToken===t&&this.whenTrue===r&&this.colonToken===u&&this.whenFalse===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r,u){return new i(t,n.Syntax.token(105),r,n.Syntax.token(106),u,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCondition=function(n){return this.update(n,this.questionToken,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withQuestionToken=function(n){return this.update(this.condition,n,this.whenTrue,this.colonToken,this.whenFalse)},i.prototype.withWhenTrue=function(n){return this.update(this.condition,this.questionToken,n,this.colonToken,this.whenFalse)},i.prototype.withColonToken=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,n,this.whenFalse)},i.prototype.withWhenFalse=function(n){return this.update(this.condition,this.questionToken,this.whenTrue,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.whenTrue.isTypeScriptSpecific()?!0:this.whenFalse.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ConditionalExpressionSyntax=kt;dt=function(i){function r(n,t,r){i.call(this,r);this.newKeyword=n;this.callSignature=t}return __extends(r,i),r.prototype.accept=function(n){return n.visitConstructSignature(this)},r.prototype.kind=function(){return 143},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t){return this.newKeyword===n&&this.callSignature===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(31),t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withNewKeyword=function(n){return this.update(n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.newKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.ConstructSignatureSyntax=dt;gt=function(i){function r(n,t,r,u){i.call(this,u);this.propertyName=n;this.questionToken=t;this.callSignature=r}return __extends(r,i),r.prototype.accept=function(n){return n.visitMethodSignature(this)},r.prototype.kind=function(){return 145},r.prototype.childCount=function(){return 3},r.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.callSignature;default:throw n.Errors.invalidOperation();}},r.prototype.isTypeMember=function(){return!0},r.prototype.update=function(n,t,i){return this.propertyName===n&&this.questionToken===t&&this.callSignature===i?this:new r(n,t,i,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,null,t,!1)},r.create1=function(n){return new r(n,null,t.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.callSignature)},r.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.callSignature)},r.prototype.withCallSignature=function(n){return this.update(this.propertyName,this.questionToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.MethodSignatureSyntax=gt;ni=function(t){function i(n,i,r,u,f){t.call(this,f);this.openBracketToken=n;this.parameter=i;this.closeBracketToken=r;this.typeAnnotation=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitIndexSignature(this)},i.prototype.kind=function(){return 144},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.openBracketToken;case 1:return this.parameter;case 2:return this.closeBracketToken;case 3:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r,u){return this.openBracketToken===n&&this.parameter===t&&this.closeBracketToken===r&&this.typeAnnotation===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(n,t,r){return new i(n,t,r,null,!1)},i.create1=function(t){return new i(n.Syntax.token(74),t,n.Syntax.token(75),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBracketToken=function(n){return this.update(n,this.parameter,this.closeBracketToken,this.typeAnnotation)},i.prototype.withParameter=function(n){return this.update(this.openBracketToken,n,this.closeBracketToken,this.typeAnnotation)},i.prototype.withCloseBracketToken=function(n){return this.update(this.openBracketToken,this.parameter,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.openBracketToken,this.parameter,this.closeBracketToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.IndexSignatureSyntax=ni;ti=function(t){function i(n,i,r,u){t.call(this,u);this.propertyName=n;this.questionToken=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitPropertySignature(this)},i.prototype.kind=function(){return 141},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.questionToken;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.questionToken===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,null,!1)},i.create1=function(n){return new i(n,null,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.questionToken,this.typeAnnotation)},i.prototype.withQuestionToken=function(n){return this.update(this.propertyName,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.propertyName,this.questionToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.PropertySignatureSyntax=ti;t=function(t){function i(n,i,r,u){t.call(this,u);this.typeParameterList=n;this.parameterList=i;this.typeAnnotation=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitCallSignature(this)},i.prototype.kind=function(){return 142},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.typeParameterList;case 1:return this.parameterList;case 2:return this.typeAnnotation;default:throw n.Errors.invalidOperation();}},i.prototype.isTypeMember=function(){return!0},i.prototype.update=function(n,t,r){return this.typeParameterList===n&&this.parameterList===t&&this.typeAnnotation===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n){return new i(null,n,null,!1)},i.create1=function(){return new i(null,r.create1(),null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeParameterList=function(n){return this.update(n,this.parameterList,this.typeAnnotation)},i.prototype.withParameterList=function(n){return this.update(this.typeParameterList,n,this.typeAnnotation)},i.prototype.withTypeAnnotation=function(n){return this.update(this.typeParameterList,this.parameterList,n)},i.prototype.isTypeScriptSpecific=function(){return this.typeParameterList!==null?!0:this.parameterList.isTypeScriptSpecific()?!0:this.typeAnnotation!==null?!0:!1},i}(n.SyntaxNode);n.CallSignatureSyntax=t;r=function(t){function i(n,i,r,u){t.call(this,u);this.openParenToken=n;this.parameters=i;this.closeParenToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitParameterList(this)},i.prototype.kind=function(){return 227},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openParenToken;case 1:return this.parameters;case 2:return this.closeParenToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.openParenToken===n&&this.parameters===t&&this.closeParenToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(72),n.Syntax.emptySeparatedList,n.Syntax.token(73),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenParenToken=function(n){return this.update(n,this.parameters,this.closeParenToken)},i.prototype.withParameters=function(n){return this.update(this.openParenToken,n,this.closeParenToken)},i.prototype.withParameter=function(t){return this.withParameters(n.Syntax.separatedList([t]))},i.prototype.withCloseParenToken=function(n){return this.update(this.openParenToken,this.parameters,n)},i.prototype.isTypeScriptSpecific=function(){return this.parameters.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ParameterListSyntax=r;ii=function(t){function i(n,i,r,u){t.call(this,u);this.lessThanToken=n;this.typeParameters=i;this.greaterThanToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameterList(this)},i.prototype.kind=function(){return 229},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.typeParameters;case 2:return this.greaterThanToken;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t,r){return this.lessThanToken===n&&this.typeParameters===t&&this.greaterThanToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(80),n.Syntax.emptySeparatedList,n.Syntax.token(81),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.typeParameters,this.greaterThanToken)},i.prototype.withTypeParameters=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken)},i.prototype.withTypeParameter=function(t){return this.withTypeParameters(n.Syntax.separatedList([t]))},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.typeParameters,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterListSyntax=ii;ri=function(t){function i(n,i,r){t.call(this,r);this.identifier=n;this.constraint=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeParameter(this)},i.prototype.kind=function(){return 238},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.constraint;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.identifier===n&&this.constraint===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.constraint)},i.prototype.withConstraint=function(n){return this.update(this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.TypeParameterSyntax=ri;ui=function(t){function i(n,i,r){t.call(this,r);this.extendsKeyword=n;this.type=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitConstraint(this)},i.prototype.kind=function(){return 239},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.extendsKeyword;case 1:return this.type;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.extendsKeyword===n&&this.type===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(48),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExtendsKeyword=function(n){return this.update(n,this.type)},i.prototype.withType=function(n){return this.update(this.extendsKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.ConstraintSyntax=ui;fi=function(t){function i(n,i,r){t.call(this,r);this.elseKeyword=n;this.statement=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitElseClause(this)},i.prototype.kind=function(){return 235},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.elseKeyword;case 1:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.elseKeyword===n&&this.statement===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(23),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withElseKeyword=function(n){return this.update(n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.elseKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ElseClauseSyntax=fi;ei=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.ifKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f;this.elseClause=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitIfStatement(this)},i.prototype.kind=function(){return 147},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.ifKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;case 5:return this.elseClause;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.ifKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f&&this.elseClause===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(n,t,r,u,f){return new i(n,t,r,u,f,null,!1)},i.create1=function(t,r){return new i(n.Syntax.token(28),n.Syntax.token(72),t,n.Syntax.token(73),r,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIfKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withOpenParenToken=function(n){return this.update(this.ifKeyword,n,this.condition,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCondition=function(n){return this.update(this.ifKeyword,this.openParenToken,n,this.closeParenToken,this.statement,this.elseClause)},i.prototype.withCloseParenToken=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,n,this.statement,this.elseClause)},i.prototype.withStatement=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,n,this.elseClause)},i.prototype.withElseClause=function(n){return this.update(this.ifKeyword,this.openParenToken,this.condition,this.closeParenToken,this.statement,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:this.elseClause!==null&&this.elseClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.IfStatementSyntax=ei;oi=function(t){function i(n,i,r){t.call(this,r);this.expression=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitExpressionStatement(this)},i.prototype.kind=function(){return 149},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.expression;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.expression===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withExpression=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ExpressionStatementSyntax=oi;si=function(i){function r(n,t,r,u,f,e){i.call(this,e);this.modifiers=n;this.constructorKeyword=t;this.callSignature=r;this.block=u;this.semicolonToken=f}return __extends(r,i),r.prototype.accept=function(n){return n.visitConstructorDeclaration(this)},r.prototype.kind=function(){return 137},r.prototype.childCount=function(){return 5},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.constructorKeyword;case 2:return this.callSignature;case 3:return this.block;case 4:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isClassElement=function(){return!0},r.prototype.update=function(n,t,i,u,f){return this.modifiers===n&&this.constructorKeyword===t&&this.callSignature===i&&this.block===u&&this.semicolonToken===f?this:new r(n,t,i,u,f,this.parsedInStrictMode())},r.create=function(t,i){return new r(n.Syntax.emptyList,t,i,null,null,!1)},r.create1=function(){return new r(n.Syntax.emptyList,n.Syntax.token(62),t.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.constructorKeyword,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withConstructorKeyword=function(n){return this.update(this.modifiers,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.constructorKeyword,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.constructorKeyword,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.constructorKeyword,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.ConstructorDeclarationSyntax=si;hi=function(i){function r(n,t,r,u,f,e){i.call(this,e);this.modifiers=n;this.propertyName=t;this.callSignature=r;this.block=u;this.semicolonToken=f}return __extends(r,i),r.prototype.accept=function(n){return n.visitMemberFunctionDeclaration(this)},r.prototype.kind=function(){return 135},r.prototype.childCount=function(){return 5},r.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.propertyName;case 2:return this.callSignature;case 3:return this.block;case 4:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},r.prototype.isMemberDeclaration=function(){return!0},r.prototype.isClassElement=function(){return!0},r.prototype.update=function(n,t,i,u,f){return this.modifiers===n&&this.propertyName===t&&this.callSignature===i&&this.block===u&&this.semicolonToken===f?this:new r(n,t,i,u,f,this.parsedInStrictMode())},r.create=function(t,i){return new r(n.Syntax.emptyList,t,i,null,null,!1)},r.create1=function(i){return new r(n.Syntax.emptyList,i,t.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return i.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return i.prototype.withTrailingTrivia.call(this,n)},r.prototype.withModifiers=function(n){return this.update(n,this.propertyName,this.callSignature,this.block,this.semicolonToken)},r.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},r.prototype.withPropertyName=function(n){return this.update(this.modifiers,n,this.callSignature,this.block,this.semicolonToken)},r.prototype.withCallSignature=function(n){return this.update(this.modifiers,this.propertyName,n,this.block,this.semicolonToken)},r.prototype.withBlock=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,n,this.semicolonToken)},r.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.propertyName,this.callSignature,this.block,n)},r.prototype.isTypeScriptSpecific=function(){return!0},r}(n.SyntaxNode);n.MemberFunctionDeclarationSyntax=hi;ci=function(t){function u(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.getKeyword=i;this.propertyName=r;this.parameterList=u;this.typeAnnotation=f;this.block=e}return __extends(u,t),u.prototype.accept=function(n){return n.visitGetAccessor(this)},u.prototype.kind=function(){return 139},u.prototype.childCount=function(){return 6},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.getKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.typeAnnotation;case 5:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isMemberDeclaration=function(){return!0},u.prototype.isPropertyAssignment=function(){return!0},u.prototype.isClassElement=function(){return!0},u.prototype.update=function(n,t,i,r,f,e){return this.modifiers===n&&this.getKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.typeAnnotation===f&&this.block===e?this:new u(n,t,i,r,f,e,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,null,f,!1)},u.create1=function(t){return new u(n.Syntax.emptyList,n.Syntax.token(64),t,r.create1(),null,i.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withGetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.getKeyword,n,this.parameterList,this.typeAnnotation,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,n,this.typeAnnotation,this.block)},u.prototype.withTypeAnnotation=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.getKeyword,this.propertyName,this.parameterList,this.typeAnnotation,n)},u.prototype.isTypeScriptSpecific=function(){return this.modifiers.childCount()>0?!0:this.parameterList.isTypeScriptSpecific()?!0:this.typeAnnotation!==null?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(n.SyntaxNode);n.GetAccessorSyntax=ci;li=function(t){function u(n,i,r,u,f,e){t.call(this,e);this.modifiers=n;this.setKeyword=i;this.propertyName=r;this.parameterList=u;this.block=f}return __extends(u,t),u.prototype.accept=function(n){return n.visitSetAccessor(this)},u.prototype.kind=function(){return 140},u.prototype.childCount=function(){return 5},u.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.setKeyword;case 2:return this.propertyName;case 3:return this.parameterList;case 4:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isMemberDeclaration=function(){return!0},u.prototype.isPropertyAssignment=function(){return!0},u.prototype.isClassElement=function(){return!0},u.prototype.update=function(n,t,i,r,f){return this.modifiers===n&&this.setKeyword===t&&this.propertyName===i&&this.parameterList===r&&this.block===f?this:new u(n,t,i,r,f,this.parsedInStrictMode())},u.create=function(t,i,r,f){return new u(n.Syntax.emptyList,t,i,r,f,!1)},u.create1=function(t){return new u(n.Syntax.emptyList,n.Syntax.token(68),t,r.create1(),i.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},u.prototype.withModifiers=function(n){return this.update(n,this.setKeyword,this.propertyName,this.parameterList,this.block)},u.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},u.prototype.withSetKeyword=function(n){return this.update(this.modifiers,n,this.propertyName,this.parameterList,this.block)},u.prototype.withPropertyName=function(n){return this.update(this.modifiers,this.setKeyword,n,this.parameterList,this.block)},u.prototype.withParameterList=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.modifiers,this.setKeyword,this.propertyName,this.parameterList,n)},u.prototype.isTypeScriptSpecific=function(){return!0},u}(n.SyntaxNode);n.SetAccessorSyntax=li;ai=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.variableDeclarator=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitMemberVariableDeclaration(this)},i.prototype.kind=function(){return 136},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.variableDeclarator;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberDeclaration=function(){return!0},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.variableDeclarator===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.variableDeclarator,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withVariableDeclarator=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.variableDeclarator,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.MemberVariableDeclarationSyntax=ai;vi=function(t){function i(n,i,r,u){t.call(this,u);this.modifiers=n;this.indexSignature=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitIndexMemberDeclaration(this)},i.prototype.kind=function(){return 138},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.indexSignature;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isClassElement=function(){return!0},i.prototype.update=function(n,t,r){return this.modifiers===n&&this.indexSignature===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(n.Syntax.emptyList,t,r,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.indexSignature,this.semicolonToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withIndexSignature=function(n){return this.update(this.modifiers,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.modifiers,this.indexSignature,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.IndexMemberDeclarationSyntax=vi;yi=function(t){function i(n,i,r,u){t.call(this,u);this.throwKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitThrowStatement(this)},i.prototype.kind=function(){return 157},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.throwKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.throwKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(36),t,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withThrowKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.throwKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.throwKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ThrowStatementSyntax=yi;pi=function(t){function i(n,i,r,u){t.call(this,u);this.returnKeyword=n;this.expression=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitReturnStatement(this)},i.prototype.kind=function(){return 150},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.returnKeyword;case 1:return this.expression;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.returnKeyword===n&&this.expression===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(33),null,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withReturnKeyword=function(n){return this.update(n,this.expression,this.semicolonToken)},i.prototype.withExpression=function(n){return this.update(this.returnKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.returnKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression!==null&&this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ReturnStatementSyntax=pi;wi=function(t){function i(n,i,r,u){t.call(this,u);this.newKeyword=n;this.expression=i;this.argumentList=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectCreationExpression(this)},i.prototype.kind=function(){return 216},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.newKeyword;case 1:return this.expression;case 2:return this.argumentList;default:throw n.Errors.invalidOperation();}},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.newKeyword===n&&this.expression===t&&this.argumentList===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,t,null,!1)},i.create1=function(t){return new i(n.Syntax.token(31),t,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withNewKeyword=function(n){return this.update(n,this.expression,this.argumentList)},i.prototype.withExpression=function(n){return this.update(this.newKeyword,n,this.argumentList)},i.prototype.withArgumentList=function(n){return this.update(this.newKeyword,this.expression,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.argumentList!==null&&this.argumentList.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectCreationExpressionSyntax=wi;bi=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.switchKeyword=n;this.openParenToken=i;this.expression=r;this.closeParenToken=u;this.openBraceToken=f;this.switchClauses=e;this.closeBraceToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitSwitchStatement(this)},i.prototype.kind=function(){return 151},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.switchKeyword;case 1:return this.openParenToken;case 2:return this.expression;case 3:return this.closeParenToken;case 4:return this.openBraceToken;case 5:return this.switchClauses;case 6:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.switchKeyword===n&&this.openParenToken===t&&this.expression===r&&this.closeParenToken===u&&this.openBraceToken===f&&this.switchClauses===e&&this.closeBraceToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create=function(t,r,u,f,e,o){return new i(t,r,u,f,e,n.Syntax.emptyList,o,!1)},i.create1=function(t){return new i(n.Syntax.token(34),n.Syntax.token(72),t,n.Syntax.token(73),n.Syntax.token(70),n.Syntax.emptyList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSwitchKeyword=function(n){return this.update(n,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.switchKeyword,n,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withExpression=function(n){return this.update(this.switchKeyword,this.openParenToken,n,this.closeParenToken,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,n,this.openBraceToken,this.switchClauses,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,n,this.switchClauses,this.closeBraceToken)},i.prototype.withSwitchClauses=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withSwitchClause=function(t){return this.withSwitchClauses(n.Syntax.list([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.switchKeyword,this.openParenToken,this.expression,this.closeParenToken,this.openBraceToken,this.switchClauses,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.switchClauses.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.SwitchStatementSyntax=bi;ki=function(t){function i(n,i,r,u,f){t.call(this,f);this.caseKeyword=n;this.expression=i;this.colonToken=r;this.statements=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitCaseSwitchClause(this)},i.prototype.kind=function(){return 233},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.caseKeyword;case 1:return this.expression;case 2:return this.colonToken;case 3:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.isSwitchClause=function(){return!0},i.prototype.update=function(n,t,r,u){return this.caseKeyword===n&&this.expression===t&&this.colonToken===r&&this.statements===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create=function(t,r,u){return new i(t,r,u,n.Syntax.emptyList,!1)},i.create1=function(t){return new i(n.Syntax.token(16),t,n.Syntax.token(106),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withCaseKeyword=function(n){return this.update(n,this.expression,this.colonToken,this.statements)},i.prototype.withExpression=function(n){return this.update(this.caseKeyword,n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.caseKeyword,this.expression,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.caseKeyword,this.expression,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:this.statements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.CaseSwitchClauseSyntax=ki;di=function(t){function i(n,i,r,u){t.call(this,u);this.defaultKeyword=n;this.colonToken=i;this.statements=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitDefaultSwitchClause(this)},i.prototype.kind=function(){return 234},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.defaultKeyword;case 1:return this.colonToken;case 2:return this.statements;default:throw n.Errors.invalidOperation();}},i.prototype.isSwitchClause=function(){return!0},i.prototype.update=function(n,t,r){return this.defaultKeyword===n&&this.colonToken===t&&this.statements===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,r,n.Syntax.emptyList,!1)},i.create1=function(){return new i(n.Syntax.token(20),n.Syntax.token(106),n.Syntax.emptyList,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDefaultKeyword=function(n){return this.update(n,this.colonToken,this.statements)},i.prototype.withColonToken=function(n){return this.update(this.defaultKeyword,n,this.statements)},i.prototype.withStatements=function(n){return this.update(this.defaultKeyword,this.colonToken,n)},i.prototype.withStatement=function(t){return this.withStatements(n.Syntax.list([t]))},i.prototype.isTypeScriptSpecific=function(){return this.statements.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.DefaultSwitchClauseSyntax=di;gi=function(t){function i(n,i,r,u){t.call(this,u);this.breakKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitBreakStatement(this)},i.prototype.kind=function(){return 152},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.breakKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.breakKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(15),null,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withBreakKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.breakKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.breakKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.BreakStatementSyntax=gi;nr=function(t){function i(n,i,r,u){t.call(this,u);this.continueKeyword=n;this.identifier=i;this.semicolonToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitContinueStatement(this)},i.prototype.kind=function(){return 153},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.continueKeyword;case 1:return this.identifier;case 2:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.continueKeyword===n&&this.identifier===t&&this.semicolonToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(n,t){return new i(n,null,t,!1)},i.create1=function(){return new i(n.Syntax.token(18),null,n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withContinueKeyword=function(n){return this.update(n,this.identifier,this.semicolonToken)},i.prototype.withIdentifier=function(n){return this.update(this.continueKeyword,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.continueKeyword,this.identifier,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.ContinueStatementSyntax=nr;tr=function(t){function i(n,i,r,u,f,e,o,s,h,c,l){t.call(this,l);this.forKeyword=n;this.openParenToken=i;this.variableDeclaration=r;this.initializer=u;this.firstSemicolonToken=f;this.condition=e;this.secondSemicolonToken=o;this.incrementor=s;this.closeParenToken=h;this.statement=c}return __extends(i,t),i.prototype.accept=function(n){return n.visitForStatement(this)},i.prototype.kind=function(){return 154},i.prototype.childCount=function(){return 10},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.initializer;case 4:return this.firstSemicolonToken;case 5:return this.condition;case 6:return this.secondSemicolonToken;case 7:return this.incrementor;case 8:return this.closeParenToken;case 9:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isIterationStatement=function(){return!0},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o,s,h,c){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.initializer===u&&this.firstSemicolonToken===f&&this.condition===e&&this.secondSemicolonToken===o&&this.incrementor===s&&this.closeParenToken===h&&this.statement===c?this:new i(n,t,r,u,f,e,o,s,h,c,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,null,u,null,f,e,!1)},i.create1=function(t){return new i(n.Syntax.token(26),n.Syntax.token(72),null,null,n.Syntax.token(78),null,n.Syntax.token(78),null,n.Syntax.token(73),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withInitializer=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withFirstSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,n,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,n,this.secondSemicolonToken,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withSecondSemicolonToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,n,this.incrementor,this.closeParenToken,this.statement)},i.prototype.withIncrementor=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.initializer,this.firstSemicolonToken,this.condition,this.secondSemicolonToken,this.incrementor,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.initializer!==null&&this.initializer.isTypeScriptSpecific()?!0:this.condition!==null&&this.condition.isTypeScriptSpecific()?!0:this.incrementor!==null&&this.incrementor.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ForStatementSyntax=tr;ir=function(t){function i(n,i,r,u,f,e,o,s,h){t.call(this,h);this.forKeyword=n;this.openParenToken=i;this.variableDeclaration=r;this.left=u;this.inKeyword=f;this.expression=e;this.closeParenToken=o;this.statement=s}return __extends(i,t),i.prototype.accept=function(n){return n.visitForInStatement(this)},i.prototype.kind=function(){return 155},i.prototype.childCount=function(){return 8},i.prototype.childAt=function(t){switch(t){case 0:return this.forKeyword;case 1:return this.openParenToken;case 2:return this.variableDeclaration;case 3:return this.left;case 4:return this.inKeyword;case 5:return this.expression;case 6:return this.closeParenToken;case 7:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isIterationStatement=function(){return!0},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o,s){return this.forKeyword===n&&this.openParenToken===t&&this.variableDeclaration===r&&this.left===u&&this.inKeyword===f&&this.expression===e&&this.closeParenToken===o&&this.statement===s?this:new i(n,t,r,u,f,e,o,s,this.parsedInStrictMode())},i.create=function(n,t,r,u,f,e){return new i(n,t,null,null,r,u,f,e,!1)},i.create1=function(t,r){return new i(n.Syntax.token(26),n.Syntax.token(72),null,null,n.Syntax.token(29),t,n.Syntax.token(73),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withForKeyword=function(n){return this.update(n,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.forKeyword,n,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withVariableDeclaration=function(n){return this.update(this.forKeyword,this.openParenToken,n,this.left,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withLeft=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,n,this.inKeyword,this.expression,this.closeParenToken,this.statement)},i.prototype.withInKeyword=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,n,this.expression,this.closeParenToken,this.statement)},i.prototype.withExpression=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.forKeyword,this.openParenToken,this.variableDeclaration,this.left,this.inKeyword,this.expression,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.variableDeclaration!==null&&this.variableDeclaration.isTypeScriptSpecific()?!0:this.left!==null&&this.left.isTypeScriptSpecific()?!0:this.expression.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ForInStatementSyntax=ir;rr=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.whileKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitWhileStatement(this)},i.prototype.kind=function(){return 158},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.whileKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isIterationStatement=function(){return!0},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.whileKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(42),n.Syntax.token(72),t,n.Syntax.token(73),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWhileKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.whileKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.WhileStatementSyntax=rr;ur=function(t){function i(n,i,r,u,f,e){t.call(this,e);this.withKeyword=n;this.openParenToken=i;this.condition=r;this.closeParenToken=u;this.statement=f}return __extends(i,t),i.prototype.accept=function(n){return n.visitWithStatement(this)},i.prototype.kind=function(){return 163},i.prototype.childCount=function(){return 5},i.prototype.childAt=function(t){switch(t){case 0:return this.withKeyword;case 1:return this.openParenToken;case 2:return this.condition;case 3:return this.closeParenToken;case 4:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f){return this.withKeyword===n&&this.openParenToken===t&&this.condition===r&&this.closeParenToken===u&&this.statement===f?this:new i(n,t,r,u,f,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(43),n.Syntax.token(72),t,n.Syntax.token(73),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withWithKeyword=function(n){return this.update(n,this.openParenToken,this.condition,this.closeParenToken,this.statement)},i.prototype.withOpenParenToken=function(n){return this.update(this.withKeyword,n,this.condition,this.closeParenToken,this.statement)},i.prototype.withCondition=function(n){return this.update(this.withKeyword,this.openParenToken,n,this.closeParenToken,this.statement)},i.prototype.withCloseParenToken=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.withKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.condition.isTypeScriptSpecific()?!0:this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.WithStatementSyntax=ur;fr=function(t){function i(n,i,r,u,f,e,o){t.call(this,o);this.modifiers=n;this.enumKeyword=i;this.identifier=r;this.openBraceToken=u;this.enumElements=f;this.closeBraceToken=e}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumDeclaration(this)},i.prototype.kind=function(){return 132},i.prototype.childCount=function(){return 6},i.prototype.childAt=function(t){switch(t){case 0:return this.modifiers;case 1:return this.enumKeyword;case 2:return this.identifier;case 3:return this.openBraceToken;case 4:return this.enumElements;case 5:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e){return this.modifiers===n&&this.enumKeyword===t&&this.identifier===r&&this.openBraceToken===u&&this.enumElements===f&&this.closeBraceToken===e?this:new i(n,t,r,u,f,e,this.parsedInStrictMode())},i.create=function(t,r,u,f){return new i(n.Syntax.emptyList,t,r,u,n.Syntax.emptySeparatedList,f,!1)},i.create1=function(t){return new i(n.Syntax.emptyList,n.Syntax.token(46),t,n.Syntax.token(70),n.Syntax.emptySeparatedList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withModifiers=function(n){return this.update(n,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withModifier=function(t){return this.withModifiers(n.Syntax.list([t]))},i.prototype.withEnumKeyword=function(n){return this.update(this.modifiers,n,this.identifier,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withIdentifier=function(n){return this.update(this.modifiers,this.enumKeyword,n,this.openBraceToken,this.enumElements,this.closeBraceToken)},i.prototype.withOpenBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,n,this.enumElements,this.closeBraceToken)},i.prototype.withEnumElements=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,n,this.closeBraceToken)},i.prototype.withEnumElement=function(t){return this.withEnumElements(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.modifiers,this.enumKeyword,this.identifier,this.openBraceToken,this.enumElements,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.EnumDeclarationSyntax=fr;er=function(t){function i(n,i,r){t.call(this,r);this.propertyName=n;this.equalsValueClause=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitEnumElement(this)},i.prototype.kind=function(){return 243},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.equalsValueClause;default:throw n.Errors.invalidOperation();}},i.prototype.update=function(n,t){return this.propertyName===n&&this.equalsValueClause===t?this:new i(n,t,this.parsedInStrictMode())},i.create=function(n){return new i(n,null,!1)},i.create1=function(n){return new i(n,null,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.equalsValueClause)},i.prototype.withEqualsValueClause=function(n){return this.update(this.propertyName,n)},i.prototype.isTypeScriptSpecific=function(){return this.equalsValueClause!==null&&this.equalsValueClause.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.EnumElementSyntax=er;or=function(t){function i(n,i,r,u,f){t.call(this,f);this.lessThanToken=n;this.type=i;this.greaterThanToken=r;this.expression=u}return __extends(i,t),i.prototype.accept=function(n){return n.visitCastExpression(this)},i.prototype.kind=function(){return 220},i.prototype.childCount=function(){return 4},i.prototype.childAt=function(t){switch(t){case 0:return this.lessThanToken;case 1:return this.type;case 2:return this.greaterThanToken;case 3:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r,u){return this.lessThanToken===n&&this.type===t&&this.greaterThanToken===r&&this.expression===u?this:new i(n,t,r,u,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(80),t,n.Syntax.token(81),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withLessThanToken=function(n){return this.update(n,this.type,this.greaterThanToken,this.expression)},i.prototype.withType=function(n){return this.update(this.lessThanToken,n,this.greaterThanToken,this.expression)},i.prototype.withGreaterThanToken=function(n){return this.update(this.lessThanToken,this.type,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.lessThanToken,this.type,this.greaterThanToken,n)},i.prototype.isTypeScriptSpecific=function(){return!0},i}(n.SyntaxNode);n.CastExpressionSyntax=or;sr=function(t){function i(n,i,r,u){t.call(this,u);this.openBraceToken=n;this.propertyAssignments=i;this.closeBraceToken=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitObjectLiteralExpression(this)},i.prototype.kind=function(){return 215},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.openBraceToken;case 1:return this.propertyAssignments;case 2:return this.closeBraceToken;default:throw n.Errors.invalidOperation();}},i.prototype.isPrimaryExpression=function(){return!0},i.prototype.isMemberExpression=function(){return!0},i.prototype.isPostfixExpression=function(){return!0},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t,r){return this.openBraceToken===n&&this.propertyAssignments===t&&this.closeBraceToken===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create=function(t,r){return new i(t,n.Syntax.emptySeparatedList,r,!1)},i.create1=function(){return new i(n.Syntax.token(70),n.Syntax.emptySeparatedList,n.Syntax.token(71),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withOpenBraceToken=function(n){return this.update(n,this.propertyAssignments,this.closeBraceToken)},i.prototype.withPropertyAssignments=function(n){return this.update(this.openBraceToken,n,this.closeBraceToken)},i.prototype.withPropertyAssignment=function(t){return this.withPropertyAssignments(n.Syntax.separatedList([t]))},i.prototype.withCloseBraceToken=function(n){return this.update(this.openBraceToken,this.propertyAssignments,n)},i.prototype.isTypeScriptSpecific=function(){return this.propertyAssignments.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.ObjectLiteralExpressionSyntax=sr;hr=function(t){function i(n,i,r,u){t.call(this,u);this.propertyName=n;this.colonToken=i;this.expression=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitSimplePropertyAssignment(this)},i.prototype.kind=function(){return 240},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.colonToken;case 2:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isPropertyAssignment=function(){return!0},i.prototype.update=function(n,t,r){return this.propertyName===n&&this.colonToken===t&&this.expression===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(106),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withPropertyName=function(n){return this.update(n,this.colonToken,this.expression)},i.prototype.withColonToken=function(n){return this.update(this.propertyName,n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.propertyName,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.SimplePropertyAssignmentSyntax=hr;cr=function(r){function u(n,t,i,u){r.call(this,u);this.propertyName=n;this.callSignature=t;this.block=i}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionPropertyAssignment(this)},u.prototype.kind=function(){return 241},u.prototype.childCount=function(){return 3},u.prototype.childAt=function(t){switch(t){case 0:return this.propertyName;case 1:return this.callSignature;case 2:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isPropertyAssignment=function(){return!0},u.prototype.update=function(n,t,i){return this.propertyName===n&&this.callSignature===t&&this.block===i?this:new u(n,t,i,this.parsedInStrictMode())},u.create1=function(n){return new u(n,t.create1(),i.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withPropertyName=function(n){return this.update(n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.propertyName,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.propertyName,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(n.SyntaxNode);n.FunctionPropertyAssignmentSyntax=cr;lr=function(r){function u(n,t,i,u,f){r.call(this,f);this.functionKeyword=n;this.identifier=t;this.callSignature=i;this.block=u}return __extends(u,r),u.prototype.accept=function(n){return n.visitFunctionExpression(this)},u.prototype.kind=function(){return 222},u.prototype.childCount=function(){return 4},u.prototype.childAt=function(t){switch(t){case 0:return this.functionKeyword;case 1:return this.identifier;case 2:return this.callSignature;case 3:return this.block;default:throw n.Errors.invalidOperation();}},u.prototype.isPrimaryExpression=function(){return!0},u.prototype.isMemberExpression=function(){return!0},u.prototype.isPostfixExpression=function(){return!0},u.prototype.isUnaryExpression=function(){return!0},u.prototype.isExpression=function(){return!0},u.prototype.update=function(n,t,i,r){return this.functionKeyword===n&&this.identifier===t&&this.callSignature===i&&this.block===r?this:new u(n,t,i,r,this.parsedInStrictMode())},u.create=function(n,t,i){return new u(n,null,t,i,!1)},u.create1=function(){return new u(n.Syntax.token(27),null,t.create1(),i.create1(),!1)},u.prototype.withLeadingTrivia=function(n){return r.prototype.withLeadingTrivia.call(this,n)},u.prototype.withTrailingTrivia=function(n){return r.prototype.withTrailingTrivia.call(this,n)},u.prototype.withFunctionKeyword=function(n){return this.update(n,this.identifier,this.callSignature,this.block)},u.prototype.withIdentifier=function(n){return this.update(this.functionKeyword,n,this.callSignature,this.block)},u.prototype.withCallSignature=function(n){return this.update(this.functionKeyword,this.identifier,n,this.block)},u.prototype.withBlock=function(n){return this.update(this.functionKeyword,this.identifier,this.callSignature,n)},u.prototype.isTypeScriptSpecific=function(){return this.callSignature.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},u}(n.SyntaxNode);n.FunctionExpressionSyntax=lr;ar=function(t){function i(n,i){t.call(this,i);this.semicolonToken=n}return __extends(i,t),i.prototype.accept=function(n){return n.visitEmptyStatement(this)},i.prototype.kind=function(){return 156},i.prototype.childCount=function(){return 1},i.prototype.childAt=function(t){switch(t){case 0:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n){return this.semicolonToken===n?this:new i(n,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withSemicolonToken=function(n){return this.update(n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.EmptyStatementSyntax=ar;vr=function(t){function r(n,i,r,u,f){t.call(this,f);this.tryKeyword=n;this.block=i;this.catchClause=r;this.finallyClause=u}return __extends(r,t),r.prototype.accept=function(n){return n.visitTryStatement(this)},r.prototype.kind=function(){return 159},r.prototype.childCount=function(){return 4},r.prototype.childAt=function(t){switch(t){case 0:return this.tryKeyword;case 1:return this.block;case 2:return this.catchClause;case 3:return this.finallyClause;default:throw n.Errors.invalidOperation();}},r.prototype.isStatement=function(){return!0},r.prototype.isModuleElement=function(){return!0},r.prototype.update=function(n,t,i,u){return this.tryKeyword===n&&this.block===t&&this.catchClause===i&&this.finallyClause===u?this:new r(n,t,i,u,this.parsedInStrictMode())},r.create=function(n,t){return new r(n,t,null,null,!1)},r.create1=function(){return new r(n.Syntax.token(38),i.create1(),null,null,!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withTryKeyword=function(n){return this.update(n,this.block,this.catchClause,this.finallyClause)},r.prototype.withBlock=function(n){return this.update(this.tryKeyword,n,this.catchClause,this.finallyClause)},r.prototype.withCatchClause=function(n){return this.update(this.tryKeyword,this.block,n,this.finallyClause)},r.prototype.withFinallyClause=function(n){return this.update(this.tryKeyword,this.block,this.catchClause,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:this.catchClause!==null&&this.catchClause.isTypeScriptSpecific()?!0:this.finallyClause!==null&&this.finallyClause.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.TryStatementSyntax=vr;yr=function(t){function r(n,i,r,u,f,e,o){t.call(this,o);this.catchKeyword=n;this.openParenToken=i;this.identifier=r;this.typeAnnotation=u;this.closeParenToken=f;this.block=e}return __extends(r,t),r.prototype.accept=function(n){return n.visitCatchClause(this)},r.prototype.kind=function(){return 236},r.prototype.childCount=function(){return 6},r.prototype.childAt=function(t){switch(t){case 0:return this.catchKeyword;case 1:return this.openParenToken;case 2:return this.identifier;case 3:return this.typeAnnotation;case 4:return this.closeParenToken;case 5:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t,i,u,f,e){return this.catchKeyword===n&&this.openParenToken===t&&this.identifier===i&&this.typeAnnotation===u&&this.closeParenToken===f&&this.block===e?this:new r(n,t,i,u,f,e,this.parsedInStrictMode())},r.create=function(n,t,i,u,f){return new r(n,t,i,null,u,f,!1)},r.create1=function(t){return new r(n.Syntax.token(17),n.Syntax.token(72),t,null,n.Syntax.token(73),i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withCatchKeyword=function(n){return this.update(n,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withOpenParenToken=function(n){return this.update(this.catchKeyword,n,this.identifier,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withIdentifier=function(n){return this.update(this.catchKeyword,this.openParenToken,n,this.typeAnnotation,this.closeParenToken,this.block)},r.prototype.withTypeAnnotation=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,n,this.closeParenToken,this.block)},r.prototype.withCloseParenToken=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,n,this.block)},r.prototype.withBlock=function(n){return this.update(this.catchKeyword,this.openParenToken,this.identifier,this.typeAnnotation,this.closeParenToken,n)},r.prototype.isTypeScriptSpecific=function(){return this.typeAnnotation!==null&&this.typeAnnotation.isTypeScriptSpecific()?!0:this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.CatchClauseSyntax=yr;pr=function(t){function r(n,i,r){t.call(this,r);this.finallyKeyword=n;this.block=i}return __extends(r,t),r.prototype.accept=function(n){return n.visitFinallyClause(this)},r.prototype.kind=function(){return 237},r.prototype.childCount=function(){return 2},r.prototype.childAt=function(t){switch(t){case 0:return this.finallyKeyword;case 1:return this.block;default:throw n.Errors.invalidOperation();}},r.prototype.update=function(n,t){return this.finallyKeyword===n&&this.block===t?this:new r(n,t,this.parsedInStrictMode())},r.create1=function(){return new r(n.Syntax.token(25),i.create1(),!1)},r.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},r.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},r.prototype.withFinallyKeyword=function(n){return this.update(n,this.block)},r.prototype.withBlock=function(n){return this.update(this.finallyKeyword,n)},r.prototype.isTypeScriptSpecific=function(){return this.block.isTypeScriptSpecific()?!0:!1},r}(n.SyntaxNode);n.FinallyClauseSyntax=pr;wr=function(t){function i(n,i,r,u){t.call(this,u);this.identifier=n;this.colonToken=i;this.statement=r}return __extends(i,t),i.prototype.accept=function(n){return n.visitLabeledStatement(this)},i.prototype.kind=function(){return 160},i.prototype.childCount=function(){return 3},i.prototype.childAt=function(t){switch(t){case 0:return this.identifier;case 1:return this.colonToken;case 2:return this.statement;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r){return this.identifier===n&&this.colonToken===t&&this.statement===r?this:new i(n,t,r,this.parsedInStrictMode())},i.create1=function(t,r){return new i(t,n.Syntax.token(106),r,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withIdentifier=function(n){return this.update(n,this.colonToken,this.statement)},i.prototype.withColonToken=function(n){return this.update(this.identifier,n,this.statement)},i.prototype.withStatement=function(n){return this.update(this.identifier,this.colonToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.LabeledStatementSyntax=wr;br=function(t){function i(n,i,r,u,f,e,o,s){t.call(this,s);this.doKeyword=n;this.statement=i;this.whileKeyword=r;this.openParenToken=u;this.condition=f;this.closeParenToken=e;this.semicolonToken=o}return __extends(i,t),i.prototype.accept=function(n){return n.visitDoStatement(this)},i.prototype.kind=function(){return 161},i.prototype.childCount=function(){return 7},i.prototype.childAt=function(t){switch(t){case 0:return this.doKeyword;case 1:return this.statement;case 2:return this.whileKeyword;case 3:return this.openParenToken;case 4:return this.condition;case 5:return this.closeParenToken;case 6:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isIterationStatement=function(){return!0},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t,r,u,f,e,o){return this.doKeyword===n&&this.statement===t&&this.whileKeyword===r&&this.openParenToken===u&&this.condition===f&&this.closeParenToken===e&&this.semicolonToken===o?this:new i(n,t,r,u,f,e,o,this.parsedInStrictMode())},i.create1=function(t,r){return new i(n.Syntax.token(22),t,n.Syntax.token(42),n.Syntax.token(72),r,n.Syntax.token(73),n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDoKeyword=function(n){return this.update(n,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withStatement=function(n){return this.update(this.doKeyword,n,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withWhileKeyword=function(n){return this.update(this.doKeyword,this.statement,n,this.openParenToken,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withOpenParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,n,this.condition,this.closeParenToken,this.semicolonToken)},i.prototype.withCondition=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,n,this.closeParenToken,this.semicolonToken)},i.prototype.withCloseParenToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.doKeyword,this.statement,this.whileKeyword,this.openParenToken,this.condition,this.closeParenToken,n)},i.prototype.isTypeScriptSpecific=function(){return this.statement.isTypeScriptSpecific()?!0:this.condition.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.DoStatementSyntax=br;kr=function(t){function i(n,i,r){t.call(this,r);this.typeOfKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitTypeOfExpression(this)},i.prototype.kind=function(){return 171},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.typeOfKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.typeOfKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(39),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withTypeOfKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.typeOfKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.TypeOfExpressionSyntax=kr;dr=function(t){function i(n,i,r){t.call(this,r);this.deleteKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDeleteExpression(this)},i.prototype.kind=function(){return 170},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.deleteKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.deleteKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(21),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDeleteKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.deleteKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.DeleteExpressionSyntax=dr;gr=function(t){function i(n,i,r){t.call(this,r);this.voidKeyword=n;this.expression=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitVoidExpression(this)},i.prototype.kind=function(){return 172},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.voidKeyword;case 1:return this.expression;default:throw n.Errors.invalidOperation();}},i.prototype.isUnaryExpression=function(){return!0},i.prototype.isExpression=function(){return!0},i.prototype.update=function(n,t){return this.voidKeyword===n&&this.expression===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(t){return new i(n.Syntax.token(41),t,!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withVoidKeyword=function(n){return this.update(n,this.expression)},i.prototype.withExpression=function(n){return this.update(this.voidKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return this.expression.isTypeScriptSpecific()?!0:!1},i}(n.SyntaxNode);n.VoidExpressionSyntax=gr;nu=function(t){function i(n,i,r){t.call(this,r);this.debuggerKeyword=n;this.semicolonToken=i}return __extends(i,t),i.prototype.accept=function(n){return n.visitDebuggerStatement(this)},i.prototype.kind=function(){return 162},i.prototype.childCount=function(){return 2},i.prototype.childAt=function(t){switch(t){case 0:return this.debuggerKeyword;case 1:return this.semicolonToken;default:throw n.Errors.invalidOperation();}},i.prototype.isStatement=function(){return!0},i.prototype.isModuleElement=function(){return!0},i.prototype.update=function(n,t){return this.debuggerKeyword===n&&this.semicolonToken===t?this:new i(n,t,this.parsedInStrictMode())},i.create1=function(){return new i(n.Syntax.token(19),n.Syntax.token(78),!1)},i.prototype.withLeadingTrivia=function(n){return t.prototype.withLeadingTrivia.call(this,n)},i.prototype.withTrailingTrivia=function(n){return t.prototype.withTrailingTrivia.call(this,n)},i.prototype.withDebuggerKeyword=function(n){return this.update(n,this.semicolonToken)},i.prototype.withSemicolonToken=function(n){return this.update(this.debuggerKeyword,n)},i.prototype.isTypeScriptSpecific=function(){return!1},i}(n.SyntaxNode);n.DebuggerStatementSyntax=nu}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.prototype.visitToken=function(n){return n},t.prototype.visitNode=function(n){return n.accept(this)},t.prototype.visitNodeOrToken=function(n){return n.isToken()?this.visitToken(n):this.visitNode(n)},t.prototype.visitList=function(t){for(var f,e,u,i=null,r=0,o=t.childCount();r<o;r++){if(f=t.childAt(r),e=this.visitNodeOrToken(f),f!==e&&i===null)for(i=[],u=0;u<r;u++)i.push(t.childAt(u));i&&i.push(e)}return i===null?t:n.Syntax.list(i)},t.prototype.visitSeparatedList=function(t){for(var r,e,f,i=null,u=0,o=t.childCount();u<o;u++){if(r=t.childAt(u),e=r.isToken()?this.visitToken(r):this.visitNode(r),r!==e&&i===null)for(i=[],f=0;f<u;f++)i.push(t.childAt(f));i&&i.push(e)}return i===null?t:n.Syntax.separatedList(i)},t.prototype.visitSourceUnit=function(n){return n.update(this.visitList(n.moduleElements),this.visitToken(n.endOfFileToken))},t.prototype.visitExternalModuleReference=function(n){return n.update(this.visitToken(n.requireKeyword),this.visitToken(n.openParenToken),this.visitToken(n.stringLiteral),this.visitToken(n.closeParenToken))},t.prototype.visitModuleNameModuleReference=function(n){return n.update(this.visitNodeOrToken(n.moduleName))},t.prototype.visitImportDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.importKeyword),this.visitToken(n.identifier),this.visitToken(n.equalsToken),this.visitNodeOrToken(n.moduleReference),this.visitToken(n.semicolonToken))},t.prototype.visitExportAssignment=function(n){return n.update(this.visitToken(n.exportKeyword),this.visitToken(n.equalsToken),this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitClassDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.classKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitToken(n.openBraceToken),this.visitList(n.classElements),this.visitToken(n.closeBraceToken))},t.prototype.visitInterfaceDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.interfaceKeyword),this.visitToken(n.identifier),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitList(n.heritageClauses),this.visitNode(n.body))},t.prototype.visitHeritageClause=function(n){return n.update(n.kind(),this.visitToken(n.extendsOrImplementsKeyword),this.visitSeparatedList(n.typeNames))},t.prototype.visitModuleDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.moduleKeyword),n.name===null?null:this.visitNodeOrToken(n.name),n.stringLiteral===null?null:this.visitToken(n.stringLiteral),this.visitToken(n.openBraceToken),this.visitList(n.moduleElements),this.visitToken(n.closeBraceToken))},t.prototype.visitFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.functionKeyword),this.visitToken(n.identifier),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitVariableStatement=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclaration),this.visitToken(n.semicolonToken))},t.prototype.visitVariableDeclaration=function(n){return n.update(this.visitToken(n.varKeyword),this.visitSeparatedList(n.variableDeclarators))},t.prototype.visitVariableDeclarator=function(n){return n.update(this.visitToken(n.propertyName),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitEqualsValueClause=function(n){return n.update(this.visitToken(n.equalsToken),this.visitNodeOrToken(n.value))},t.prototype.visitPrefixUnaryExpression=function(n){return n.update(n.kind(),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.operand))},t.prototype.visitArrayLiteralExpression=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitSeparatedList(n.expressions),this.visitToken(n.closeBracketToken))},t.prototype.visitOmittedExpression=function(n){return n},t.prototype.visitParenthesizedExpression=function(n){return n.update(this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken))},t.prototype.visitSimpleArrowFunctionExpression=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.equalsGreaterThanToken),n.block===null?null:this.visitNode(n.block),n.expression===null?null:this.visitNodeOrToken(n.expression))},t.prototype.visitParenthesizedArrowFunctionExpression=function(n){return n.update(this.visitNode(n.callSignature),this.visitToken(n.equalsGreaterThanToken),n.block===null?null:this.visitNode(n.block),n.expression===null?null:this.visitNodeOrToken(n.expression))},t.prototype.visitQualifiedName=function(n){return n.update(this.visitNodeOrToken(n.left),this.visitToken(n.dotToken),this.visitToken(n.right))},t.prototype.visitTypeArgumentList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeArguments),this.visitToken(n.greaterThanToken))},t.prototype.visitConstructorType=function(n){return n.update(this.visitToken(n.newKeyword),n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitFunctionType=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),this.visitToken(n.equalsGreaterThanToken),this.visitNodeOrToken(n.type))},t.prototype.visitObjectType=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.typeMembers),this.visitToken(n.closeBraceToken))},t.prototype.visitArrayType=function(n){return n.update(this.visitNodeOrToken(n.type),this.visitToken(n.openBracketToken),this.visitToken(n.closeBracketToken))},t.prototype.visitGenericType=function(n){return n.update(this.visitNodeOrToken(n.name),this.visitNode(n.typeArgumentList))},t.prototype.visitTypeQuery=function(n){return n.update(this.visitToken(n.typeOfKeyword),this.visitNodeOrToken(n.name))},t.prototype.visitTypeAnnotation=function(n){return n.update(this.visitToken(n.colonToken),this.visitNodeOrToken(n.type))},t.prototype.visitBlock=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitList(n.statements),this.visitToken(n.closeBraceToken))},t.prototype.visitParameter=function(n){return n.update(n.dotDotDotToken===null?null:this.visitToken(n.dotDotDotToken),this.visitList(n.modifiers),this.visitToken(n.identifier),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitMemberAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.dotToken),this.visitToken(n.name))},t.prototype.visitPostfixUnaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.operand),this.visitToken(n.operatorToken))},t.prototype.visitElementAccessExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.openBracketToken),this.visitNodeOrToken(n.argumentExpression),this.visitToken(n.closeBracketToken))},t.prototype.visitInvocationExpression=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitNode(n.argumentList))},t.prototype.visitArgumentList=function(n){return n.update(n.typeArgumentList===null?null:this.visitNode(n.typeArgumentList),this.visitToken(n.openParenToken),this.visitSeparatedList(n.arguments),this.visitToken(n.closeParenToken))},t.prototype.visitBinaryExpression=function(n){return n.update(n.kind(),this.visitNodeOrToken(n.left),this.visitToken(n.operatorToken),this.visitNodeOrToken(n.right))},t.prototype.visitConditionalExpression=function(n){return n.update(this.visitNodeOrToken(n.condition),this.visitToken(n.questionToken),this.visitNodeOrToken(n.whenTrue),this.visitToken(n.colonToken),this.visitNodeOrToken(n.whenFalse))},t.prototype.visitConstructSignature=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNode(n.callSignature))},t.prototype.visitMethodSignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),this.visitNode(n.callSignature))},t.prototype.visitIndexSignature=function(n){return n.update(this.visitToken(n.openBracketToken),this.visitNode(n.parameter),this.visitToken(n.closeBracketToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitPropertySignature=function(n){return n.update(this.visitToken(n.propertyName),n.questionToken===null?null:this.visitToken(n.questionToken),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitCallSignature=function(n){return n.update(n.typeParameterList===null?null:this.visitNode(n.typeParameterList),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation))},t.prototype.visitParameterList=function(n){return n.update(this.visitToken(n.openParenToken),this.visitSeparatedList(n.parameters),this.visitToken(n.closeParenToken))},t.prototype.visitTypeParameterList=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitSeparatedList(n.typeParameters),this.visitToken(n.greaterThanToken))},t.prototype.visitTypeParameter=function(n){return n.update(this.visitToken(n.identifier),n.constraint===null?null:this.visitNode(n.constraint))},t.prototype.visitConstraint=function(n){return n.update(this.visitToken(n.extendsKeyword),this.visitNodeOrToken(n.type))},t.prototype.visitElseClause=function(n){return n.update(this.visitToken(n.elseKeyword),this.visitNodeOrToken(n.statement))},t.prototype.visitIfStatement=function(n){return n.update(this.visitToken(n.ifKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement),n.elseClause===null?null:this.visitNode(n.elseClause))},t.prototype.visitExpressionStatement=function(n){return n.update(this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitConstructorDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.constructorKeyword),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitMemberFunctionDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.propertyName),this.visitNode(n.callSignature),n.block===null?null:this.visitNode(n.block),n.semicolonToken===null?null:this.visitToken(n.semicolonToken))},t.prototype.visitGetAccessor=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.getKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitNode(n.block))},t.prototype.visitSetAccessor=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.setKeyword),this.visitToken(n.propertyName),this.visitNode(n.parameterList),this.visitNode(n.block))},t.prototype.visitMemberVariableDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.variableDeclarator),this.visitToken(n.semicolonToken))},t.prototype.visitIndexMemberDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitNode(n.indexSignature),this.visitToken(n.semicolonToken))},t.prototype.visitThrowStatement=function(n){return n.update(this.visitToken(n.throwKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitReturnStatement=function(n){return n.update(this.visitToken(n.returnKeyword),n.expression===null?null:this.visitNodeOrToken(n.expression),this.visitToken(n.semicolonToken))},t.prototype.visitObjectCreationExpression=function(n){return n.update(this.visitToken(n.newKeyword),this.visitNodeOrToken(n.expression),n.argumentList===null?null:this.visitNode(n.argumentList))},t.prototype.visitSwitchStatement=function(n){return n.update(this.visitToken(n.switchKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitToken(n.openBraceToken),this.visitList(n.switchClauses),this.visitToken(n.closeBraceToken))},t.prototype.visitCaseSwitchClause=function(n){return n.update(this.visitToken(n.caseKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitDefaultSwitchClause=function(n){return n.update(this.visitToken(n.defaultKeyword),this.visitToken(n.colonToken),this.visitList(n.statements))},t.prototype.visitBreakStatement=function(n){return n.update(this.visitToken(n.breakKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitContinueStatement=function(n){return n.update(this.visitToken(n.continueKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitToken(n.semicolonToken))},t.prototype.visitForStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.initializer===null?null:this.visitNodeOrToken(n.initializer),this.visitToken(n.firstSemicolonToken),n.condition===null?null:this.visitNodeOrToken(n.condition),this.visitToken(n.secondSemicolonToken),n.incrementor===null?null:this.visitNodeOrToken(n.incrementor),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitForInStatement=function(n){return n.update(this.visitToken(n.forKeyword),this.visitToken(n.openParenToken),n.variableDeclaration===null?null:this.visitNode(n.variableDeclaration),n.left===null?null:this.visitNodeOrToken(n.left),this.visitToken(n.inKeyword),this.visitNodeOrToken(n.expression),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWhileStatement=function(n){return n.update(this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitWithStatement=function(n){return n.update(this.visitToken(n.withKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitNodeOrToken(n.statement))},t.prototype.visitEnumDeclaration=function(n){return n.update(this.visitList(n.modifiers),this.visitToken(n.enumKeyword),this.visitToken(n.identifier),this.visitToken(n.openBraceToken),this.visitSeparatedList(n.enumElements),this.visitToken(n.closeBraceToken))},t.prototype.visitEnumElement=function(n){return n.update(this.visitToken(n.propertyName),n.equalsValueClause===null?null:this.visitNode(n.equalsValueClause))},t.prototype.visitCastExpression=function(n){return n.update(this.visitToken(n.lessThanToken),this.visitNodeOrToken(n.type),this.visitToken(n.greaterThanToken),this.visitNodeOrToken(n.expression))},t.prototype.visitObjectLiteralExpression=function(n){return n.update(this.visitToken(n.openBraceToken),this.visitSeparatedList(n.propertyAssignments),this.visitToken(n.closeBraceToken))},t.prototype.visitSimplePropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitToken(n.colonToken),this.visitNodeOrToken(n.expression))},t.prototype.visitFunctionPropertyAssignment=function(n){return n.update(this.visitToken(n.propertyName),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitFunctionExpression=function(n){return n.update(this.visitToken(n.functionKeyword),n.identifier===null?null:this.visitToken(n.identifier),this.visitNode(n.callSignature),this.visitNode(n.block))},t.prototype.visitEmptyStatement=function(n){return n.update(this.visitToken(n.semicolonToken))},t.prototype.visitTryStatement=function(n){return n.update(this.visitToken(n.tryKeyword),this.visitNode(n.block),n.catchClause===null?null:this.visitNode(n.catchClause),n.finallyClause===null?null:this.visitNode(n.finallyClause))},t.prototype.visitCatchClause=function(n){return n.update(this.visitToken(n.catchKeyword),this.visitToken(n.openParenToken),this.visitToken(n.identifier),n.typeAnnotation===null?null:this.visitNode(n.typeAnnotation),this.visitToken(n.closeParenToken),this.visitNode(n.block))},t.prototype.visitFinallyClause=function(n){return n.update(this.visitToken(n.finallyKeyword),this.visitNode(n.block))},t.prototype.visitLabeledStatement=function(n){return n.update(this.visitToken(n.identifier),this.visitToken(n.colonToken),this.visitNodeOrToken(n.statement))},t.prototype.visitDoStatement=function(n){return n.update(this.visitToken(n.doKeyword),this.visitNodeOrToken(n.statement),this.visitToken(n.whileKeyword),this.visitToken(n.openParenToken),this.visitNodeOrToken(n.condition),this.visitToken(n.closeParenToken),this.visitToken(n.semicolonToken))},t.prototype.visitTypeOfExpression=function(n){return n.update(this.visitToken(n.typeOfKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDeleteExpression=function(n){return n.update(this.visitToken(n.deleteKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitVoidExpression=function(n){return n.update(this.visitToken(n.voidKeyword),this.visitNodeOrToken(n.expression))},t.prototype.visitDebuggerStatement=function(n){return n.update(this.visitToken(n.debuggerKeyword),this.visitToken(n.semicolonToken))},t}();n.SyntaxRewriter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(n,i,r,u){t.call(this);this.dedentationAmount=i;this.minimumIndent=r;this.options=u;this.lastTriviaWasNewLine=n}return __extends(i,t),i.prototype.abort=function(){this.lastTriviaWasNewLine=!1;this.dedentationAmount=0},i.prototype.isAborted=function(){return this.dedentationAmount===0},i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return(this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.dedentTriviaList(n.leadingTrivia()))),this.isAborted())?n:(this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t)},i.prototype.dedentTriviaList=function(t){for(var i,e,o,u=[],f=!0,r=0,s=t.count();r<s&&!this.isAborted();r++){if(i=t.syntaxTriviaAt(r),e=f,f=!1,e)if(i.kind()===4){o=r<t.count()-1&&t.syntaxTriviaAt(r+1).kind()===5;u.push(this.dedentWhitespace(i,o));continue}else if(i.kind()!==5){this.abort();break}if(i.kind()===6){u.push(this.dedentMultiLineComment(i));continue}u.push(i);i.kind()===5&&(f=!0)}return(f&&this.abort(),this.isAborted())?t:n.Syntax.triviaList(u)},i.prototype.dedentSegment=function(t,i){var r=n.Indentation.firstNonWhitespacePosition(t),u,f,e;if(r===t.length){if(i)return""}else if(n.CharacterInfo.isLineTerminator(t.charCodeAt(r)))return t.substring(r);return(u=n.Indentation.columnForPositionInString(t,r,this.options),f=n.MathPrototype.min(u,n.MathPrototype.max(u-this.dedentationAmount,this.minimumIndent)),f===u)?(this.abort(),t):(this.dedentationAmount=u-f,n.Debug.assert(this.dedentationAmount>=0),e=n.Indentation.indentationString(f,this.options),e+t.substring(r))},i.prototype.dedentWhitespace=function(t,i){var r=this.dedentSegment(t.fullText(),i);return n.Syntax.whitespace(r)},i.prototype.dedentMultiLineComment=function(t){var i=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),r,u,f;if(i.length===1)return t;for(r=1;r<i.length;r++)u=i[r],i[r]=this.dedentSegment(u,!1);return f=i.join(""),n.Syntax.multiLineComment(f)},i.dedentNode=function(n,t,r,u,f){var e=new i(t,r,u,f),o=n.accept(e);return e.isAborted()?n:o},i}(n.SyntaxRewriter);n.SyntaxDedenter=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r,u){t.call(this);this.indentationAmount=r;this.options=u;this.lastTriviaWasNewLine=i;this.indentationTrivia=n.Indentation.indentationTrivia(this.indentationAmount,this.options)}return __extends(i,t),i.prototype.visitToken=function(n){if(n.width()===0)return n;var t=n;return this.lastTriviaWasNewLine&&(t=n.withLeadingTrivia(this.indentTriviaList(n.leadingTrivia()))),this.lastTriviaWasNewLine=n.hasTrailingNewLine(),t},i.prototype.indentTriviaList=function(t){for(var r,f,i=[],u=!0,e=0,o=t.count();e<o;e++){r=t.syntaxTriviaAt(e);f=u;u=!1;switch(r.kind()){case 6:this.indentMultiLineComment(r,f,i);continue;case 7:case 8:this.indentSingleLineOrSkippedText(r,f,i);continue;case 4:this.indentWhitespace(r,f,i);continue;case 5:i.push(r);u=!0;continue;default:throw n.Errors.invalidOperation();}}return u&&i.push(this.indentationTrivia),n.Syntax.triviaList(i)},i.prototype.indentSegment=function(t){var i=n.Indentation.firstNonWhitespacePosition(t);if(i<t.length&&n.CharacterInfo.isLineTerminator(t.charCodeAt(i)))return t;var r=n.Indentation.columnForPositionInString(t,i,this.options),u=r+this.indentationAmount,f=n.Indentation.indentationString(u,this.options);return f+t.substring(i)},i.prototype.indentWhitespace=function(t,i,r){if(!i){r.push(t);return}var u=this.indentSegment(t.fullText());r.push(n.Syntax.whitespace(u))},i.prototype.indentSingleLineOrSkippedText=function(n,t,i){t&&i.push(this.indentationTrivia);i.push(n)},i.prototype.indentMultiLineComment=function(t,i,r){var u,f,e;for(i&&r.push(this.indentationTrivia),u=n.Syntax.splitMultiLineCommentTriviaIntoMultipleLines(t),f=1;f<u.length;f++)u[f]=this.indentSegment(u[f]);e=u.join("");r.push(n.Syntax.multiLineComment(e))},i.indentNode=function(n,t,r,u){var f=new i(t,r,u);return n.accept(f)},i.indentNodes=function(t,r,u,f){var e=new i(r,u,f);return n.ArrayUtilities.select(t,function(n){return n.accept(e)})},i}(n.SyntaxRewriter);n.SyntaxIndenter=t}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){n.leadingTrivia().collectTextElements(t);t.push(n.text());n.trailingTrivia().collectTextElements(t)}function i(n){return n>>>2}function u(n){return(n&2)!=0}function f(n){return(n&1)!=0}var v=function(){function t(n,t){this._fullText=n;this.tokenKind=t}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.text=function(){return this.fullText().substr(this.leadingTriviaWidth(),this.width())},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return this._value===undefined&&(this._value=n.Syntax.value(this)),this._value},t.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=n.Syntax.valueText(this)),this._valueText},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}(),e,o,s,h,c,l,a;t.VariableWidthTokenWithNoTrivia=v;e=function(){function t(n,t,i){this._fullText=n;this.tokenKind=t;this._leadingTriviaInfo=i}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._leadingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.text=function(){return this.fullText().substr(this.leadingTriviaWidth(),this.width())},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return this._value===undefined&&(this._value=n.Syntax.value(this)),this._value},t.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=n.Syntax.valueText(this)),this._valueText},t.prototype.hasLeadingTrivia=function(){return!0},t.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},t.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},t.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),0,i(this._leadingTriviaInfo),!1)},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.VariableWidthTokenWithLeadingTrivia=e;o=function(){function t(n,t,i){this._fullText=n;this.tokenKind=t;this._trailingTriviaInfo=i}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._trailingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.text=function(){return this.fullText().substr(this.leadingTriviaWidth(),this.width())},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return this._value===undefined&&(this._value=n.Syntax.value(this)),this._value},t.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=n.Syntax.valueText(this)),this._valueText},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasTrailingTrivia=function(){return!0},t.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},t.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},t.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),this.leadingTriviaWidth()+this.width(),i(this._trailingTriviaInfo),!0)},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.VariableWidthTokenWithTrailingTrivia=o;s=function(){function t(n,t,i,r){this._fullText=n;this.tokenKind=t;this._leadingTriviaInfo=i;this._trailingTriviaInfo=r}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._leadingTriviaInfo,this._trailingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.fullWidth()-this.leadingTriviaWidth()-this.trailingTriviaWidth()},t.prototype.text=function(){return this.fullText().substr(this.leadingTriviaWidth(),this.width())},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return this._value===undefined&&(this._value=n.Syntax.value(this)),this._value},t.prototype.valueText=function(){return this._valueText===undefined&&(this._valueText=n.Syntax.valueText(this)),this._valueText},t.prototype.hasLeadingTrivia=function(){return!0},t.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},t.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},t.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),0,i(this._leadingTriviaInfo),!1)},t.prototype.hasTrailingTrivia=function(){return!0},t.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},t.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},t.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),this.leadingTriviaWidth()+this.width(),i(this._trailingTriviaInfo),!0)},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.VariableWidthTokenWithLeadingAndTrailingTrivia=s;h=function(){function t(n){this.tokenKind=n}return t.prototype.clone=function(){return new t(this.tokenKind)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},t.prototype.fullText=function(){return this.text()},t.prototype.value=function(){return n.Syntax.value(this)},t.prototype.valueText=function(){return n.Syntax.valueText(this)},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.FixedWidthTokenWithNoTrivia=h;c=function(){function t(n,t,i){this._fullText=n;this.tokenKind=t;this._leadingTriviaInfo=i}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._leadingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return n.Syntax.value(this)},t.prototype.valueText=function(){return n.Syntax.valueText(this)},t.prototype.hasLeadingTrivia=function(){return!0},t.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},t.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},t.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),0,i(this._leadingTriviaInfo),!1)},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.FixedWidthTokenWithLeadingTrivia=c;l=function(){function t(n,t,i){this._fullText=n;this.tokenKind=t;this._trailingTriviaInfo=i}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._trailingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return n.Syntax.value(this)},t.prototype.valueText=function(){return n.Syntax.valueText(this)},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.hasTrailingTrivia=function(){return!0},t.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},t.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},t.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),this.leadingTriviaWidth()+this.width(),i(this._trailingTriviaInfo),!0)},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.FixedWidthTokenWithTrailingTrivia=l;a=function(){function t(n,t,i,r){this._fullText=n;this.tokenKind=t;this._leadingTriviaInfo=i;this._trailingTriviaInfo=r}return t.prototype.clone=function(){return new t(this._fullText,this.tokenKind,this._leadingTriviaInfo,this._trailingTriviaInfo)},t.prototype.isNode=function(){return!1},t.prototype.isToken=function(){return!0},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.kind=function(){return this.tokenKind},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return n.SyntaxFacts.getText(this.tokenKind)},t.prototype.fullText=function(){return this._fullText},t.prototype.value=function(){return n.Syntax.value(this)},t.prototype.valueText=function(){return n.Syntax.valueText(this)},t.prototype.hasLeadingTrivia=function(){return!0},t.prototype.hasLeadingComment=function(){return u(this._leadingTriviaInfo)},t.prototype.hasLeadingNewLine=function(){return f(this._leadingTriviaInfo)},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return i(this._leadingTriviaInfo)},t.prototype.leadingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),0,i(this._leadingTriviaInfo),!1)},t.prototype.hasTrailingTrivia=function(){return!0},t.prototype.hasTrailingComment=function(){return u(this._trailingTriviaInfo)},t.prototype.hasTrailingNewLine=function(){return f(this._trailingTriviaInfo)},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.trailingTriviaWidth=function(){return i(this._trailingTriviaInfo)},t.prototype.trailingTrivia=function(){return n.Scanner.scanTrivia(n.SimpleText.fromString(this._fullText),this.leadingTriviaWidth()+this.width(),i(this._trailingTriviaInfo),!0)},t.prototype.hasSkippedToken=function(){return!1},t.prototype.toJSON=function(){return n.Syntax.tokenToJSON(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return this.fullWidth()===0||n.SyntaxFacts.isAnyDivideOrRegularExpressionToken(this.tokenKind)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.realize=function(){return n.Syntax.realizeToken(this)},t.prototype.collectTextElements=function(n){r(this,n)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return n.Syntax.isExpression(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.FixedWidthTokenWithLeadingAndTrailingTrivia=a})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function f(n){switch(n.tokenKind){case 11:case 12:case 13:case 14:case 24:case 32:case 35:case 37:case 50:return!0}return!1}function s(n){return new u(n.tokenKind,n.leadingTrivia(),n.text(),n.value(),n.valueText(),n.trailingTrivia())}function a(t){return n.Debug.assert(n.SyntaxFacts.isAnyKeyword(t.tokenKind)),new u(11,t.leadingTrivia(),t.text(),t.text(),t.text(),t.trailingTrivia())}function e(t){var i={},u,f,r;for(u in n.SyntaxKind)if(n.SyntaxKind[u]===t.kind()){i.kind=u;break}return i.width=t.width(),t.fullWidth()!==t.width()&&(i.fullWidth=t.fullWidth()),i.text=t.text(),f=t.value(),f!==null&&(i.value=f,i.valueText=t.valueText()),t.hasLeadingTrivia()&&(i.hasLeadingTrivia=!0),t.hasLeadingComment()&&(i.hasLeadingComment=!0),t.hasLeadingNewLine()&&(i.hasLeadingNewLine=!0),t.hasLeadingSkippedText()&&(i.hasLeadingSkippedText=!0),t.hasTrailingTrivia()&&(i.hasTrailingTrivia=!0),t.hasTrailingComment()&&(i.hasTrailingComment=!0),t.hasTrailingNewLine()&&(i.hasTrailingNewLine=!0),t.hasTrailingSkippedText()&&(i.hasTrailingSkippedText=!0),r=t.leadingTrivia(),r.count()>0&&(i.leadingTrivia=r),r=t.trailingTrivia(),r.count()>0&&(i.trailingTrivia=r),i}function v(n){return o(n.tokenKind,n.text())}function h(t,i,r){for(var e,u=0,f=0;f<r;f++){if(e=t.charCodeAt(i+f),!n.CharacterInfo.isHexDigit(e))break;u=(u<<4)+n.CharacterInfo.hexValue(e)}return u}function y(n){var r,t,f,u,e;for(i.length=0,r="",t=0,f=n.length;t<f;t++){if(u=n.charCodeAt(t),u===92&&(t++,t<f)){u=n.charCodeAt(t);switch(u){case 48:i.push(0);continue;case 98:i.push(8);continue;case 102:i.push(12);continue;case 110:i.push(10);continue;case 114:i.push(13);continue;case 116:i.push(9);continue;case 118:i.push(11);continue;case 120:i.push(h(n,t+1,2));t+=2;continue;case 117:i.push(h(n,t+1,4));t+=4;continue;case 13:e=t+1;e<n.length&&n.charCodeAt(e)===10&&t++;continue;case 10:case 8233:case 8232:continue}}i.push(u);!t||t%1024||(r=r.concat(String.fromCharCode.apply(null,i)),i.length=0)}return i.length&&(r=r.concat(String.fromCharCode.apply(null,i))),r}function r(n){return n.indexOf("\\")>=0?y(n):n}function o(t,i){if(t===11)return r(i);switch(t){case 37:return!0;case 24:return!1;case 32:return null}if(n.SyntaxFacts.isAnyKeyword(t)||n.SyntaxFacts.isAnyPunctuation(t))return n.SyntaxFacts.getText(t);if(t===13)return n.IntegerUtilities.isHexInteger(i)?parseInt(i,16):parseFloat(i);if(t===14)return i.length>1&&i.charCodeAt(i.length-1)===i.charCodeAt(0)?r(i.substr(1,i.length-2)):r(i.substr(1));if(t===12)return p(i);if(t===10||t===9)return null;throw n.Errors.invalidOperation();}function p(n){try{var t=n.lastIndexOf("/"),i=n.substring(1,t),r=n.substring(t+1);return new RegExp(i,r)}catch(u){return null}}function w(n,t){var i=o(n,t);return i===null?"":i.toString()}function b(n){var t=n.value();return t===null?"":t.toString()}function k(n){return new c(n)}function l(t,i){typeof i=="undefined"&&(i=null);var r=i!==null&&i.text!==undefined?i.text:n.SyntaxFacts.getText(t);return new u(t,n.Syntax.triviaList(i===null?null:i.leadingTrivia),r,o(t,r),w(t,r),n.Syntax.triviaList(i===null?null:i.trailingTrivia))}function d(n,t){return typeof t=="undefined"&&(t=null),t=t||{},t.text=n,l(11,t)}var i,c,u;t.isExpression=f;t.realizeToken=s;t.convertToIdentifierName=a;t.tokenToJSON=e;t.value=v;i=[];t.massageEscapes=r;t.valueText=b;c=function(){function t(n){this.tokenKind=n}return t.prototype.clone=function(){return new t(this.tokenKind)},t.prototype.kind=function(){return this.tokenKind},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.toJSON=function(){return e(this)},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.fullWidth=function(){return 0},t.prototype.width=function(){return 0},t.prototype.text=function(){return""},t.prototype.fullText=function(){return""},t.prototype.value=function(){return null},t.prototype.valueText=function(){return""},t.prototype.hasLeadingTrivia=function(){return!1},t.prototype.hasLeadingComment=function(){return!1},t.prototype.hasLeadingNewLine=function(){return!1},t.prototype.hasLeadingSkippedText=function(){return!1},t.prototype.leadingTriviaWidth=function(){return 0},t.prototype.hasTrailingTrivia=function(){return!1},t.prototype.hasTrailingComment=function(){return!1},t.prototype.hasTrailingNewLine=function(){return!1},t.prototype.hasTrailingSkippedText=function(){return!1},t.prototype.hasSkippedToken=function(){return!1},t.prototype.trailingTriviaWidth=function(){return 0},t.prototype.leadingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.trailingTrivia=function(){return n.Syntax.emptyTriviaList},t.prototype.realize=function(){return s(this)},t.prototype.collectTextElements=function(){},t.prototype.withLeadingTrivia=function(n){return this.realize().withLeadingTrivia(n)},t.prototype.withTrailingTrivia=function(n){return this.realize().withTrailingTrivia(n)},t.prototype.isExpression=function(){return f(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.emptyToken=k;u=function(){function t(n,t,i,r,u,f){this.tokenKind=n;this._leadingTrivia=t;this._text=i;this._value=r;this._valueText=u;this._trailingTrivia=f}return t.prototype.clone=function(){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.kind=function(){return this.tokenKind},t.prototype.toJSON=function(){return e(this)},t.prototype.firstToken=function(){return this},t.prototype.lastToken=function(){return this},t.prototype.isTypeScriptSpecific=function(){return!1},t.prototype.isIncrementallyUnusable=function(){return!0},t.prototype.accept=function(n){return n.visitToken(this)},t.prototype.childCount=function(){return 0},t.prototype.childAt=function(){throw n.Errors.argumentOutOfRange("index");},t.prototype.isToken=function(){return!0},t.prototype.isNode=function(){return!1},t.prototype.isList=function(){return!1},t.prototype.isSeparatedList=function(){return!1},t.prototype.isTrivia=function(){return!1},t.prototype.isTriviaList=function(){return!1},t.prototype.fullWidth=function(){return this._leadingTrivia.fullWidth()+this.width()+this._trailingTrivia.fullWidth()},t.prototype.width=function(){return this.text().length},t.prototype.text=function(){return this._text},t.prototype.fullText=function(){return this._leadingTrivia.fullText()+this.text()+this._trailingTrivia.fullText()},t.prototype.value=function(){return this._value},t.prototype.valueText=function(){return this._valueText},t.prototype.hasLeadingTrivia=function(){return this._leadingTrivia.count()>0},t.prototype.hasLeadingComment=function(){return this._leadingTrivia.hasComment()},t.prototype.hasLeadingNewLine=function(){return this._leadingTrivia.hasNewLine()},t.prototype.hasLeadingSkippedText=function(){return this._leadingTrivia.hasSkippedToken()},t.prototype.leadingTriviaWidth=function(){return this._leadingTrivia.fullWidth()},t.prototype.hasTrailingTrivia=function(){return this._trailingTrivia.count()>0},t.prototype.hasTrailingComment=function(){return this._trailingTrivia.hasComment()},t.prototype.hasTrailingNewLine=function(){return this._trailingTrivia.hasNewLine()},t.prototype.hasTrailingSkippedText=function(){return this._trailingTrivia.hasSkippedToken()},t.prototype.trailingTriviaWidth=function(){return this._trailingTrivia.fullWidth()},t.prototype.hasSkippedToken=function(){return this.hasLeadingSkippedText()||this.hasTrailingSkippedText()},t.prototype.leadingTrivia=function(){return this._leadingTrivia},t.prototype.trailingTrivia=function(){return this._trailingTrivia},t.prototype.findTokenInternal=function(t,i,r){return new n.PositionedToken(t,this,r)},t.prototype.collectTextElements=function(n){this.leadingTrivia().collectTextElements(n);n.push(this.text());this.trailingTrivia().collectTextElements(n)},t.prototype.withLeadingTrivia=function(n){return new t(this.tokenKind,n,this._text,this._value,this._valueText,this._trailingTrivia)},t.prototype.withTrailingTrivia=function(n){return new t(this.tokenKind,this._leadingTrivia,this._text,this._value,this._valueText,n)},t.prototype.isExpression=function(){return f(this)},t.prototype.isPrimaryExpression=function(){return this.isExpression()},t.prototype.isMemberExpression=function(){return this.isExpression()},t.prototype.isPostfixExpression=function(){return this.isExpression()},t.prototype.isUnaryExpression=function(){return this.isExpression()},t}();t.token=l;t.identifier=d})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t,i){n.call(this);this.token1=t;this.token2=i}return __extends(t,n),t.prototype.visitToken=function(n){if(n===this.token1){var t=this.token2;return this.token1=null,this.token2=null,t}return n},t.prototype.visitNode=function(t){return this.token1===null?t:n.prototype.visitNode.call(this,t)},t.prototype.visitList=function(t){return this.token1===null?t:n.prototype.visitList.call(this,t)},t.prototype.visitSeparatedList=function(t){return this.token1===null?t:n.prototype.visitSeparatedList.call(this,t)},t}(n.SyntaxRewriter);n.SyntaxTokenReplacer=t}(TypeScript||(TypeScript={})),function(n){(function(t){function s(n,t,i,r){return new o(n,t,i,r)}function i(n,t){return new f(n,t)}function h(t){return n.Debug.assert(!t.hasLeadingTrivia()),n.Debug.assert(!t.hasTrailingTrivia()),n.Debug.assert(t.fullWidth()>0),new e(t)}function u(t){return i(4,n.StringUtilities.repeat(" ",t))}function c(n){return i(4,n)}function l(n){return i(6,n)}function a(n){return i(7,n)}function v(n){for(var f,e,r=[],i=n.fullText(),u=0,t=0;t<i.length;t++){f=i.charCodeAt(t);e=!1;switch(f){case 13:t<i.length-1&&i.charCodeAt(t+1)===10&&t++;case 10:case 8233:case 8232:r.push(i.substring(u,t+1));u=t+1;continue}}return r.push(i.substring(u)),r}var r=function(){function t(n){this._kind=n}return t.prototype.fullWidth=function(){throw n.Errors.abstract();},t.prototype.fullText=function(){throw n.Errors.abstract();},t.prototype.skippedToken=function(){throw n.Errors.abstract();},t.prototype.toJSON=function(){var t={};for(var i in n.SyntaxKind)if(n.SyntaxKind[i]===this._kind){t.kind=i;break}return this.isSkippedToken()?t.skippedToken=this.skippedToken():t.text=this.fullText(),t},t.prototype.kind=function(){return this._kind},t.prototype.isWhitespace=function(){return this.kind()===4},t.prototype.isComment=function(){return this.kind()===7||this.kind()===6},t.prototype.isNewLine=function(){return this.kind()===5},t.prototype.isSkippedToken=function(){return this.kind()===8},t.prototype.collectTextElements=function(n){n.push(this.fullText())},t}(),f=function(t){function i(n,i){t.call(this,n);this._text=i}return __extends(i,t),i.prototype.fullWidth=function(){return this.fullText().length},i.prototype.fullText=function(){return this._text},i.prototype.skippedToken=function(){throw n.Errors.invalidOperation();},i}(r),e=function(n){function t(t){n.call(this,8);this._skippedToken=t}return __extends(t,n),t.prototype.fullWidth=function(){return this.fullText().length},t.prototype.fullText=function(){return this.skippedToken().fullText()},t.prototype.skippedToken=function(){return this._skippedToken},t}(r),o=function(t){function i(n,i,r,u){t.call(this,n);this._text=i;this._fullStart=r;this._fullWidth=u;this._fullText=null}return __extends(i,t),i.prototype.fullWidth=function(){return this._fullWidth},i.prototype.fullText=function(){return this._fullText||(this._fullText=this._text.substr(this._fullStart,this._fullWidth,!1),this._text=null),this._fullText},i.prototype.skippedToken=function(){throw n.Errors.invalidOperation();},i}(r);t.deferredTrivia=s;t.trivia=i;t.skippedTokenTrivia=h;t.spaces=u;t.whitespace=c;t.multiLineComment=l;t.singleLineComment=a;t.spaceTrivia=u(1);t.lineFeedTrivia=i(5,"\n");t.carriageReturnTrivia=i(5,"\r");t.carriageReturnLineFeedTrivia=i(5,"\r\n");t.splitMultiLineCommentTriviaIntoMultipleLines=v})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){(function(t){function r(n,t){if(n.count()===0)return t;if(t.count()===0)return n;var r=n.toArray();return r.push.apply(r,t.toArray()),i(r)}function u(n){return n.kind()===6||n.kind()===7}function i(n){return n===undefined||n===null||n.length===0?t.emptyTriviaList:n.length===1?new f(n[0]):new e(n)}t.emptyTriviaList={kind:function(){return 3},count:function(){return 0},syntaxTriviaAt:function(){throw n.Errors.argumentOutOfRange("index");},last:function(){throw n.Errors.argumentOutOfRange("index");},fullWidth:function(){return 0},fullText:function(){return""},hasComment:function(){return!1},hasNewLine:function(){return!1},hasSkippedToken:function(){return!1},toJSON:function(){return[]},collectTextElements:function(){},toArray:function(){return[]},concat:function(n){return n}};var f=function(){function t(n){this.item=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return 1},t.prototype.syntaxTriviaAt=function(t){if(t!==0)throw n.Errors.argumentOutOfRange("index");return this.item},t.prototype.last=function(){return this.item},t.prototype.fullWidth=function(){return this.item.fullWidth()},t.prototype.fullText=function(){return this.item.fullText()},t.prototype.hasComment=function(){return u(this.item)},t.prototype.hasNewLine=function(){return this.item.kind()===5},t.prototype.hasSkippedToken=function(){return this.item.kind()===8},t.prototype.toJSON=function(){return[this.item]},t.prototype.collectTextElements=function(n){this.item.collectTextElements(n)},t.prototype.toArray=function(){return[this.item]},t.prototype.concat=function(n){return r(this,n)},t}(),e=function(){function t(n){this.trivia=n}return t.prototype.kind=function(){return 3},t.prototype.count=function(){return this.trivia.length},t.prototype.syntaxTriviaAt=function(t){if(t<0||t>=this.trivia.length)throw n.Errors.argumentOutOfRange("index");return this.trivia[t]},t.prototype.last=function(){return this.trivia[this.trivia.length-1]},t.prototype.fullWidth=function(){return n.ArrayUtilities.sum(this.trivia,function(n){return n.fullWidth()})},t.prototype.fullText=function(){for(var t="",n=0,i=this.trivia.length;n<i;n++)t+=this.trivia[n].fullText();return t},t.prototype.hasComment=function(){for(var n=0;n<this.trivia.length;n++)if(u(this.trivia[n]))return!0;return!1},t.prototype.hasNewLine=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===5)return!0;return!1},t.prototype.hasSkippedToken=function(){for(var n=0;n<this.trivia.length;n++)if(this.trivia[n].kind()===8)return!0;return!1},t.prototype.toJSON=function(){return this.trivia},t.prototype.collectTextElements=function(n){for(var t=0;t<this.trivia.length;t++)this.trivia[t].collectTextElements(n)},t.prototype.toArray=function(){return this.trivia.slice(0)},t.prototype.concat=function(n){return r(this,n)},t}();t.triviaList=i;t.spaceTriviaList=i([n.Syntax.spaceTrivia])})(n.Syntax||(n.Syntax={}));var t=n.Syntax}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.isAngleBracket=function(n){var t=n.element(),i=n.parentElement();if(i!==null&&(t.kind()===80||t.kind()===81))switch(i.kind()){case 228:case 229:case 220:return!0}return!1},n.getToken=function(n,t){for(var r,i=0,u=n.childCount();i<u;i++)if(r=n.childAt(i),r.tokenKind===t)return r;return null},n.containsToken=function(t,i){return n.getToken(t,i)!==null},n.hasExportKeyword=function(t){return n.getExportKeyword(t)!==null},n.getExportKeyword=function(t){switch(t.kind()){case 130:case 131:case 129:case 148:case 132:case 128:case 133:return n.getToken(t.modifiers,47);default:return null}},n.isAmbientDeclarationSyntax=function(t){if(!t)return!1;var i=t.node();switch(i.kind()){case 130:case 131:case 129:case 148:case 132:if(n.containsToken(i.modifiers,63))return!0;case 133:case 137:case 135:case 139:case 140:case 136:if(i.isClassElement()||i.isModuleElement())return n.isAmbientDeclarationSyntax(t.containingNode());case 243:return n.isAmbientDeclarationSyntax(t.containingNode().containingNode());default:return n.isAmbientDeclarationSyntax(t.containingNode())}},n}();n.SyntaxUtilities=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.defaultVisit=function(){return null},n.prototype.visitToken=function(n){return this.defaultVisit(n)},n.prototype.visitSourceUnit=function(n){return this.defaultVisit(n)},n.prototype.visitExternalModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitModuleNameModuleReference=function(n){return this.defaultVisit(n)},n.prototype.visitImportDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitExportAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitClassDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitInterfaceDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitHeritageClause=function(n){return this.defaultVisit(n)},n.prototype.visitModuleDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableStatement=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitVariableDeclarator=function(n){return this.defaultVisit(n)},n.prototype.visitEqualsValueClause=function(n){return this.defaultVisit(n)},n.prototype.visitPrefixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArrayLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitOmittedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimpleArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitQualifiedName=function(n){return this.defaultVisit(n)},n.prototype.visitTypeArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorType=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionType=function(n){return this.defaultVisit(n)},n.prototype.visitObjectType=function(n){return this.defaultVisit(n)},n.prototype.visitArrayType=function(n){return this.defaultVisit(n)},n.prototype.visitGenericType=function(n){return this.defaultVisit(n)},n.prototype.visitTypeQuery=function(n){return this.defaultVisit(n)},n.prototype.visitTypeAnnotation=function(n){return this.defaultVisit(n)},n.prototype.visitBlock=function(n){return this.defaultVisit(n)},n.prototype.visitParameter=function(n){return this.defaultVisit(n)},n.prototype.visitMemberAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitPostfixUnaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitElementAccessExpression=function(n){return this.defaultVisit(n)},n.prototype.visitInvocationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitArgumentList=function(n){return this.defaultVisit(n)},n.prototype.visitBinaryExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConditionalExpression=function(n){return this.defaultVisit(n)},n.prototype.visitConstructSignature=function(n){return this.defaultVisit(n)},n.prototype.visitMethodSignature=function(n){return this.defaultVisit(n)},n.prototype.visitIndexSignature=function(n){return this.defaultVisit(n)},n.prototype.visitPropertySignature=function(n){return this.defaultVisit(n)},n.prototype.visitCallSignature=function(n){return this.defaultVisit(n)},n.prototype.visitParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameterList=function(n){return this.defaultVisit(n)},n.prototype.visitTypeParameter=function(n){return this.defaultVisit(n)},n.prototype.visitConstraint=function(n){return this.defaultVisit(n)},n.prototype.visitElseClause=function(n){return this.defaultVisit(n)},n.prototype.visitIfStatement=function(n){return this.defaultVisit(n)},n.prototype.visitExpressionStatement=function(n){return this.defaultVisit(n)},n.prototype.visitConstructorDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitMemberFunctionDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitGetAccessor=function(n){return this.defaultVisit(n)},n.prototype.visitSetAccessor=function(n){return this.defaultVisit(n)},n.prototype.visitMemberVariableDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitIndexMemberDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitThrowStatement=function(n){return this.defaultVisit(n)},n.prototype.visitReturnStatement=function(n){return this.defaultVisit(n)},n.prototype.visitObjectCreationExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSwitchStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCaseSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitDefaultSwitchClause=function(n){return this.defaultVisit(n)},n.prototype.visitBreakStatement=function(n){return this.defaultVisit(n)},n.prototype.visitContinueStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForStatement=function(n){return this.defaultVisit(n)},n.prototype.visitForInStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWhileStatement=function(n){return this.defaultVisit(n)},n.prototype.visitWithStatement=function(n){return this.defaultVisit(n)},n.prototype.visitEnumDeclaration=function(n){return this.defaultVisit(n)},n.prototype.visitEnumElement=function(n){return this.defaultVisit(n)},n.prototype.visitCastExpression=function(n){return this.defaultVisit(n)},n.prototype.visitObjectLiteralExpression=function(n){return this.defaultVisit(n)},n.prototype.visitSimplePropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionPropertyAssignment=function(n){return this.defaultVisit(n)},n.prototype.visitFunctionExpression=function(n){return this.defaultVisit(n)},n.prototype.visitEmptyStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTryStatement=function(n){return this.defaultVisit(n)},n.prototype.visitCatchClause=function(n){return this.defaultVisit(n)},n.prototype.visitFinallyClause=function(n){return this.defaultVisit(n)},n.prototype.visitLabeledStatement=function(n){return this.defaultVisit(n)},n.prototype.visitDoStatement=function(n){return this.defaultVisit(n)},n.prototype.visitTypeOfExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDeleteExpression=function(n){return this.defaultVisit(n)},n.prototype.visitVoidExpression=function(n){return this.defaultVisit(n)},n.prototype.visitDebuggerStatement=function(n){return this.defaultVisit(n)},n}();n.SyntaxVisitor=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.prototype.visitToken=function(){},n.prototype.visitNode=function(n){n.accept(this)},n.prototype.visitNodeOrToken=function(n){n.isToken()?this.visitToken(n):this.visitNode(n)},n.prototype.visitOptionalToken=function(n){n!==null&&this.visitToken(n)},n.prototype.visitOptionalNode=function(n){n!==null&&this.visitNode(n)},n.prototype.visitOptionalNodeOrToken=function(n){n!==null&&this.visitNodeOrToken(n)},n.prototype.visitList=function(n){for(var t=0,i=n.childCount();t<i;t++)this.visitNodeOrToken(n.childAt(t))},n.prototype.visitSeparatedList=function(n){for(var r,t=0,i=n.childCount();t<i;t++)r=n.childAt(t),this.visitNodeOrToken(r)},n.prototype.visitSourceUnit=function(n){this.visitList(n.moduleElements);this.visitToken(n.endOfFileToken)},n.prototype.visitExternalModuleReference=function(n){this.visitToken(n.requireKeyword);this.visitToken(n.openParenToken);this.visitToken(n.stringLiteral);this.visitToken(n.closeParenToken)},n.prototype.visitModuleNameModuleReference=function(n){this.visitNodeOrToken(n.moduleName)},n.prototype.visitImportDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.importKeyword);this.visitToken(n.identifier);this.visitToken(n.equalsToken);this.visitNodeOrToken(n.moduleReference);this.visitToken(n.semicolonToken)},n.prototype.visitExportAssignment=function(n){this.visitToken(n.exportKeyword);this.visitToken(n.equalsToken);this.visitToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitClassDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.classKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitToken(n.openBraceToken);this.visitList(n.classElements);this.visitToken(n.closeBraceToken)},n.prototype.visitInterfaceDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.interfaceKeyword);this.visitToken(n.identifier);this.visitOptionalNode(n.typeParameterList);this.visitList(n.heritageClauses);this.visitNode(n.body)},n.prototype.visitHeritageClause=function(n){this.visitToken(n.extendsOrImplementsKeyword);this.visitSeparatedList(n.typeNames)},n.prototype.visitModuleDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.moduleKeyword);this.visitOptionalNodeOrToken(n.name);this.visitOptionalToken(n.stringLiteral);this.visitToken(n.openBraceToken);this.visitList(n.moduleElements);this.visitToken(n.closeBraceToken)},n.prototype.visitFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.functionKeyword);this.visitToken(n.identifier);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitVariableStatement=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclaration);this.visitToken(n.semicolonToken)},n.prototype.visitVariableDeclaration=function(n){this.visitToken(n.varKeyword);this.visitSeparatedList(n.variableDeclarators)},n.prototype.visitVariableDeclarator=function(n){this.visitToken(n.propertyName);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitEqualsValueClause=function(n){this.visitToken(n.equalsToken);this.visitNodeOrToken(n.value)},n.prototype.visitPrefixUnaryExpression=function(n){this.visitToken(n.operatorToken);this.visitNodeOrToken(n.operand)},n.prototype.visitArrayLiteralExpression=function(n){this.visitToken(n.openBracketToken);this.visitSeparatedList(n.expressions);this.visitToken(n.closeBracketToken)},n.prototype.visitOmittedExpression=function(){},n.prototype.visitParenthesizedExpression=function(n){this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken)},n.prototype.visitSimpleArrowFunctionExpression=function(n){this.visitToken(n.identifier);this.visitToken(n.equalsGreaterThanToken);this.visitOptionalNode(n.block);this.visitOptionalNodeOrToken(n.expression)},n.prototype.visitParenthesizedArrowFunctionExpression=function(n){this.visitNode(n.callSignature);this.visitToken(n.equalsGreaterThanToken);this.visitOptionalNode(n.block);this.visitOptionalNodeOrToken(n.expression)},n.prototype.visitQualifiedName=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.dotToken);this.visitToken(n.right)},n.prototype.visitTypeArgumentList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeArguments);this.visitToken(n.greaterThanToken)},n.prototype.visitConstructorType=function(n){this.visitToken(n.newKeyword);this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitFunctionType=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitToken(n.equalsGreaterThanToken);this.visitNodeOrToken(n.type)},n.prototype.visitObjectType=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.typeMembers);this.visitToken(n.closeBraceToken)},n.prototype.visitArrayType=function(n){this.visitNodeOrToken(n.type);this.visitToken(n.openBracketToken);this.visitToken(n.closeBracketToken)},n.prototype.visitGenericType=function(n){this.visitNodeOrToken(n.name);this.visitNode(n.typeArgumentList)},n.prototype.visitTypeQuery=function(n){this.visitToken(n.typeOfKeyword);this.visitNodeOrToken(n.name)},n.prototype.visitTypeAnnotation=function(n){this.visitToken(n.colonToken);this.visitNodeOrToken(n.type)},n.prototype.visitBlock=function(n){this.visitToken(n.openBraceToken);this.visitList(n.statements);this.visitToken(n.closeBraceToken)},n.prototype.visitParameter=function(n){this.visitOptionalToken(n.dotDotDotToken);this.visitList(n.modifiers);this.visitToken(n.identifier);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitMemberAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.dotToken);this.visitToken(n.name)},n.prototype.visitPostfixUnaryExpression=function(n){this.visitNodeOrToken(n.operand);this.visitToken(n.operatorToken)},n.prototype.visitElementAccessExpression=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.openBracketToken);this.visitNodeOrToken(n.argumentExpression);this.visitToken(n.closeBracketToken)},n.prototype.visitInvocationExpression=function(n){this.visitNodeOrToken(n.expression);this.visitNode(n.argumentList)},n.prototype.visitArgumentList=function(n){this.visitOptionalNode(n.typeArgumentList);this.visitToken(n.openParenToken);this.visitSeparatedList(n.arguments);this.visitToken(n.closeParenToken)},n.prototype.visitBinaryExpression=function(n){this.visitNodeOrToken(n.left);this.visitToken(n.operatorToken);this.visitNodeOrToken(n.right)},n.prototype.visitConditionalExpression=function(n){this.visitNodeOrToken(n.condition);this.visitToken(n.questionToken);this.visitNodeOrToken(n.whenTrue);this.visitToken(n.colonToken);this.visitNodeOrToken(n.whenFalse)},n.prototype.visitConstructSignature=function(n){this.visitToken(n.newKeyword);this.visitNode(n.callSignature)},n.prototype.visitMethodSignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitNode(n.callSignature)},n.prototype.visitIndexSignature=function(n){this.visitToken(n.openBracketToken);this.visitNode(n.parameter);this.visitToken(n.closeBracketToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitPropertySignature=function(n){this.visitToken(n.propertyName);this.visitOptionalToken(n.questionToken);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitCallSignature=function(n){this.visitOptionalNode(n.typeParameterList);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation)},n.prototype.visitParameterList=function(n){this.visitToken(n.openParenToken);this.visitSeparatedList(n.parameters);this.visitToken(n.closeParenToken)},n.prototype.visitTypeParameterList=function(n){this.visitToken(n.lessThanToken);this.visitSeparatedList(n.typeParameters);this.visitToken(n.greaterThanToken)},n.prototype.visitTypeParameter=function(n){this.visitToken(n.identifier);this.visitOptionalNode(n.constraint)},n.prototype.visitConstraint=function(n){this.visitToken(n.extendsKeyword);this.visitNodeOrToken(n.type)},n.prototype.visitElseClause=function(n){this.visitToken(n.elseKeyword);this.visitNodeOrToken(n.statement)},n.prototype.visitIfStatement=function(n){this.visitToken(n.ifKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement);this.visitOptionalNode(n.elseClause)},n.prototype.visitExpressionStatement=function(n){this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitConstructorDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.constructorKeyword);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitMemberFunctionDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitOptionalNode(n.block);this.visitOptionalToken(n.semicolonToken)},n.prototype.visitGetAccessor=function(n){this.visitList(n.modifiers);this.visitToken(n.getKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitOptionalNode(n.typeAnnotation);this.visitNode(n.block)},n.prototype.visitSetAccessor=function(n){this.visitList(n.modifiers);this.visitToken(n.setKeyword);this.visitToken(n.propertyName);this.visitNode(n.parameterList);this.visitNode(n.block)},n.prototype.visitMemberVariableDeclaration=function(n){this.visitList(n.modifiers);this.visitNode(n.variableDeclarator);this.visitToken(n.semicolonToken)},n.prototype.visitIndexMemberDeclaration=function(n){this.visitList(n.modifiers);this.visitNode(n.indexSignature);this.visitToken(n.semicolonToken)},n.prototype.visitThrowStatement=function(n){this.visitToken(n.throwKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitReturnStatement=function(n){this.visitToken(n.returnKeyword);this.visitOptionalNodeOrToken(n.expression);this.visitToken(n.semicolonToken)},n.prototype.visitObjectCreationExpression=function(n){this.visitToken(n.newKeyword);this.visitNodeOrToken(n.expression);this.visitOptionalNode(n.argumentList)},n.prototype.visitSwitchStatement=function(n){this.visitToken(n.switchKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitToken(n.openBraceToken);this.visitList(n.switchClauses);this.visitToken(n.closeBraceToken)},n.prototype.visitCaseSwitchClause=function(n){this.visitToken(n.caseKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitDefaultSwitchClause=function(n){this.visitToken(n.defaultKeyword);this.visitToken(n.colonToken);this.visitList(n.statements)},n.prototype.visitBreakStatement=function(n){this.visitToken(n.breakKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitContinueStatement=function(n){this.visitToken(n.continueKeyword);this.visitOptionalToken(n.identifier);this.visitToken(n.semicolonToken)},n.prototype.visitForStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.initializer);this.visitToken(n.firstSemicolonToken);this.visitOptionalNodeOrToken(n.condition);this.visitToken(n.secondSemicolonToken);this.visitOptionalNodeOrToken(n.incrementor);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitForInStatement=function(n){this.visitToken(n.forKeyword);this.visitToken(n.openParenToken);this.visitOptionalNode(n.variableDeclaration);this.visitOptionalNodeOrToken(n.left);this.visitToken(n.inKeyword);this.visitNodeOrToken(n.expression);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWhileStatement=function(n){this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitWithStatement=function(n){this.visitToken(n.withKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitNodeOrToken(n.statement)},n.prototype.visitEnumDeclaration=function(n){this.visitList(n.modifiers);this.visitToken(n.enumKeyword);this.visitToken(n.identifier);this.visitToken(n.openBraceToken);this.visitSeparatedList(n.enumElements);this.visitToken(n.closeBraceToken)},n.prototype.visitEnumElement=function(n){this.visitToken(n.propertyName);this.visitOptionalNode(n.equalsValueClause)},n.prototype.visitCastExpression=function(n){this.visitToken(n.lessThanToken);this.visitNodeOrToken(n.type);this.visitToken(n.greaterThanToken);this.visitNodeOrToken(n.expression)},n.prototype.visitObjectLiteralExpression=function(n){this.visitToken(n.openBraceToken);this.visitSeparatedList(n.propertyAssignments);this.visitToken(n.closeBraceToken)},n.prototype.visitSimplePropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitToken(n.colonToken);this.visitNodeOrToken(n.expression)},n.prototype.visitFunctionPropertyAssignment=function(n){this.visitToken(n.propertyName);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitFunctionExpression=function(n){this.visitToken(n.functionKeyword);this.visitOptionalToken(n.identifier);this.visitNode(n.callSignature);this.visitNode(n.block)},n.prototype.visitEmptyStatement=function(n){this.visitToken(n.semicolonToken)},n.prototype.visitTryStatement=function(n){this.visitToken(n.tryKeyword);this.visitNode(n.block);this.visitOptionalNode(n.catchClause);this.visitOptionalNode(n.finallyClause)},n.prototype.visitCatchClause=function(n){this.visitToken(n.catchKeyword);this.visitToken(n.openParenToken);this.visitToken(n.identifier);this.visitOptionalNode(n.typeAnnotation);this.visitToken(n.closeParenToken);this.visitNode(n.block)},n.prototype.visitFinallyClause=function(n){this.visitToken(n.finallyKeyword);this.visitNode(n.block)},n.prototype.visitLabeledStatement=function(n){this.visitToken(n.identifier);this.visitToken(n.colonToken);this.visitNodeOrToken(n.statement)},n.prototype.visitDoStatement=function(n){this.visitToken(n.doKeyword);this.visitNodeOrToken(n.statement);this.visitToken(n.whileKeyword);this.visitToken(n.openParenToken);this.visitNodeOrToken(n.condition);this.visitToken(n.closeParenToken);this.visitToken(n.semicolonToken)},n.prototype.visitTypeOfExpression=function(n){this.visitToken(n.typeOfKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDeleteExpression=function(n){this.visitToken(n.deleteKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitVoidExpression=function(n){this.visitToken(n.voidKeyword);this.visitNodeOrToken(n.expression)},n.prototype.visitDebuggerStatement=function(n){this.visitToken(n.debuggerKeyword);this.visitToken(n.semicolonToken)},n}();n.SyntaxWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(){n.apply(this,arguments);this._position=0}return __extends(t,n),t.prototype.visitToken=function(n){this._position+=n.fullWidth()},t.prototype.position=function(){return this._position},t.prototype.skip=function(n){this._position+=n.fullWidth()},t}(n.SyntaxWalker);n.PositionTrackingWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(i,r){t.call(this);this.trackParents=i;this.trackPreviousToken=r;this.tokenToInformation=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this.elementToPosition=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._previousToken=null;this._previousTokenInformation=null;this._currentPosition=0;this._elementToParent=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode);this._parentStack=[];this._parentStack.push(null)}return __extends(i,t),i.create=function(n,t,r){var u=new i(t,r);return u.visitNode(n),u},i.prototype.visitNode=function(i){this.trackParents&&this._elementToParent.add(i,n.ArrayUtilities.last(this._parentStack));this.elementToPosition.add(i,this._currentPosition);this.trackParents&&this._parentStack.push(i);t.prototype.visitNode.call(this,i);this.trackParents&&this._parentStack.pop()},i.prototype.visitToken=function(t){if(this.trackParents&&this._elementToParent.add(t,n.ArrayUtilities.last(this._parentStack)),this.trackPreviousToken){var i={previousToken:this._previousToken,nextToken:null};this._previousTokenInformation!==null&&(this._previousTokenInformation.nextToken=t);this._previousToken=t;this._previousTokenInformation=i;this.tokenToInformation.add(t,i)}this.elementToPosition.add(t,this._currentPosition);this._currentPosition+=t.fullWidth()},i.prototype.parent=function(n){return this._elementToParent.get(n)},i.prototype.fullStart=function(n){return this.elementToPosition.get(n)},i.prototype.start=function(n){return this.fullStart(n)+n.leadingTriviaWidth()},i.prototype.end=function(n){return this.start(n)+n.width()},i.prototype.previousToken=function(n){return this.tokenInformation(n).previousToken},i.prototype.tokenInformation=function(n){return this.tokenToInformation.get(n)},i.prototype.firstTokenInLineContainingToken=function(n){for(var t=n,i;;){if(i=this.tokenInformation(t),this.isFirstTokenInLineWorker(i))break;t=i.previousToken}return t},i.prototype.isFirstTokenInLine=function(n){var t=this.tokenInformation(n);return this.isFirstTokenInLineWorker(t)},i.prototype.isFirstTokenInLineWorker=function(n){return n.previousToken===null||n.previousToken.hasTrailingNewLine()},i}(n.SyntaxWalker);n.SyntaxInformationMap=t}(TypeScript||(TypeScript={})),function(n){var t=function(t){function i(){t.apply(this,arguments);this.tokenTable=n.Collections.createHashTable(n.Collections.DefaultHashTableCapacity,n.Collections.identityHashCode)}return __extends(i,t),i.checkInvariants=function(n){n.accept(new i)},i.prototype.visitToken=function(n){this.tokenTable.add(n,n)},i}(n.SyntaxWalker);n.SyntaxNodeInvariantsChecker=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this._depth=0;this._maximumDepth=0;this._maximumDepth=t}return __extends(t,n),t.prototype.visitNode=function(t){this._depth<this._maximumDepth?(this._depth++,n.prototype.visitNode.call(this,t),this._depth--):this.skip(t)},t}(n.PositionTrackingWalker);n.DepthLimitedWalker=t}(TypeScript||(TypeScript={})),function(n){(function(t){function s(n,t,i,r){var e=new u(n,t,r.languageVersion());return new f(n,t.lineMap(),e,r,t).parseSyntaxTree(i)}function h(n,t,i){if(t.isUnchanged())return n;var r=new o(n,t,i);return new f(n.fileName(),i.lineMap(),r,n.parseOptions(),i).parseSyntaxTree(n.isDeclaration())}var i,r;(function(n){n[n.CommaExpressionPrecedence=1]="CommaExpressionPrecedence";n[n.AssignmentExpressionPrecedence=2]="AssignmentExpressionPrecedence";n[n.ConditionalExpressionPrecedence=3]="ConditionalExpressionPrecedence";n[n.ArrowFunctionPrecedence=4]="ArrowFunctionPrecedence";n[n.LogicalOrExpressionPrecedence=5]="LogicalOrExpressionPrecedence";n[n.LogicalAndExpressionPrecedence=6]="LogicalAndExpressionPrecedence";n[n.BitwiseOrExpressionPrecedence=7]="BitwiseOrExpressionPrecedence";n[n.BitwiseExclusiveOrExpressionPrecedence=8]="BitwiseExclusiveOrExpressionPrecedence";n[n.BitwiseAndExpressionPrecedence=9]="BitwiseAndExpressionPrecedence";n[n.EqualityExpressionPrecedence=10]="EqualityExpressionPrecedence";n[n.RelationalExpressionPrecedence=11]="RelationalExpressionPrecedence";n[n.ShiftExpressionPrecdence=12]="ShiftExpressionPrecdence";n[n.AdditiveExpressionPrecedence=13]="AdditiveExpressionPrecedence";n[n.MultiplicativeExpressionPrecedence=14]="MultiplicativeExpressionPrecedence";n[n.UnaryExpressionPrecedence=15]="UnaryExpressionPrecedence"})(i||(i={})),function(n){n[n.SourceUnit_ModuleElements=1]="SourceUnit_ModuleElements";n[n.ClassDeclaration_ClassElements=2]="ClassDeclaration_ClassElements";n[n.ModuleDeclaration_ModuleElements=4]="ModuleDeclaration_ModuleElements";n[n.SwitchStatement_SwitchClauses=8]="SwitchStatement_SwitchClauses";n[n.SwitchClause_Statements=16]="SwitchClause_Statements";n[n.Block_Statements=32]="Block_Statements";n[n.TryBlock_Statements=64]="TryBlock_Statements";n[n.CatchBlock_Statements=128]="CatchBlock_Statements";n[n.EnumDeclaration_EnumElements=256]="EnumDeclaration_EnumElements";n[n.ObjectType_TypeMembers=512]="ObjectType_TypeMembers";n[n.ClassOrInterfaceDeclaration_HeritageClauses=1024]="ClassOrInterfaceDeclaration_HeritageClauses";n[n.HeritageClause_TypeNameList=2048]="HeritageClause_TypeNameList";n[n.VariableDeclaration_VariableDeclarators_AllowIn=4096]="VariableDeclaration_VariableDeclarators_AllowIn";n[n.VariableDeclaration_VariableDeclarators_DisallowIn=8192]="VariableDeclaration_VariableDeclarators_DisallowIn";n[n.ArgumentList_AssignmentExpressions=16384]="ArgumentList_AssignmentExpressions";n[n.ObjectLiteralExpression_PropertyAssignments=32768]="ObjectLiteralExpression_PropertyAssignments";n[n.ArrayLiteralExpression_AssignmentExpressions=65536]="ArrayLiteralExpression_AssignmentExpressions";n[n.ParameterList_Parameters=131072]="ParameterList_Parameters";n[n.TypeArgumentList_Types=262144]="TypeArgumentList_Types";n[n.TypeParameterList_TypeParameters=524288]="TypeParameterList_TypeParameters";n[n.FirstListParsingState=n.SourceUnit_ModuleElements]="FirstListParsingState";n[n.LastListParsingState=n.TypeParameterList_TypeParameters]="LastListParsingState"}(r||(r={}));var e=function(){function n(n){this._elements=[];this._index=0;this._pinCount=0;n.insertChildrenInto(this._elements,0)}return n.prototype.isFinished=function(){return this._index===this._elements.length},n.prototype.currentElement=function(){return this.isFinished()?null:this._elements[this._index]},n.prototype.currentNode=function(){var n=this.currentElement();return n!==null&&n.isNode()?n:null},n.prototype.moveToFirstChild=function(){var n,t;this.isFinished()||(n=this._elements[this._index],n.isToken())||(t=n,this._elements.splice(this._index,1),t.insertChildrenInto(this._elements,this._index))},n.prototype.moveToNextSibling=function(){if(!this.isFinished()){if(this._pinCount>0){this._index++;return}this._elements.shift()}},n.prototype.getAndPinCursorIndex=function(){return this._pinCount++,this._index},n.prototype.releaseAndUnpinCursorIndex=function(){this._pinCount--;this._pinCount===0},n.prototype.rewindToPinnedCursorIndex=function(n){this._index=n},n.prototype.pinCount=function(){return this._pinCount},n.prototype.moveToFirstToken=function(){for(var n;!this.isFinished();){if(n=this.currentElement(),n.isNode()){this.moveToFirstChild();continue}return}},n.prototype.currentToken=function(){if(this.moveToFirstToken(),this.isFinished())return null;return this.currentElement()},n.prototype.peekToken=function(n){var t,i,r;for(this.moveToFirstToken(),t=this.getAndPinCursorIndex(),i=0;i<n;i++)this.moveToNextSibling(),this.moveToFirstToken();return r=this.currentToken(),this.rewindToPinnedCursorIndex(t),this.releaseAndUnpinCursorIndex(t),r},n}(),u=function(){function t(t,i,r){this._previousToken=null;this._absolutePosition=0;this._tokenDiagnostics=[];this.rewindPointPool=[];this.rewindPointPoolCount=0;this.slidingWindow=new n.SlidingWindow(this,n.ArrayUtilities.createArray(32,null),null);this.scanner=new n.Scanner(t,i,r)}return t.prototype.currentNode=function(){return null},t.prototype.moveToNextNode=function(){throw n.Errors.invalidOperation();},t.prototype.absolutePosition=function(){return this._absolutePosition},t.prototype.previousToken=function(){return this._previousToken},t.prototype.tokenDiagnostics=function(){return this._tokenDiagnostics},t.prototype.getOrCreateRewindPoint=function(){if(this.rewindPointPoolCount===0)return{};this.rewindPointPoolCount--;var n=this.rewindPointPool[this.rewindPointPoolCount];return this.rewindPointPool[this.rewindPointPoolCount]=null,n},t.prototype.getRewindPoint=function(){var t=this.slidingWindow.getAndPinAbsoluteIndex(),n=this.getOrCreateRewindPoint();return n.slidingWindowIndex=t,n.previousToken=this._previousToken,n.absolutePosition=this._absolutePosition,n.pinCount=this.slidingWindow.pinCount(),n},t.prototype.isPinned=function(){return this.slidingWindow.pinCount()>0},t.prototype.rewind=function(n){this.slidingWindow.rewindToPinnedIndex(n.slidingWindowIndex);this._previousToken=n.previousToken;this._absolutePosition=n.absolutePosition},t.prototype.releaseRewindPoint=function(n){this.slidingWindow.releaseAndUnpinAbsoluteIndex(n.absoluteIndex);this.rewindPointPool[this.rewindPointPoolCount]=n;this.rewindPointPoolCount++},t.prototype.fetchMoreItems=function(n,t,i,r){return i[r]=this.scanner.scan(this._tokenDiagnostics,n),1},t.prototype.peekToken=function(n){return this.slidingWindow.peekItemN(n)},t.prototype.moveToNextToken=function(){var n=this.currentToken();this._absolutePosition+=n.fullWidth();this._previousToken=n;this.slidingWindow.moveToNextItem()},t.prototype.currentToken=function(){return this.slidingWindow.currentItem(!1)},t.prototype.removeDiagnosticsOnOrAfterPosition=function(n){for(var t=this._tokenDiagnostics.length,i;t>0;)if(i=this._tokenDiagnostics[t-1],i.start()>=n)t--;else break;this._tokenDiagnostics.length=t},t.prototype.resetToPosition=function(n,t){this._absolutePosition=n;this._previousToken=t;this.removeDiagnosticsOnOrAfterPosition(n);this.slidingWindow.disgardAllItemsFromCurrentIndexOnwards();this.scanner.setAbsoluteIndex(n)},t.prototype.currentTokenAllowingRegularExpression=function(){this.resetToPosition(this._absolutePosition,this._previousToken);return this.slidingWindow.currentItem(!0)},t}(),o=function(){function t(i,r,f){this._changeDelta=0;var o=i.sourceUnit();this._oldSourceUnitCursor=new e(o);this._changeRange=t.extendToAffectedRange(r,o);n.Debug.shouldAssert(2)&&n.Debug.assert(o.fullWidth()-this._changeRange.span().length()+this._changeRange.newLength()===f.length());this._normalParserSource=new u(i.fileName(),f,i.parseOptions().languageVersion())}return t.extendToAffectedRange=function(t,i){for(var f,e,o,s,r=t.span().start(),u=0;r>0&&u<=1;u++)f=i.findToken(r),e=f.fullStart(),r=n.MathPrototype.max(0,e-1);return o=n.TextSpan.fromBounds(r,t.span().end()),s=t.newLength()+(t.span().start()-r),new n.TextChangeRange(o,s)},t.prototype.absolutePosition=function(){return this._normalParserSource.absolutePosition()},t.prototype.previousToken=function(){return this._normalParserSource.previousToken()},t.prototype.tokenDiagnostics=function(){return this._normalParserSource.tokenDiagnostics()},t.prototype.getRewindPoint=function(){var n=this._normalParserSource.getRewindPoint(),t=this._oldSourceUnitCursor.getAndPinCursorIndex();return n.changeDelta=this._changeDelta,n.changeRange=this._changeRange,n.oldSourceUnitCursorIndex=t,n},t.prototype.rewind=function(n){this._changeRange=n.changeRange;this._changeDelta=n.changeDelta;this._oldSourceUnitCursor.rewindToPinnedCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.rewind(n)},t.prototype.releaseRewindPoint=function(n){this._oldSourceUnitCursor.releaseAndUnpinCursorIndex(n.oldSourceUnitCursorIndex);this._normalParserSource.releaseRewindPoint(n)},t.prototype.canReadFromOldSourceUnit=function(){return this._normalParserSource.isPinned()?!1:this._changeRange!==null&&this._changeRange.newSpan().intersectsWithPosition(this.absolutePosition())?!1:(this.syncCursorToNewTextIfBehind(),this._changeDelta===0&&!this._oldSourceUnitCursor.isFinished())},t.prototype.currentNode=function(){return this.canReadFromOldSourceUnit()?this.tryGetNodeFromOldSourceUnit():null},t.prototype.currentToken=function(){if(this.canReadFromOldSourceUnit()){var n=this.tryGetTokenFromOldSourceUnit();if(n!==null)return n}return this._normalParserSource.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this._normalParserSource.currentTokenAllowingRegularExpression()},t.prototype.syncCursorToNewTextIfBehind=function(){for(;;){if(this._oldSourceUnitCursor.isFinished())break;if(this._changeDelta>=0)break;var n=this._oldSourceUnitCursor.currentElement();n.isNode()&&n.fullWidth()>Math.abs(this._changeDelta)?this._oldSourceUnitCursor.moveToFirstChild():(this._oldSourceUnitCursor.moveToNextSibling(),this._changeDelta+=n.fullWidth())}},t.prototype.intersectsWithChangeRangeSpanInOriginalText=function(n,t){return this._changeRange!==null&&this._changeRange.span().intersectsWith(n,t)},t.prototype.tryGetNodeFromOldSourceUnit=function(){for(;;){var n=this._oldSourceUnitCursor.currentNode();if(n===null)return null;if(!this.intersectsWithChangeRangeSpanInOriginalText(this.absolutePosition(),n.fullWidth())&&!n.isIncrementallyUnusable())return n;this._oldSourceUnitCursor.moveToFirstChild()}},t.prototype.canReuseTokenFromOldSourceUnit=function(n,t){return t!==null&&!this.intersectsWithChangeRangeSpanInOriginalText(n,t.fullWidth())&&!t.isIncrementallyUnusable()?!0:!1},t.prototype.tryGetTokenFromOldSourceUnit=function(){var n=this._oldSourceUnitCursor.currentToken();return this.canReuseTokenFromOldSourceUnit(this.absolutePosition(),n)?n:null},t.prototype.peekToken=function(n){if(this.canReadFromOldSourceUnit()){var t=this.tryPeekTokenFromOldSourceUnit(n);if(t!==null)return t}return this._normalParserSource.peekToken(n)},t.prototype.tryPeekTokenFromOldSourceUnit=function(n){for(var r,u,t=this.absolutePosition(),i=0;i<n;i++){if(r=this._oldSourceUnitCursor.peekToken(i),!this.canReuseTokenFromOldSourceUnit(t,r))return null;t+=r.fullWidth()}return u=this._oldSourceUnitCursor.peekToken(n),this.canReuseTokenFromOldSourceUnit(t,u)?u:null},t.prototype.moveToNextNode=function(){var r=this._oldSourceUnitCursor.currentElement(),n=this._oldSourceUnitCursor.currentNode(),t,i;this._oldSourceUnitCursor.moveToNextSibling();t=this.absolutePosition()+n.fullWidth();i=n.lastToken();this._normalParserSource.resetToPosition(t,i);this._changeRange!==null},t.prototype.moveToNextToken=function(){var n=this.currentToken(),t,i,r;this._oldSourceUnitCursor.currentToken()===n?(this._oldSourceUnitCursor.moveToNextSibling(),t=this.absolutePosition()+n.fullWidth(),i=n,this._normalParserSource.resetToPosition(t,i),this._changeRange!==null):(this._changeDelta-=n.fullWidth(),this._normalParserSource.moveToNextToken(),this._changeRange!==null&&(r=this._changeRange.newSpan(),this.absolutePosition()>=r.end()&&(this._changeDelta+=this._changeRange.newLength()-this._changeRange.span().length(),this._changeRange=null)))},t}(),f=function(){function t(t,i,r,u,f){this.newText_forDebuggingPurposesOnly=f;this.listParsingState=0;this.isInStrictMode=!1;this.diagnostics=[];this.factory=n.Syntax.normalModeFactory;this.mergeTokensStorage=[];this.arrayPool=[];this.fileName=t;this.lineMap=i;this.source=r;this.parseOptions=u}return t.prototype.getRewindPoint=function(){var n=this.source.getRewindPoint();return n.diagnosticsCount=this.diagnostics.length,n.isInStrictMode=this.isInStrictMode,n.listParsingState=this.listParsingState,n},t.prototype.rewind=function(n){this.source.rewind(n);this.diagnostics.length=n.diagnosticsCount},t.prototype.releaseRewindPoint=function(n){this.source.releaseRewindPoint(n)},t.prototype.currentTokenStart=function(){return this.source.absolutePosition()+this.currentToken().leadingTriviaWidth()},t.prototype.previousTokenStart=function(){return this.previousToken()===null?0:this.source.absolutePosition()-this.previousToken().fullWidth()+this.previousToken().leadingTriviaWidth()},t.prototype.previousTokenEnd=function(){return this.previousToken()===null?0:this.previousTokenStart()+this.previousToken().width()},t.prototype.currentNode=function(){var n=this.source.currentNode();return n===null||n.parsedInStrictMode()!==this.isInStrictMode?null:n},t.prototype.currentToken=function(){return this.source.currentToken()},t.prototype.currentTokenAllowingRegularExpression=function(){return this.source.currentTokenAllowingRegularExpression()},t.prototype.peekToken=function(n){return this.source.peekToken(n)},t.prototype.eatAnyToken=function(){var n=this.currentToken();return this.moveToNextToken(),n},t.prototype.moveToNextToken=function(){this.source.moveToNextToken()},t.prototype.previousToken=function(){return this.source.previousToken()},t.prototype.eatNode=function(){var n=this.source.currentNode();return this.source.moveToNextNode(),n},t.prototype.eatToken=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.tryEatToken=function(n){return this.currentToken().tokenKind===n?this.eatToken(n):null},t.prototype.eatKeyword=function(n){var t=this.currentToken();return t.tokenKind===n?(this.moveToNextToken(),t):this.createMissingToken(n,t)},t.prototype.isIdentifier=function(n){var t=n.tokenKind;return t===11?!0:t>=51?t<=59?!this.isInStrictMode:t<=69:!1},t.prototype.eatIdentifierNameToken=function(){var t=this.currentToken();return t.tokenKind===11?(this.moveToNextToken(),t):n.SyntaxFacts.isAnyKeyword(t.tokenKind)?(this.moveToNextToken(),n.Syntax.convertToIdentifierName(t)):this.createMissingToken(11,t)},t.prototype.eatIdentifierToken=function(){var t=this.currentToken();return this.isIdentifier(t)?(this.moveToNextToken(),t.tokenKind===11)?t:n.Syntax.convertToIdentifierName(t):this.createMissingToken(11,t)},t.prototype.canEatAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===10?!0:t.tokenKind===71?!0:n?!0:this.previousToken()!==null&&this.previousToken().hasTrailingNewLine()?!0:!1},t.prototype.canEatExplicitOrAutomaticSemicolon=function(n){var t=this.currentToken();return t.tokenKind===78?!0:this.canEatAutomaticSemicolon(n)},t.prototype.eatExplicitOrAutomaticSemicolon=function(t){var r=this.currentToken(),i;return r.tokenKind===78?this.eatToken(78):this.canEatAutomaticSemicolon(t)?(i=n.Syntax.emptyToken(78),this.parseOptions.allowAutomaticSemicolonInsertion()||this.addDiagnostic(new n.Diagnostic(this.fileName,this.lineMap,this.previousTokenEnd(),0,n.DiagnosticCode.Automatic_semicolon_insertion_not_allowed,null)),i):this.eatToken(78)},t.prototype.isKeyword=function(n){if(n>=15){if(n<=50)return!0;if(this.isInStrictMode)return n<=59}return!1},t.prototype.createMissingToken=function(t,i){var r=this.getExpectedTokenDiagnostic(t,i);return this.addDiagnostic(r),n.Syntax.emptyToken(t)},t.prototype.getExpectedTokenDiagnostic=function(t,i){var r=this.currentToken();return n.SyntaxFacts.isAnyKeyword(t)||n.SyntaxFacts.isAnyPunctuation(t)?new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),r.width(),n.DiagnosticCode._0_expected,[n.SyntaxFacts.getText(t)]):i!==null&&n.SyntaxFacts.isAnyKeyword(i.tokenKind)?new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),r.width(),n.DiagnosticCode.Identifier_expected_0_is_a_keyword,[n.SyntaxFacts.getText(i.tokenKind)]):new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),r.width(),n.DiagnosticCode.Identifier_expected,null)},t.getPrecedence=function(t){switch(t){case 173:return 1;case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:return 2;case 186:return 3;case 187:return 5;case 188:return 6;case 189:return 7;case 190:return 8;case 191:return 9;case 192:case 193:case 194:case 195:return 10;case 196:case 197:case 198:case 199:case 200:case 201:return 11;case 202:case 203:case 204:return 12;case 208:case 209:return 13;case 205:case 206:case 207:return 14;case 164:case 165:case 166:case 167:case 170:case 171:case 172:case 168:case 169:return 15}throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNodeOrToken=function(t,i){if(t.isToken())return this.addSkippedTokenAfterToken(t,i);if(t.isNode())return this.addSkippedTokenAfterNode(t,i);throw n.Errors.invalidOperation();},t.prototype.addSkippedTokenAfterNode=function(n,t){var i=n.lastToken(),r=this.addSkippedTokenAfterToken(i,t);return n.replaceToken(i,r)},t.prototype.addSkippedTokensBeforeNode=function(n,t){if(t.length>0){var i=n.firstToken(),r=this.addSkippedTokensBeforeToken(i,t);return n.replaceToken(i,r)}return n},t.prototype.addSkippedTokensBeforeToken=function(t,i){for(var r=[],u=0,f=i.length;u<f;u++)this.addSkippedTokenToTriviaArray(r,i[u]);return this.addTriviaTo(t.leadingTrivia(),r),this.returnArray(i),t.withLeadingTrivia(n.Syntax.triviaList(r))},t.prototype.addSkippedTokensAfterToken=function(t,i){var u,r,f;if(i.length===0)return this.returnArray(i),t;for(u=t.trailingTrivia().toArray(),r=0,f=i.length;r<f;r++)this.addSkippedTokenToTriviaArray(u,i[r]);return this.returnArray(i),t.withTrailingTrivia(n.Syntax.triviaList(u))},t.prototype.addSkippedTokenAfterToken=function(t,i){var r=t.trailingTrivia().toArray();return this.addSkippedTokenToTriviaArray(r,i),t.withTrailingTrivia(n.Syntax.triviaList(r))},t.prototype.addSkippedTokenToTriviaArray=function(t,i){this.addTriviaTo(i.leadingTrivia(),t);var r=i.withLeadingTrivia(n.Syntax.emptyTriviaList).withTrailingTrivia(n.Syntax.emptyTriviaList);t.push(n.Syntax.skippedTokenTrivia(r));this.addTriviaTo(i.trailingTrivia(),t)},t.prototype.addTriviaTo=function(n,t){for(var i=0,r=n.count();i<r;i++)t.push(n.syntaxTriviaAt(i))},t.prototype.parseSyntaxTree=function(t){var r=this.parseSourceUnit(),i=this.source.tokenDiagnostics().concat(this.diagnostics);return i.sort(function(n,t){return n.start()-t.start()}),new n.SyntaxTree(r,t,i,this.fileName,this.lineMap,this.parseOptions)},t.prototype.setStrictMode=function(t){this.isInStrictMode=t;this.factory=t?n.Syntax.strictModeFactory:n.Syntax.normalModeFactory},t.prototype.parseSourceUnit=function(){var u=this.isInStrictMode,r=this.parseSyntaxList(1,t.updateStrictModeState),f=r.list,i;return this.setStrictMode(u),i=this.factory.sourceUnit(f,this.currentToken()),i=this.addSkippedTokensBeforeNode(i,r.skippedTokens),n.Debug.shouldAssert(2)&&(n.Debug.assert(i.fullWidth()===this.newText_forDebuggingPurposesOnly.length()),n.Debug.shouldAssert(3)&&n.Debug.assert(i.fullText()===this.newText_forDebuggingPurposesOnly.substr(0,this.newText_forDebuggingPurposesOnly.length(),!1))),i},t.updateStrictModeState=function(t,i){var r,u;if(!t.isInStrictMode){for(r=0;r<i.length;r++)if(u=i[r],!n.SyntaxFacts.isDirectivePrologueElement(u))return;t.setStrictMode(n.SyntaxFacts.isUseStrictDirective(i[i.length-1]))}},t.prototype.isModuleElement=function(n){if(this.currentNode()!==null&&this.currentNode().isModuleElement())return!0;var t=this.modifierCount();return this.isImportDeclaration(t)||this.isExportAssignment()||this.isModuleDeclaration(t)||this.isInterfaceDeclaration(t)||this.isClassDeclaration(t)||this.isEnumDeclaration(t)||this.isStatement(n)},t.prototype.parseModuleElement=function(t){if(this.currentNode()!==null&&this.currentNode().isModuleElement())return this.eatNode();var i=this.modifierCount();if(this.isImportDeclaration(i))return this.parseImportDeclaration();if(this.isExportAssignment())return this.parseExportAssignment();if(this.isModuleDeclaration(i))return this.parseModuleDeclaration();if(this.isInterfaceDeclaration(i))return this.parseInterfaceDeclaration();if(this.isClassDeclaration(i))return this.parseClassDeclaration();if(this.isEnumDeclaration(i))return this.parseEnumDeclaration();if(this.isStatement(t))return this.parseStatement(t);throw n.Errors.invalidOperation();},t.prototype.isImportDeclaration=function(n){return n>0&&this.peekToken(n).tokenKind===49?!0:this.currentToken().tokenKind===49&&this.isIdentifier(this.peekToken(1))},t.prototype.parseImportDeclaration=function(){var n=this.parseModifiers(),t=this.eatKeyword(49),i=this.eatIdentifierToken(),r=this.eatToken(107),u=this.parseModuleReference(),f=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.importDeclaration(n,t,i,r,u,f)},t.prototype.isExportAssignment=function(){return this.currentToken().tokenKind===47&&this.peekToken(1).tokenKind===107},t.prototype.parseExportAssignment=function(){var n=this.eatKeyword(47),t=this.eatToken(107),i=this.eatIdentifierToken(),r=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.exportAssignment(n,t,i,r)},t.prototype.parseModuleReference=function(){return this.isExternalModuleReference()?this.parseExternalModuleReference():this.parseModuleNameModuleReference()},t.prototype.isExternalModuleReference=function(){var n=this.currentToken();return n.tokenKind===66?this.peekToken(1).tokenKind===72:!1},t.prototype.parseExternalModuleReference=function(){var n=this.eatKeyword(66),t=this.eatToken(72),i=this.eatToken(14),r=this.eatToken(73);return this.factory.externalModuleReference(n,t,i,r)},t.prototype.parseModuleNameModuleReference=function(){var n=this.parseName();return this.factory.moduleNameModuleReference(n)},t.prototype.parseIdentifierName=function(){return this.eatIdentifierNameToken()},t.prototype.tryParseTypeArgumentList=function(n){var t,r,i,u,f;return this.currentToken().kind()!==80?null:n?(f=this.getRewindPoint(),t=this.eatToken(80),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(81),r.fullWidth()!==0&&this.canFollowTypeArgumentListInExpression(this.currentToken().kind())?(this.releaseRewindPoint(f),this.factory.typeArgumentList(t,u,r)):(this.rewind(f),this.releaseRewindPoint(f),null)):(t=this.eatToken(80),i=this.parseSeparatedSyntaxList(262144),u=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),r=this.eatToken(81),this.factory.typeArgumentList(t,u,r))},t.prototype.canFollowTypeArgumentListInExpression=function(n){switch(n){case 72:case 76:case 73:case 75:case 106:case 78:case 79:case 105:case 84:case 87:case 86:case 88:case 103:case 104:case 100:case 98:case 99:case 71:case 10:return!0;default:return!1}},t.prototype.parseName=function(){for(var u=this.isIdentifier(this.currentToken()),i=this.eatIdentifierToken(),f,t,r;u&&this.currentToken().tokenKind===76;)f=this.eatToken(76),t=this.currentToken(),r=n.SyntaxFacts.isAnyKeyword(t.tokenKind)&&this.previousToken().hasTrailingNewLine()&&!t.hasTrailingNewLine()&&n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.peekToken(1))?this.createMissingToken(11,t):this.eatIdentifierNameToken(),i=this.factory.qualifiedName(i,f,r),u=r.fullWidth()>0;return i},t.prototype.isEnumDeclaration=function(n){return n>0&&this.peekToken(n).tokenKind===46?!0:this.currentToken().tokenKind===46&&this.isIdentifier(this.peekToken(1))},t.prototype.parseEnumDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(46),o=this.eatIdentifierToken(),t=this.eatToken(70),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(256),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(71),this.factory.enumDeclaration(f,e,o,t,r,u)},t.prototype.isEnumElement=function(n){return this.currentNode()!==null&&this.currentNode().kind()===243?!0:this.isPropertyName(this.currentToken(),n)},t.prototype.parseEnumElement=function(){if(this.currentNode()!==null&&this.currentNode().kind()===243)return this.eatNode();var t=this.eatPropertyName(),n=null;return this.isEqualsValueClause(!1)&&(n=this.parseEqualsValueClause(!0)),this.factory.enumElement(t,n)},t.isModifier=function(n){switch(n.tokenKind){case 57:case 55:case 58:case 47:case 63:return!0;default:return!1}},t.prototype.modifierCount=function(){for(var n=0;;){if(t.isModifier(this.peekToken(n))){n++;continue}break}return n},t.prototype.parseModifiers=function(){for(var i=this.getArray(),r;;){if(t.isModifier(this.currentToken())){i.push(this.eatAnyToken());continue}break}return r=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),r},t.prototype.isClassDeclaration=function(n){return n>0&&this.peekToken(n).tokenKind===44?!0:this.currentToken().tokenKind===44&&this.isIdentifier(this.peekToken(1))},t.prototype.parseHeritageClauses=function(){var i=n.Syntax.emptyList,t;return this.isHeritageClause()&&(t=this.parseSyntaxList(1024),i=t.list,n.Debug.assert(t.skippedTokens.length===0)),i},t.prototype.parseClassDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(44),o=this.eatIdentifierToken(),s=this.parseOptionalTypeParameterList(!1),h=this.parseHeritageClauses(),t=this.eatToken(70),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(2),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(71),this.factory.classDeclaration(f,e,o,s,h,t,r,u)},t.isPublicOrPrivateKeyword=function(n){return n.tokenKind===57||n.tokenKind===55},t.prototype.isAccessor=function(n){var t=this.modifierCount();return this.peekToken(t).tokenKind!==64&&this.peekToken(t).tokenKind!==68?!1:(t++,this.isPropertyName(this.peekToken(t),n))},t.prototype.parseAccessor=function(t){var i=this.parseModifiers();if(this.currentToken().tokenKind===64)return this.parseGetMemberAccessorDeclaration(i,t);if(this.currentToken().tokenKind===68)return this.parseSetMemberAccessorDeclaration(i,t);throw n.Errors.invalidOperation();},t.prototype.parseGetMemberAccessorDeclaration=function(n,t){var i=this.eatKeyword(64),r=this.eatPropertyName(),u=this.parseParameterList(),f=this.parseOptionalTypeAnnotation(!1),e=this.parseBlock(!1,t);return this.factory.getAccessor(n,i,r,u,f,e)},t.prototype.parseSetMemberAccessorDeclaration=function(n,t){var i=this.eatKeyword(68),r=this.eatPropertyName(),u=this.parseParameterList(),f=this.parseBlock(!1,t);return this.factory.setAccessor(n,i,r,u,f)},t.prototype.isClassElement=function(n){return this.currentNode()!==null&&this.currentNode().isClassElement()?!0:this.isConstructorDeclaration()||this.isMemberFunctionDeclaration(n)||this.isAccessor(n)||this.isMemberVariableDeclaration(n)||this.isIndexMemberDeclaration()},t.prototype.parseClassElement=function(t){if(this.currentNode()!==null&&this.currentNode().isClassElement())return this.eatNode();if(this.isConstructorDeclaration())return this.parseConstructorDeclaration();if(this.isMemberFunctionDeclaration(t))return this.parseMemberFunctionDeclaration();if(this.isAccessor(t))return this.parseAccessor(!1);if(this.isMemberVariableDeclaration(t))return this.parseMemberVariableDeclaration();if(this.isIndexMemberDeclaration())return this.parseIndexMemberDeclaration();throw n.Errors.invalidOperation();},t.prototype.isConstructorDeclaration=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===62},t.prototype.parseConstructorDeclaration=function(){var i=this.parseModifiers(),r=this.eatKeyword(62),u=this.parseCallSignature(!1),n=null,t=null;return this.isBlock()?t=this.parseBlock(!1,!0):n=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.constructorDeclaration(i,r,u,t,n)},t.prototype.isMemberFunctionDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isCallSignature(i+1))return!0;if(t.isModifier(r)){i++;continue}return!1}},t.prototype.parseMemberFunctionDeclaration=function(){for(var r=this.getArray(),u,s,e,o;;){if(u=this.currentToken(),this.isPropertyName(u,!1)&&this.isCallSignature(1))break;n.Debug.assert(t.isModifier(u));r.push(this.eatAnyToken())}s=n.Syntax.list(r);this.returnZeroOrOneLengthArray(r);var c=this.eatPropertyName(),i=this.parseCallSignature(!1),f=!1,h=this.tryAddUnexpectedEqualsGreaterThanToken(i);return h!==i&&(f=!0,i=h),e=null,o=null,f||this.isBlock()?e=this.parseBlock(f,!0):o=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberFunctionDeclaration(s,c,i,e,o)},t.prototype.isDefinitelyMemberVariablePropertyName=function(t){if(n.SyntaxFacts.isAnyKeyword(this.peekToken(t).tokenKind))switch(this.peekToken(t+1).tokenKind){case 78:case 107:case 106:case 71:case 10:return!0;default:return!1}else return!0},t.prototype.isMemberVariableDeclaration=function(n){for(var i=0,r;;){if(r=this.peekToken(i),this.isPropertyName(r,n)&&this.isDefinitelyMemberVariablePropertyName(i))return!0;if(t.isModifier(this.peekToken(i))){i++;continue}return!1}},t.prototype.parseMemberVariableDeclaration=function(){for(var i=this.getArray(),r,u,f,e;;){if(r=this.currentToken(),this.isPropertyName(r,!1)&&this.isDefinitelyMemberVariablePropertyName(0))break;n.Debug.assert(t.isModifier(r));i.push(this.eatAnyToken())}return u=n.Syntax.list(i),this.returnZeroOrOneLengthArray(i),f=this.parseVariableDeclarator(!0,!0),e=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.memberVariableDeclaration(u,f,e)},t.prototype.isIndexMemberDeclaration=function(){var n=this.modifierCount();return this.isIndexSignature(n)},t.prototype.parseIndexMemberDeclaration=function(){var n=this.parseModifiers(),t=this.parseIndexSignature(),i=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.indexMemberDeclaration(n,t,i)},t.prototype.tryAddUnexpectedEqualsGreaterThanToken=function(t){var i=this.currentToken(),u=i.tokenKind===85,r,f;return u&&t.lastToken()?(r=new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),i.width(),n.DiagnosticCode.Unexpected_token_0_expected,[n.SyntaxFacts.getText(70)]),this.addDiagnostic(r),f=this.eatAnyToken(),this.addSkippedTokenAfterNode(t,i)):t},t.prototype.isFunctionDeclaration=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===27},t.prototype.parseFunctionDeclaration=function(){var f=this.parseModifiers(),e=this.eatKeyword(27),o=this.eatIdentifierToken(),n=this.parseCallSignature(!1),t=!1,u=this.tryAddUnexpectedEqualsGreaterThanToken(n),i,r;return u!==n&&(t=!0,n=u),i=null,r=null,t||this.isBlock()?r=this.parseBlock(t,!0):i=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.functionDeclaration(f,e,o,n,r,i)},t.prototype.isModuleDeclaration=function(n){if(n>0&&this.peekToken(n).tokenKind===65)return!0;if(this.currentToken().tokenKind===65){var t=this.peekToken(1);return this.isIdentifier(t)||t.tokenKind===14}return!1},t.prototype.parseModuleDeclaration=function(){var o=this.parseModifiers(),s=this.eatKeyword(65),u=null,f=null,t,i,r,e;return this.currentToken().tokenKind===14?f=this.eatToken(14):u=this.parseName(),t=this.eatToken(70),i=n.Syntax.emptyList,t.width()>0&&(r=this.parseSyntaxList(4),i=r.list,t=this.addSkippedTokensAfterToken(t,r.skippedTokens)),e=this.eatToken(71),this.factory.moduleDeclaration(o,s,u,f,t,i,e)},t.prototype.isInterfaceDeclaration=function(n){return n>0&&this.peekToken(n).tokenKind===52?!0:this.currentToken().tokenKind===52&&this.isIdentifier(this.peekToken(1))},t.prototype.parseInterfaceDeclaration=function(){var n=this.parseModifiers(),t=this.eatKeyword(52),i=this.eatIdentifierToken(),r=this.parseOptionalTypeParameterList(!1),u=this.parseHeritageClauses(),f=this.parseObjectType();return this.factory.interfaceDeclaration(n,t,i,r,u,f)},t.prototype.parseObjectType=function(){var t=this.eatToken(70),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(512),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(71),this.factory.objectType(t,r,u)},t.prototype.isTypeMember=function(n){return this.currentNode()!==null&&this.currentNode().isTypeMember()?!0:this.isCallSignature(0)||this.isConstructSignature()||this.isIndexSignature(0)||this.isMethodSignature(n)||this.isPropertySignature(n)},t.prototype.parseTypeMember=function(t){if(this.currentNode()!==null&&this.currentNode().isTypeMember())return this.eatNode();if(this.isCallSignature(0))return this.parseCallSignature(!1);if(this.isConstructSignature())return this.parseConstructSignature();if(this.isIndexSignature(0))return this.parseIndexSignature();if(this.isMethodSignature(t))return this.parseMethodSignature();if(this.isPropertySignature(t))return this.parsePropertySignature();throw n.Errors.invalidOperation();},t.prototype.parseConstructSignature=function(){var n=this.eatKeyword(31),t=this.parseCallSignature(!1);return this.factory.constructSignature(n,t)},t.prototype.parseIndexSignature=function(){var n=this.eatToken(74),t=this.parseParameter(),i=this.eatToken(75),r=this.parseOptionalTypeAnnotation(!1);return this.factory.indexSignature(n,t,i,r)},t.prototype.parseMethodSignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(105),i=this.parseCallSignature(!1);return this.factory.methodSignature(n,t,i)},t.prototype.parsePropertySignature=function(){var n=this.eatPropertyName(),t=this.tryEatToken(105),i=this.parseOptionalTypeAnnotation(!1);return this.factory.propertySignature(n,t,i)},t.prototype.isCallSignature=function(n){var t=this.peekToken(n).tokenKind;return t===72||t===80},t.prototype.isConstructSignature=function(){if(this.currentToken().tokenKind!==31)return!1;var n=this.peekToken(1);return n.tokenKind===80||n.tokenKind===72},t.prototype.isIndexSignature=function(n){return this.peekToken(n).tokenKind===74},t.prototype.isMethodSignature=function(n){return this.isPropertyName(this.currentToken(),n)&&(this.isCallSignature(1)||this.peekToken(1).tokenKind===105&&this.isCallSignature(2))?!0:!1},t.prototype.isPropertySignature=function(n){var i=this.currentToken();return t.isModifier(i)&&!i.hasTrailingNewLine()&&this.isPropertyName(this.peekToken(1),n)?!1:this.isPropertyName(i,n)},t.prototype.isHeritageClause=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51},t.prototype.isNotHeritageClauseTypeName=function(){return this.currentToken().tokenKind===51||this.currentToken().tokenKind===48?this.isIdentifier(this.peekToken(1)):!1},t.prototype.isHeritageClauseTypeName=function(){return this.isIdentifier(this.currentToken())?!this.isNotHeritageClauseTypeName():!1},t.prototype.parseHeritageClause=function(){var t=this.eatAnyToken(),i,r;return n.Debug.assert(t.tokenKind===48||t.tokenKind===51),i=this.parseSeparatedSyntaxList(2048),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.heritageClause(t.tokenKind===48?230:231,t,r)},t.prototype.isStatement=function(t){var i,r,u;if(this.currentNode()!==null&&this.currentNode().isStatement())return!0;i=this.currentToken();r=i.tokenKind;switch(r){case 57:case 55:case 58:if(u=this.peekToken(1),n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u))return!1;break;case 28:case 70:case 33:case 34:case 36:case 15:case 18:case 26:case 42:case 43:case 22:case 38:case 19:return!0}return this.isInterfaceDeclaration(0)||this.isClassDeclaration(0)||this.isEnumDeclaration(0)||this.isModuleDeclaration(0)?!1:this.isLabeledStatement(i)||this.isVariableStatement()||this.isFunctionDeclaration()||this.isEmptyStatement(i,t)||this.isExpressionStatement(i)},t.prototype.parseStatement=function(n){if(this.currentNode()!==null&&this.currentNode().isStatement())return this.eatNode();var t=this.currentToken(),i=t.tokenKind;switch(i){case 28:return this.parseIfStatement();case 70:return this.parseBlock(!1,!1);case 33:return this.parseReturnStatement();case 34:return this.parseSwitchStatement();case 36:return this.parseThrowStatement();case 15:return this.parseBreakStatement();case 18:return this.parseContinueStatement();case 26:return this.parseForOrForInStatement();case 42:return this.parseWhileStatement();case 43:return this.parseWithStatement();case 22:return this.parseDoStatement();case 38:return this.parseTryStatement();case 19:return this.parseDebuggerStatement()}return this.isVariableStatement()?this.parseVariableStatement():this.isLabeledStatement(t)?this.parseLabeledStatement():this.isFunctionDeclaration()?this.parseFunctionDeclaration():this.isEmptyStatement(t,n)?this.parseEmptyStatement():this.parseExpressionStatement()},t.prototype.parseDebuggerStatement=function(){var n=this.eatKeyword(19),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.debuggerStatement(n,t)},t.prototype.parseDoStatement=function(){var n=this.eatKeyword(22),t=this.parseStatement(!1),i=this.eatKeyword(42),r=this.eatToken(72),u=this.parseExpression(!0),f=this.eatToken(73),e=this.eatExplicitOrAutomaticSemicolon(!0);return this.factory.doStatement(n,t,i,r,u,f,e)},t.prototype.isLabeledStatement=function(n){return this.isIdentifier(n)&&this.peekToken(1).tokenKind===106},t.prototype.parseLabeledStatement=function(){var n=this.eatIdentifierToken(),t=this.eatToken(106),i=this.parseStatement(!1);return this.factory.labeledStatement(n,t,i)},t.prototype.parseTryStatement=function(){var r=this.eatKeyword(38),u=this.listParsingState,i,n,t;return this.listParsingState|=64,i=this.parseBlock(!1,!1),this.listParsingState=u,n=null,this.isCatchClause()&&(n=this.parseCatchClause()),t=null,(n===null||this.isFinallyClause())&&(t=this.parseFinallyClause()),this.factory.tryStatement(r,i,n,t)},t.prototype.isCatchClause=function(){return this.currentToken().tokenKind===17},t.prototype.parseCatchClause=function(){var t=this.eatKeyword(17),i=this.eatToken(72),r=this.eatIdentifierToken(),u=this.parseOptionalTypeAnnotation(!1),f=this.eatToken(73),e=this.listParsingState,n;return this.listParsingState|=128,n=this.parseBlock(!1,!1),this.listParsingState=e,this.factory.catchClause(t,i,r,u,f,n)},t.prototype.isFinallyClause=function(){return this.currentToken().tokenKind===25},t.prototype.parseFinallyClause=function(){var n=this.eatKeyword(25),t=this.parseBlock(!1,!1);return this.factory.finallyClause(n,t)},t.prototype.parseWithStatement=function(){var n=this.eatKeyword(43),t=this.eatToken(72),i=this.parseExpression(!0),r=this.eatToken(73),u=this.parseStatement(!1);return this.factory.withStatement(n,t,i,r,u)},t.prototype.parseWhileStatement=function(){var n=this.eatKeyword(42),t=this.eatToken(72),i=this.parseExpression(!0),r=this.eatToken(73),u=this.parseStatement(!1);return this.factory.whileStatement(n,t,i,r,u)},t.prototype.isEmptyStatement=function(n,t){return t?!1:n.tokenKind===78},t.prototype.parseEmptyStatement=function(){var n=this.eatToken(78);return this.factory.emptyStatement(n)},t.prototype.parseForOrForInStatement=function(){var n=this.eatKeyword(26),t=this.eatToken(72),i=this.currentToken();return i.tokenKind===40?this.parseForOrForInStatementWithVariableDeclaration(n,t):i.tokenKind===78?this.parseForStatementWithNoVariableDeclarationOrInitializer(n,t):this.parseForOrForInStatementWithInitializer(n,t)},t.prototype.parseForOrForInStatementWithVariableDeclaration=function(n,t){var i=this.parseVariableDeclaration(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,i,null):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,i,null)},t.prototype.parseForInStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var u=this.eatKeyword(29),f=this.parseExpression(!0),e=this.eatToken(73),o=this.parseStatement(!1);return this.factory.forInStatement(n,t,i,r,u,f,e,o)},t.prototype.parseForOrForInStatementWithInitializer=function(n,t){var i=this.parseExpression(!1);return this.currentToken().tokenKind===29?this.parseForInStatementWithVariableDeclarationOrInitializer(n,t,null,i):this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,i)},t.prototype.parseForStatementWithNoVariableDeclarationOrInitializer=function(n,t){return this.parseForStatementWithVariableDeclarationOrInitializer(n,t,null,null)},t.prototype.parseForStatementWithVariableDeclarationOrInitializer=function(n,t,i,r){var h=this.eatToken(78),f=null,e,u,o,s;return this.currentToken().tokenKind!==78&&this.currentToken().tokenKind!==73&&this.currentToken().tokenKind!==10&&(f=this.parseExpression(!0)),e=this.eatToken(78),u=null,this.currentToken().tokenKind!==73&&this.currentToken().tokenKind!==10&&(u=this.parseExpression(!0)),o=this.eatToken(73),s=this.parseStatement(!1),this.factory.forStatement(n,t,i,r,h,f,e,u,o,s)},t.prototype.parseBreakStatement=function(){var i=this.eatKeyword(15),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.breakStatement(i,n,t)},t.prototype.parseContinueStatement=function(){var i=this.eatKeyword(18),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.continueStatement(i,n,t)},t.prototype.parseSwitchStatement=function(){var f=this.eatKeyword(34),e=this.eatToken(72),o=this.parseExpression(!0),s=this.eatToken(73),t=this.eatToken(70),r=n.Syntax.emptyList,i,u;return t.width()>0&&(i=this.parseSyntaxList(8),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(71),this.factory.switchStatement(f,e,o,s,t,r,u)},t.prototype.isCaseSwitchClause=function(){return this.currentToken().tokenKind===16},t.prototype.isDefaultSwitchClause=function(){return this.currentToken().tokenKind===20},t.prototype.isSwitchClause=function(){return this.currentNode()!==null&&this.currentNode().isSwitchClause()?!0:this.isCaseSwitchClause()||this.isDefaultSwitchClause()},t.prototype.parseSwitchClause=function(){if(this.currentNode()!==null&&this.currentNode().isSwitchClause())return this.eatNode();if(this.isCaseSwitchClause())return this.parseCaseSwitchClause();if(this.isDefaultSwitchClause())return this.parseDefaultSwitchClause();throw n.Errors.invalidOperation();},t.prototype.parseCaseSwitchClause=function(){var u=this.eatKeyword(16),f=this.parseExpression(!0),t=this.eatToken(106),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.caseSwitchClause(u,f,t,r)},t.prototype.parseDefaultSwitchClause=function(){var u=this.eatKeyword(20),t=this.eatToken(106),r=n.Syntax.emptyList,i;return t.fullWidth()>0&&(i=this.parseSyntaxList(16),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),this.factory.defaultSwitchClause(u,t,r)},t.prototype.parseThrowStatement=function(){var r=this.eatKeyword(36),n=null,t,i;return this.canEatExplicitOrAutomaticSemicolon(!1)?(t=this.createMissingToken(11,null),n=t):n=this.parseExpression(!0),i=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.throwStatement(r,n,i)},t.prototype.parseReturnStatement=function(){var i=this.eatKeyword(33),n=null,t;return this.canEatExplicitOrAutomaticSemicolon(!1)||(n=this.parseExpression(!0)),t=this.eatExplicitOrAutomaticSemicolon(!1),this.factory.returnStatement(i,n,t)},t.prototype.isExpressionStatement=function(n){var t=n.tokenKind;return t===70||t===27?!1:this.isExpression(n)},t.prototype.isAssignmentOrOmittedExpression=function(){var n=this.currentToken();return n.tokenKind===79?!0:this.isExpression(n)},t.prototype.parseAssignmentOrOmittedExpression=function(){return this.currentToken().tokenKind===79?this.factory.omittedExpression():this.parseAssignmentExpression(!0)},t.prototype.isExpression=function(n){switch(n.tokenKind){case 13:case 14:case 12:case 74:case 72:case 80:case 93:case 94:case 89:case 90:case 102:case 101:case 70:case 85:case 118:case 119:case 50:case 35:case 37:case 24:case 32:case 31:case 21:case 41:case 39:case 27:return!0}return this.isIdentifier(n)},t.prototype.parseExpressionStatement=function(){var n=this.parseExpression(!0),t=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.expressionStatement(n,t)},t.prototype.parseIfStatement=function(){var t=this.eatKeyword(28),i=this.eatToken(72),r=this.parseExpression(!0),u=this.eatToken(73),f=this.parseStatement(!1),n=null;return this.isElseClause()&&(n=this.parseElseClause()),this.factory.ifStatement(t,i,r,u,f,n)},t.prototype.isElseClause=function(){return this.currentToken().tokenKind===23},t.prototype.parseElseClause=function(){var n=this.eatKeyword(23),t=this.parseStatement(!1);return this.factory.elseClause(n,t)},t.prototype.isVariableStatement=function(){var n=this.modifierCount();return this.peekToken(n).tokenKind===40},t.prototype.parseVariableStatement=function(){var n=this.parseModifiers(),t=this.parseVariableDeclaration(!0),i=this.eatExplicitOrAutomaticSemicolon(!1);return this.factory.variableStatement(n,t,i)},t.prototype.parseVariableDeclaration=function(n){var t=this.eatKeyword(40),r=n?4096:8192,i=this.parseSeparatedSyntaxList(r),u=i.list;return t=this.addSkippedTokensAfterToken(t,i.skippedTokens),this.factory.variableDeclaration(t,u)},t.prototype.isVariableDeclarator=function(){return this.currentNode()!==null&&this.currentNode().kind()===225?!0:this.isIdentifier(this.currentToken())},t.prototype.canReuseVariableDeclaratorNode=function(n){if(n===null||n.kind()!==225)return!1;var t=n;return t.equalsValueClause===null},t.prototype.parseVariableDeclarator=function(n,t){if(this.canReuseVariableDeclaratorNode(this.currentNode()))return this.eatNode();var i=t?this.eatPropertyName():this.eatIdentifierToken(),r=null,u=null;return i.width()>0&&(u=this.parseOptionalTypeAnnotation(!1),this.isEqualsValueClause(!1)&&(r=this.parseEqualsValueClause(n))),this.factory.variableDeclarator(i,u,r)},t.prototype.isColonValueClause=function(){return this.currentToken().tokenKind===106},t.prototype.isEqualsValueClause=function(n){var t=this.currentToken();return t.tokenKind===107?!0:this.previousToken().hasTrailingNewLine()?!1:t.tokenKind===85?!1:t.tokenKind===70&&n?!1:this.isExpression(t)},t.prototype.parseEqualsValueClause=function(n){var t=this.eatToken(107),i=this.parseAssignmentExpression(n);return this.factory.equalsValueClause(t,i)},t.prototype.parseExpression=function(n){return this.parseSubExpression(0,n)},t.prototype.parseAssignmentExpression=function(n){return this.parseSubExpression(2,n)},t.prototype.parseUnaryExpressionOrLower=function(){var t=this.currentToken().tokenKind;if(n.SyntaxFacts.isPrefixUnaryExpressionOperatorToken(t)){var i=n.SyntaxFacts.getPrefixUnaryExpressionFromOperatorToken(t),r=this.eatAnyToken(),u=this.parseUnaryExpressionOrLower();return this.factory.prefixUnaryExpression(i,r,u)}return t===39?this.parseTypeOfExpression():t===41?this.parseVoidExpression():t===21?this.parseDeleteExpression():t===80?this.parseCastExpression():this.parsePostfixExpressionOrLower()},t.prototype.parseSubExpression=function(n,t){var i,r;if(n<=2){if(this.isSimpleArrowFunctionExpression())return this.parseSimpleArrowFunctionExpression();if(i=this.tryParseParenthesizedArrowFunctionExpression(),i!==null)return i}return r=this.parseUnaryExpressionOrLower(),this.parseBinaryOrConditionalExpressions(n,t,r)},t.prototype.parseBinaryOrConditionalExpressions=function(i,r,u){for(var o,e,l,a,c;;){if(o=this.currentToken(),e=o.tokenKind,n.SyntaxFacts.isBinaryExpressionOperatorToken(e)){if(e===29&&!r)break;var f=this.tryMergeBinaryExpressionTokens(),v=f===null?e:f.syntaxKind,s=n.SyntaxFacts.getBinaryExpressionFromOperatorToken(v),h=t.getPrecedence(s);if(h<i)break;if(h===i&&!this.isRightAssociative(s))break;for(l=f===null?o:n.Syntax.token(f.syntaxKind).withLeadingTrivia(o.leadingTrivia()).withTrailingTrivia(this.peekToken(f.tokenCount-1).trailingTrivia()),a=f===null?1:f.tokenCount,c=0;c<a;c++)this.eatAnyToken();u=this.factory.binaryExpression(s,u,l,this.parseSubExpression(h,r));continue}if(e===105&&i<=3){var y=this.eatToken(105),p=this.parseAssignmentExpression(r),w=this.eatToken(106),b=this.parseAssignmentExpression(r);u=this.factory.conditionalExpression(u,y,p,w,b);continue}break}return u},t.prototype.tryMergeBinaryExpressionTokens=function(){var r=this.currentToken(),n,t,i;if(r.tokenKind===81&&!r.hasTrailingTrivia()){for(n=this.mergeTokensStorage,n[0]=0,n[1]=0,n[2]=0,t=0;t<n.length;t++)if(i=this.peekToken(t+1),i.hasLeadingTrivia()||(n[t]=i.tokenKind),i.hasTrailingTrivia())break;if(n[0]===81)return n[1]===81?n[2]===107?{tokenCount:4,syntaxKind:114}:{tokenCount:3,syntaxKind:97}:n[1]===107?{tokenCount:3,syntaxKind:113}:{tokenCount:2,syntaxKind:96};if(n[0]===107)return{tokenCount:2,syntaxKind:83}}return null},t.prototype.isRightAssociative=function(n){switch(n){case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:return!0;default:return!1}},t.prototype.parseMemberExpressionOrLower=function(n){if(this.currentToken().tokenKind===31)return this.parseObjectCreationExpression();var t=this.parsePrimaryExpression();return t===null?this.eatIdentifierToken():this.parseMemberExpressionRest(t,!1,n)},t.prototype.parseCallExpressionOrLower=function(){var n,t;return this.currentToken().tokenKind===50?(n=this.eatKeyword(50),t=this.currentToken().tokenKind,t!==72&&t!==76&&(n=this.factory.memberAccessExpression(n,this.eatToken(76),this.eatIdentifierNameToken()))):n=this.parseMemberExpressionOrLower(!1),this.parseMemberExpressionRest(n,!0,!1)},t.prototype.parseMemberExpressionRest=function(n,t,i){for(var u,r;;){u=this.currentToken().tokenKind;switch(u){case 72:if(!t)return n;n=this.factory.invocationExpression(n,this.parseArgumentList(null));continue;case 80:if(!t)return n;if(r=this.tryParseArgumentList(),r!==null){n=this.factory.invocationExpression(n,r);continue}break;case 74:n=this.parseElementAccessExpression(n,i);continue;case 76:n=this.factory.memberAccessExpression(n,this.eatToken(76),this.eatIdentifierNameToken());continue}return n}},t.prototype.parseLeftHandSideExpressionOrLower=function(){return this.currentToken().tokenKind===31?this.parseObjectCreationExpression():this.parseCallExpressionOrLower()},t.prototype.parsePostfixExpressionOrLower=function(){var t=this.parseLeftHandSideExpressionOrLower(),i;if(t===null)return this.eatIdentifierToken();i=this.currentToken().tokenKind;switch(i){case 93:case 94:if(this.previousToken()!==null&&this.previousToken().hasTrailingNewLine())break;return this.factory.postfixUnaryExpression(n.SyntaxFacts.getPostfixUnaryExpressionFromOperatorToken(i),t,this.eatAnyToken())}return t},t.prototype.tryParseGenericArgumentList=function(){var t=this.getRewindPoint(),i=this.tryParseTypeArgumentList(!0),r=this.currentToken(),e=r.tokenKind===72,u=r.tokenKind===76,o=e||u,f;return i!==null&&o?(this.releaseRewindPoint(t),u?(f=new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),r.width(),n.DiagnosticCode.A_parameter_list_must_follow_a_generic_type_argument_list_expected,null),this.addDiagnostic(f),this.factory.argumentList(i,n.Syntax.emptyToken(72),n.Syntax.emptySeparatedList,n.Syntax.emptyToken(73))):this.parseArgumentList(i)):(this.rewind(t),this.releaseRewindPoint(t),null)},t.prototype.tryParseArgumentList=function(){return this.currentToken().tokenKind===80?this.tryParseGenericArgumentList():this.currentToken().tokenKind===72?this.parseArgumentList(null):null},t.prototype.parseArgumentList=function(t){var i=this.eatToken(72),u=n.Syntax.emptySeparatedList,r,f;return i.fullWidth()>0&&(r=this.parseSeparatedSyntaxList(16384),u=r.list,i=this.addSkippedTokensAfterToken(i,r.skippedTokens)),f=this.eatToken(73),this.factory.argumentList(t,i,u,f)},t.prototype.parseElementAccessExpression=function(t,i){var u=this.currentTokenStart(),s=this.eatToken(74),r,f,e,o;return this.currentToken().tokenKind===75&&i?(f=this.currentTokenStart()+this.currentToken().width(),e=new n.Diagnostic(this.fileName,this.lineMap,u,f-u,n.DiagnosticCode.new_T_cannot_be_used_to_create_an_array_Use_new_Array_T_instead,null),this.addDiagnostic(e),r=n.Syntax.emptyToken(11)):r=this.parseExpression(!0),o=this.eatToken(75),this.factory.elementAccessExpression(t,s,r,o)},t.prototype.parsePrimaryExpression=function(){var t=this.currentToken(),i,n;if(this.isIdentifier(t))return this.eatIdentifierToken();i=t.tokenKind;switch(i){case 35:return this.parseThisExpression();case 37:case 24:return this.parseLiteralExpression();case 32:return this.parseLiteralExpression();case 27:return this.parseFunctionExpression();case 13:return this.parseLiteralExpression();case 12:return this.parseLiteralExpression();case 14:return this.parseLiteralExpression();case 74:return this.parseArrayLiteralExpression();case 70:return this.parseObjectLiteralExpression();case 72:return this.parseParenthesizedExpression();case 118:case 119:if(n=this.tryReparseDivideAsRegularExpression(),n!==null)return n}return null},t.prototype.tryReparseDivideAsRegularExpression=function(){var t=this.currentToken(),i;if(this.previousToken()!==null){i=this.previousToken().tokenKind;switch(i){case 11:return null;case 35:case 37:case 24:return null;case 14:case 13:case 12:case 93:case 94:case 75:return null}}if(t=this.currentTokenAllowingRegularExpression(),t.tokenKind===118||t.tokenKind===119)return null;if(t.tokenKind===12)return this.parseLiteralExpression();throw n.Errors.invalidOperation();},t.prototype.parseTypeOfExpression=function(){var n=this.eatKeyword(39),t=this.parseUnaryExpressionOrLower();return this.factory.typeOfExpression(n,t)},t.prototype.parseDeleteExpression=function(){var n=this.eatKeyword(21),t=this.parseUnaryExpressionOrLower();return this.factory.deleteExpression(n,t)},t.prototype.parseVoidExpression=function(){var n=this.eatKeyword(41),t=this.parseUnaryExpressionOrLower();return this.factory.voidExpression(n,t)},t.prototype.parseFunctionExpression=function(){var r=this.eatKeyword(27),n=null,t,i;return this.isIdentifier(this.currentToken())&&(n=this.eatIdentifierToken()),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0),this.factory.functionExpression(r,n,t,i)},t.prototype.parseObjectCreationExpression=function(){var n=this.eatKeyword(31),t=this.parseObjectCreationExpressionOrLower(!0),i=this.tryParseArgumentList(),r=this.factory.objectCreationExpression(n,t,i);return this.parseMemberExpressionRest(r,!0,!1)},t.prototype.parseObjectCreationExpressionOrLower=function(n){return this.currentToken().tokenKind===31?this.parseObjectCreationExpression():this.parseMemberExpressionOrLower(n)},t.prototype.parseCastExpression=function(){var n=this.eatToken(80),t=this.parseType(),i=this.eatToken(81),r=this.parseUnaryExpressionOrLower();return this.factory.castExpression(n,t,i,r)},t.prototype.parseParenthesizedExpression=function(){var n=this.eatToken(72),t=this.parseExpression(!0),i=this.eatToken(73);return this.factory.parenthesizedExpression(n,t,i)},t.prototype.tryParseParenthesizedArrowFunctionExpression=function(){var i=this.currentToken().tokenKind,n,t;return i!==72&&i!==80?null:this.isDefinitelyArrowFunctionExpression()?this.parseParenthesizedArrowFunctionExpression(!1):this.isPossiblyArrowFunctionExpression()?(n=this.getRewindPoint(),t=this.parseParenthesizedArrowFunctionExpression(!0),t===null&&this.rewind(n),this.releaseRewindPoint(n),t):null},t.prototype.parseParenthesizedArrowFunctionExpression=function(n){var f=this.currentToken(),r=this.parseCallSignature(!0);if(n&&this.currentToken().tokenKind!==85)return null;var u=this.eatToken(85),t=this.tryParseArrowFunctionBlock(),i=null;return t===null&&(i=this.parseAssignmentExpression(!0)),this.factory.parenthesizedArrowFunctionExpression(r,u,t,i)},t.prototype.tryParseArrowFunctionBlock=function(){return this.isBlock()?this.parseBlock(!1,!1):!this.isStatement(!1)||this.isExpressionStatement(this.currentToken())||this.isFunctionDeclaration()?null:this.parseBlock(!0,!1)},t.prototype.isSimpleArrowFunctionExpression=function(){return this.currentToken().tokenKind===85?!0:this.isIdentifier(this.currentToken())&&this.peekToken(1).tokenKind===85},t.prototype.parseSimpleArrowFunctionExpression=function(){var i=this.eatIdentifierToken(),r=this.eatToken(85),n=this.tryParseArrowFunctionBlock(),t=null;return n===null&&(t=this.parseAssignmentExpression(!0)),this.factory.simpleArrowFunctionExpression(i,r,n,t)},t.prototype.isBlock=function(){return this.currentToken().tokenKind===70},t.prototype.isDefinitelyArrowFunctionExpression=function(){var r=this.currentToken(),t,n,i;return r.tokenKind!==72?!1:(t=this.peekToken(1),t.tokenKind===73)?(n=this.peekToken(2),n.tokenKind===106||n.tokenKind===85||n.tokenKind===70):t.tokenKind===77?!0:(n=this.peekToken(2),(t.tokenKind===57||t.tokenKind===55)&&this.isIdentifier(n))?!0:this.isIdentifier(t)?n.tokenKind===106?!0:(i=this.peekToken(3),n.tokenKind===105&&(i.tokenKind===106||i.tokenKind===73||i.tokenKind===79))?!0:n.tokenKind===73&&i.tokenKind===85?!0:!1:!1},t.prototype.isPossiblyArrowFunctionExpression=function(){var r=this.currentToken(),t,n,i;return r.tokenKind!==72?!0:(t=this.peekToken(1),!this.isIdentifier(t))?!1:(n=this.peekToken(2),n.tokenKind===107)?!0:n.tokenKind===79?!0:n.tokenKind===73&&(i=this.peekToken(3),i.tokenKind===106)?!0:!1},t.prototype.parseObjectLiteralExpression=function(){var n=this.eatToken(70),t=this.parseSeparatedSyntaxList(32768),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(71),this.factory.objectLiteralExpression(n,r,i)},t.prototype.parsePropertyAssignment=function(t){if(this.isAccessor(t))return this.parseAccessor(!0);if(this.isFunctionPropertyAssignment(t))return this.parseFunctionPropertyAssignment();if(this.isSimplePropertyAssignment(t))return this.parseSimplePropertyAssignment();throw n.Errors.invalidOperation();},t.prototype.isPropertyAssignment=function(n){return this.isAccessor(n)||this.isFunctionPropertyAssignment(n)||this.isSimplePropertyAssignment(n)},t.prototype.eatPropertyName=function(){return n.SyntaxFacts.isIdentifierNameOrAnyKeyword(this.currentToken())?this.eatIdentifierNameToken():this.eatAnyToken()},t.prototype.isFunctionPropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)&&this.isCallSignature(1)},t.prototype.parseFunctionPropertyAssignment=function(){var n=this.eatPropertyName(),t=this.parseCallSignature(!1),i=this.parseBlock(!1,!0);return this.factory.functionPropertyAssignment(n,t,i)},t.prototype.isSimplePropertyAssignment=function(n){return this.isPropertyName(this.currentToken(),n)},t.prototype.parseSimplePropertyAssignment=function(){var n=this.eatPropertyName(),t=this.eatToken(106),i=this.parseAssignmentExpression(!0);return this.factory.simplePropertyAssignment(n,t,i)},t.prototype.isPropertyName=function(t,i){if(n.SyntaxFacts.isIdentifierNameOrAnyKeyword(t))return i?this.isIdentifier(t):!0;switch(t.tokenKind){case 14:case 13:return!0;default:return!1}},t.prototype.parseArrayLiteralExpression=function(){var n=this.eatToken(74),t=this.parseSeparatedSyntaxList(65536),r=t.list,i;return n=this.addSkippedTokensAfterToken(n,t.skippedTokens),i=this.eatToken(75),this.factory.arrayLiteralExpression(n,r,i)},t.prototype.parseLiteralExpression=function(){return this.eatAnyToken()},t.prototype.parseThisExpression=function(){return this.eatKeyword(35)},t.prototype.parseBlock=function(i,r){var u=this.eatToken(70),f=n.Syntax.emptyList,o;if(i||u.width()>0){var s=this.isInStrictMode,h=r?t.updateStrictModeState:null,e=this.parseSyntaxList(32,h);f=e.list;u=this.addSkippedTokensAfterToken(u,e.skippedTokens);this.setStrictMode(s)}return o=this.eatToken(71),this.factory.block(u,f,o)},t.prototype.parseCallSignature=function(n){var t=this.parseOptionalTypeParameterList(n),i=this.parseParameterList(),r=this.parseOptionalTypeAnnotation(!1);return this.factory.callSignature(t,i,r)},t.prototype.parseOptionalTypeParameterList=function(n){var r;if(this.currentToken().tokenKind!==80)return null;var t=this.getRewindPoint(),i=this.eatToken(80),u=this.parseSeparatedSyntaxList(524288),f=u.list;return i=this.addSkippedTokensAfterToken(i,u.skippedTokens),r=this.eatToken(81),n&&r.fullWidth()===0?(this.rewind(t),this.releaseRewindPoint(t),null):(this.releaseRewindPoint(t),this.factory.typeParameterList(i,f,r))},t.prototype.isTypeParameter=function(){return this.isIdentifier(this.currentToken())},t.prototype.parseTypeParameter=function(){var n=this.eatIdentifierToken(),t=this.parseOptionalConstraint();return this.factory.typeParameter(n,t)},t.prototype.parseOptionalConstraint=function(){if(this.currentToken().kind()!==48)return null;var n=this.eatKeyword(48),t=this.parseType();return this.factory.constraint(n,t)},t.prototype.parseParameterList=function(){var t=this.eatToken(72),r=n.Syntax.emptySeparatedList,i,u;return t.width()>0&&(i=this.parseSeparatedSyntaxList(131072),r=i.list,t=this.addSkippedTokensAfterToken(t,i.skippedTokens)),u=this.eatToken(73),this.factory.parameterList(t,r,u)},t.prototype.isTypeAnnotation=function(){return this.currentToken().tokenKind===106},t.prototype.parseOptionalTypeAnnotation=function(n){return this.isTypeAnnotation()?this.parseTypeAnnotation(n):null},t.prototype.parseTypeAnnotation=function(n){var t=this.eatToken(106),i=n&&this.currentToken().tokenKind===14?this.eatToken(14):this.parseType();return this.factory.typeAnnotation(t,i)},t.prototype.isType=function(){var n=this.currentToken(),t=n.tokenKind;switch(t){case 39:case 60:case 67:case 61:case 69:case 41:case 70:case 72:case 80:case 31:return!0}return this.isIdentifier(n)},t.prototype.parseType=function(){for(var t=this.currentToken(),u=t.tokenKind,n=this.parseNonArrayType(t),i,r;this.currentToken().tokenKind===74;)i=this.eatToken(74),r=this.eatToken(75),n=this.factory.arrayType(n,i,r);return n},t.prototype.isTypeQuery=function(){return this.currentToken().tokenKind===39},t.prototype.parseTypeQuery=function(){var n=this.eatToken(39),t=this.parseName();return this.factory.typeQuery(n,t)},t.prototype.parseNonArrayType=function(n){var t=n.tokenKind;switch(t){case 60:case 67:case 61:case 69:case 41:return this.eatAnyToken();case 70:return this.parseObjectType();case 72:case 80:return this.parseFunctionType();case 31:return this.parseConstructorType();case 39:return this.parseTypeQuery()}return this.parseNameOrGenericType()},t.prototype.parseNameOrGenericType=function(){var n=this.parseName(),t=this.tryParseTypeArgumentList(!1);return t===null?n:this.factory.genericType(n,t)},t.prototype.parseFunctionType=function(){var n=this.parseOptionalTypeParameterList(!1),t=this.parseParameterList(),i=this.eatToken(85),r=this.parseType();return this.factory.functionType(n,t,i,r)},t.prototype.parseConstructorType=function(){var n=this.eatKeyword(31),t=this.parseOptionalTypeParameterList(!1),i=this.parseParameterList(),r=this.eatToken(85),u=this.parseType();return this.factory.constructorType(n,t,i,r,u)},t.prototype.isParameter=function(){if(this.currentNode()!==null&&this.currentNode().kind()===242)return!0;var n=this.currentToken(),i=n.tokenKind;return i===77?!0:t.isModifier(n)&&!this.isModifierUsedAsParameterIdentifier(n)?!0:this.isIdentifier(n)},t.prototype.isModifierUsedAsParameterIdentifier=function(n){if(this.isIdentifier(n)){var t=this.peekToken(1).tokenKind;switch(t){case 73:case 106:case 107:case 79:case 105:return!0}}return!1},t.prototype.parseParameter=function(){var u,i,r,f;if(this.currentNode()!==null&&this.currentNode().kind()===242)return this.eatNode();for(u=this.tryEatToken(77),i=this.getArray();;){if(r=this.currentToken(),t.isModifier(r)&&!this.isModifierUsedAsParameterIdentifier(r)){i.push(this.eatAnyToken());continue}break}f=n.Syntax.list(i);this.returnZeroOrOneLengthArray(i);var o=this.eatIdentifierToken(),s=this.tryEatToken(105),h=this.parseOptionalTypeAnnotation(!0),e=null;return this.isEqualsValueClause(!0)&&(e=this.parseEqualsValueClause(!0)),this.factory.parameter(u,f,o,s,h,e)},t.prototype.parseSyntaxList=function(n,t){var i,r;return typeof t=="undefined"&&(t=null),i=this.listParsingState,this.listParsingState|=n,r=this.parseSyntaxListWorker(n,t),this.listParsingState=i,r},t.prototype.parseSeparatedSyntaxList=function(n){var i=this.listParsingState,t;return this.listParsingState|=n,t=this.parseSeparatedSyntaxListWorker(n),this.listParsingState=i,t},t.prototype.abortParsingListOrMoveToNextToken=function(n,t,i){var r,u;for(this.reportUnexpectedTokenDiagnostic(n),r=524288;r>=1;r>>=1)if((this.listParsingState&r)!=0&&(this.isExpectedListTerminator(r)||this.isExpectedListItem(r,!0)))return!0;return u=this.currentToken(),this.moveToNextToken(),this.addSkippedTokenToList(t,i,u),!1},t.prototype.addSkippedTokenToList=function(n,t,i){for(var u,f,r=n.length-1;r>=0;r--)if(u=n[r],f=u.lastToken(),f.fullWidth()>0){n[r]=this.addSkippedTokenAfterNodeOrToken(u,i);return}t.push(i)},t.prototype.tryParseExpectedListItem=function(n,t,i,r){if(this.isExpectedListItem(n,t)){var u=this.parseExpectedListItem(n,t);i.push(u);r!==null&&r(this,i)}},t.prototype.listIsTerminated=function(n){return this.isExpectedListTerminator(n)||this.currentToken().tokenKind===10},t.prototype.getArray=function(){return this.arrayPool.length>0?this.arrayPool.pop():[]},t.prototype.returnZeroOrOneLengthArray=function(n){n.length<=1&&this.returnArray(n)},t.prototype.returnArray=function(n){n.length=0;this.arrayPool.push(n)},t.prototype.parseSyntaxListWorker=function(t,i){for(var r=this.getArray(),u=this.getArray(),f,e,o,s;;)if(f=r.length,this.tryParseExpectedListItem(t,!1,r,i),e=r.length,e===f){if(this.listIsTerminated(t))break;if(o=this.abortParsingListOrMoveToNextToken(t,r,u),o)break}return s=n.Syntax.list(r),this.returnZeroOrOneLengthArray(r),{skippedTokens:u,list:s}},t.prototype.parseSeparatedSyntaxListWorker=function(t){var i=this.getArray(),r=this.getArray(),s,h,c,e,l;n.Debug.assert(i.length===0);n.Debug.assert(r.length===0);n.Debug.assert(r!==i);for(var f=this.separatorKind(t),a=f===78,u=!1,o=!1;;){if(s=i.length,this.tryParseExpectedListItem(t,u,i,null),h=i.length,h===s){if(this.listIsTerminated(t)){o=!0;break}if(c=this.abortParsingListOrMoveToNextToken(t,i,r),c)break;else{u=!0;continue}}if(u=!1,e=this.currentToken(),e.tokenKind===f||e.tokenKind===79){i.push(this.eatAnyToken());continue}if(this.listIsTerminated(t)){o=!0;break}if(a&&this.canEatAutomaticSemicolon(!1)){i.push(this.eatExplicitOrAutomaticSemicolon(!1));continue}i.push(this.eatToken(f));u=!0}return l=n.Syntax.separatedList(i),this.returnZeroOrOneLengthArray(i),{skippedTokens:r,list:l}},t.prototype.separatorKind=function(t){switch(t){case 2048:case 16384:case 256:case 4096:case 8192:case 32768:case 131072:case 65536:case 262144:case 524288:return 79;case 512:return 78;case 1:case 1024:case 2:case 4:case 8:case 16:case 32:default:throw n.Errors.notYetImplemented();}},t.prototype.reportUnexpectedTokenDiagnostic=function(t){var i=this.currentToken(),r=new n.Diagnostic(this.fileName,this.lineMap,this.currentTokenStart(),i.width(),n.DiagnosticCode.Unexpected_token_0_expected,[this.getExpectedListElementType(t)]);this.addDiagnostic(r)},t.prototype.addDiagnostic=function(n){this.diagnostics.length>0&&this.diagnostics[this.diagnostics.length-1].start()===n.start()||this.diagnostics.push(n)},t.prototype.isExpectedListTerminator=function(t){switch(t){case 1:return this.isExpectedSourceUnit_ModuleElementsTerminator();case 1024:return this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator();case 2:return this.isExpectedClassDeclaration_ClassElementsTerminator();case 4:return this.isExpectedModuleDeclaration_ModuleElementsTerminator();case 8:return this.isExpectedSwitchStatement_SwitchClausesTerminator();case 16:return this.isExpectedSwitchClause_StatementsTerminator();case 32:return this.isExpectedBlock_StatementsTerminator();case 64:return this.isExpectedTryBlock_StatementsTerminator();case 128:return this.isExpectedCatchBlock_StatementsTerminator();case 256:return this.isExpectedEnumDeclaration_EnumElementsTerminator();case 512:return this.isExpectedObjectType_TypeMembersTerminator();case 16384:return this.isExpectedArgumentList_AssignmentExpressionsTerminator();case 2048:return this.isExpectedHeritageClause_TypeNameListTerminator();case 4096:return this.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator();case 8192:return this.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator();case 32768:return this.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator();case 131072:return this.isExpectedParameterList_ParametersTerminator();case 262144:return this.isExpectedTypeArgumentList_TypesTerminator();case 524288:return this.isExpectedTypeParameterList_TypeParametersTerminator();case 65536:return this.isExpectedLiteralExpression_AssignmentExpressionsTerminator();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedSourceUnit_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===10},t.prototype.isExpectedEnumDeclaration_EnumElementsTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedModuleDeclaration_ModuleElementsTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedObjectType_TypeMembersTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedObjectLiteralExpression_PropertyAssignmentsTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedLiteralExpression_AssignmentExpressionsTerminator=function(){return this.currentToken().tokenKind===75},t.prototype.isExpectedTypeArgumentList_TypesTerminator=function(){var n=this.currentToken();return n.tokenKind===81?!0:this.canFollowTypeArgumentListInExpression(n.tokenKind)?!0:!1},t.prototype.isExpectedTypeParameterList_TypeParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===81?!0:n.tokenKind===72||n.tokenKind===70||n.tokenKind===48||n.tokenKind===51?!0:!1},t.prototype.isExpectedParameterList_ParametersTerminator=function(){var n=this.currentToken();return n.tokenKind===73?!0:n.tokenKind===70?!0:n.tokenKind===85?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_DisallowInTerminator=function(){return this.currentToken().tokenKind===78||this.currentToken().tokenKind===73?!0:this.currentToken().tokenKind===29?!0:!1},t.prototype.isExpectedVariableDeclaration_VariableDeclarators_AllowInTerminator=function(){return this.previousToken().tokenKind===79?!1:this.currentToken().tokenKind===85?!0:this.canEatExplicitOrAutomaticSemicolon(!1)},t.prototype.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator=function(){var n=this.currentToken();return n.tokenKind===70||n.tokenKind===71?!0:!1},t.prototype.isExpectedHeritageClause_TypeNameListTerminator=function(){var n=this.currentToken();return n.tokenKind===48||n.tokenKind===51?!0:this.isExpectedClassOrInterfaceDeclaration_HeritageClausesTerminator()?!0:!1},t.prototype.isExpectedArgumentList_AssignmentExpressionsTerminator=function(){var n=this.currentToken();return n.tokenKind===73||n.tokenKind===78},t.prototype.isExpectedClassDeclaration_ClassElementsTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedSwitchStatement_SwitchClausesTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedSwitchClause_StatementsTerminator=function(){return this.currentToken().tokenKind===71||this.isSwitchClause()},t.prototype.isExpectedBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===71},t.prototype.isExpectedTryBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===17||this.currentToken().tokenKind===25},t.prototype.isExpectedCatchBlock_StatementsTerminator=function(){return this.currentToken().tokenKind===25},t.prototype.isExpectedListItem=function(t,i){switch(t){case 1:return this.isModuleElement(i);case 1024:return this.isHeritageClause();case 2:return this.isClassElement(i);case 4:return this.isModuleElement(i);case 8:return this.isSwitchClause();case 16:return this.isStatement(i);case 32:return this.isStatement(i);case 64:case 128:return!1;case 256:return this.isEnumElement(i);case 4096:case 8192:return this.isVariableDeclarator();case 512:return this.isTypeMember(i);case 16384:return this.isExpectedArgumentList_AssignmentExpression();case 2048:return this.isHeritageClauseTypeName();case 32768:return this.isPropertyAssignment(i);case 131072:return this.isParameter();case 262144:return this.isType();case 524288:return this.isTypeParameter();case 65536:return this.isAssignmentOrOmittedExpression();default:throw n.Errors.invalidOperation();}},t.prototype.isExpectedArgumentList_AssignmentExpression=function(){var n=this.currentToken();return this.isExpression(n)?!0:n.tokenKind===79?!0:!1},t.prototype.parseExpectedListItem=function(t,i){switch(t){case 1:return this.parseModuleElement(i);case 1024:return this.parseHeritageClause();case 2:return this.parseClassElement(i);case 4:return this.parseModuleElement(i);case 8:return this.parseSwitchClause();case 16:return this.parseStatement(i);case 32:return this.parseStatement(i);case 256:return this.parseEnumElement();case 512:return this.parseTypeMember(i);case 16384:return this.parseAssignmentExpression(!0);case 2048:return this.parseNameOrGenericType();case 4096:return this.parseVariableDeclarator(!0,!1);case 8192:return this.parseVariableDeclarator(!1,!1);case 32768:return this.parsePropertyAssignment(i);case 65536:return this.parseAssignmentOrOmittedExpression();case 131072:return this.parseParameter();case 262144:return this.parseType();case 524288:return this.parseTypeParameter();default:throw n.Errors.invalidOperation();}},t.prototype.getExpectedListElementType=function(t){switch(t){case 1:return n.getLocalizedText(n.DiagnosticCode.module_class_interface_enum_import_or_statement,null);case 1024:return"{";case 2:return n.getLocalizedText(n.DiagnosticCode.constructor_function_accessor_or_variable,null);case 4:return n.getLocalizedText(n.DiagnosticCode.module_class_interface_enum_import_or_statement,null);case 8:return n.getLocalizedText(n.DiagnosticCode.case_or_default_clause,null);case 16:return n.getLocalizedText(n.DiagnosticCode.statement,null);case 32:return n.getLocalizedText(n.DiagnosticCode.statement,null);case 4096:case 8192:return n.getLocalizedText(n.DiagnosticCode.identifier,null);case 256:return n.getLocalizedText(n.DiagnosticCode.identifier,null);case 512:return n.getLocalizedText(n.DiagnosticCode.call_construct_index_property_or_function_signature,null);case 16384:return n.getLocalizedText(n.DiagnosticCode.expression,null);case 2048:return n.getLocalizedText(n.DiagnosticCode.type_name,null);case 32768:return n.getLocalizedText(n.DiagnosticCode.property_or_accessor,null);case 131072:return n.getLocalizedText(n.DiagnosticCode.parameter,null);case 262144:return n.getLocalizedText(n.DiagnosticCode.type,null);case 524288:return n.getLocalizedText(n.DiagnosticCode.type_parameter,null);case 65536:return n.getLocalizedText(n.DiagnosticCode.expression,null);default:throw n.Errors.invalidOperation();}},t}();t.parse=s;t.incrementalParse=h})(n.Parser||(n.Parser={}));var t=n.Parser}(TypeScript||(TypeScript={})),function(n){var i=function(){function i(n,t,i,r,u,f){this._allDiagnostics=null;this._sourceUnit=n;this._isDeclaration=t;this._parserDiagnostics=i;this._fileName=r;this._lineMap=u;this._parseOptions=f}return i.prototype.toJSON=function(){var t={};return t.isDeclaration=this._isDeclaration,t.languageVersion=n.LanguageVersion[this._parseOptions.languageVersion()],t.parseOptions=this._parseOptions,this.diagnostics().length>0&&(t.diagnostics=this.diagnostics()),t.sourceUnit=this._sourceUnit,t.lineMap=this._lineMap,t},i.prototype.sourceUnit=function(){return this._sourceUnit},i.prototype.isDeclaration=function(){return this._isDeclaration},i.prototype.computeDiagnostics=function(){if(this._parserDiagnostics.length>0)return this._parserDiagnostics;var n=[];return this.sourceUnit().accept(new t(this,n)),n},i.prototype.diagnostics=function(){return this._allDiagnostics===null&&(this._allDiagnostics=this.computeDiagnostics()),this._allDiagnostics},i.prototype.fileName=function(){return this._fileName},i.prototype.lineMap=function(){return this._lineMap},i.prototype.parseOptions=function(){return this._parseOptions},i.prototype.structuralEquals=function(t){return n.ArrayUtilities.sequenceEquals(this.diagnostics(),t.diagnostics(),n.Diagnostic.equals)&&this.sourceUnit().structuralEquals(t.sourceUnit())},i}(),t;n.SyntaxTree=i;t=function(t){function i(n,i){t.call(this);this.syntaxTree=n;this.diagnostics=i;this.inAmbientDeclaration=!1;this.inBlock=!1;this.inObjectLiteralExpression=!1;this.currentConstructor=null}return __extends(i,t),i.prototype.childFullStart=function(t,i){return this.position()+n.Syntax.childOffset(t,i)},i.prototype.childStart=function(n,t){return this.childFullStart(n,t)+t.leadingTriviaWidth()},i.prototype.pushDiagnostic=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.Diagnostic(this.syntaxTree.fileName(),this.syntaxTree.lineMap(),t,i,r,u))},i.prototype.pushDiagnostic1=function(t,i,r,u){typeof u=="undefined"&&(u=null);this.diagnostics.push(new n.Diagnostic(this.syntaxTree.fileName(),this.syntaxTree.lineMap(),t+i.leadingTriviaWidth(),i.width(),r,u))},i.prototype.visitCatchClause=function(i){i.typeAnnotation&&this.pushDiagnostic(this.childStart(i,i.typeAnnotation),i.typeAnnotation.width(),n.DiagnosticCode.Catch_clause_parameter_cannot_have_a_type_annotation);t.prototype.visitCatchClause.call(this,i)},i.prototype.checkParameterListOrder=function(t){for(var e,o,i,r=this.childFullStart(t,t.parameters),f=!1,s=t.parameters.nonSeparatorCount(),u=0,h=t.parameters.childCount();u<h;u++){if(e=t.parameters.childAt(u),u%2==0)if(o=u/2,i=t.parameters.childAt(u),i.dotDotDotToken){if(o!==s-1)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Rest_parameter_must_be_last_in_list),!0;if(i.questionToken)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Rest_parameter_cannot_be_optional),!0;if(i.equalsValueClause)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Rest_parameter_cannot_have_an_initializer),!0}else if(i.questionToken||i.equalsValueClause){if(f=!0,i.questionToken&&i.equalsValueClause)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Parameter_cannot_have_question_mark_and_initializer),!0}else if(f)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Required_parameter_cannot_follow_optional_parameter),!0;r+=e.fullWidth()}return!1},i.prototype.checkParameterListAcessibilityModifiers=function(n){for(var r,u,i=this.childFullStart(n,n.parameters),t=0,f=n.parameters.childCount();t<f;t++){if(r=n.parameters.childAt(t),t%2==0&&(u=n.parameters.childAt(t),this.checkParameterAccessibilityModifiers(n,u,i)))return!0;i+=r.fullWidth()}return!1},i.prototype.checkParameterAccessibilityModifiers=function(t,i,r){var f,e,u,s,o;if(i.modifiers.childCount()>0)for(f=i.modifiers,e=r+n.Syntax.childOffset(i,f),u=0,s=f.childCount();u<s;u++){if(o=f.childAt(u),this.checkParameterAccessibilityModifier(t,o,e,u))return!0;e+=o.fullWidth()}return!1},i.prototype.checkParameterAccessibilityModifier=function(t,i,r,u){if(i.tokenKind!==57&&i.tokenKind!==55)return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_parameter,[i.text()]),!0;if(u>0)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Accessibility_modifier_already_seen),!0;if(this.inAmbientDeclaration||!this.currentConstructor||this.currentConstructor.block||this.currentConstructor.callSignature.parameterList!==t){if(this.inAmbientDeclaration||this.currentConstructor===null||this.currentConstructor.callSignature.parameterList!==t)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Parameter_property_declarations_can_only_be_used_in_a_non_ambient_constructor_declaration),!0}else return this.pushDiagnostic1(r,i,n.DiagnosticCode.Parameter_property_declarations_cannot_be_used_in_a_constructor_overload),!0;return!1},i.prototype.checkForTrailingSeparator=function(t,i){var u,r,f,e;if(i.childCount()===0||i.childCount()%2==1)return!1;for(u=this.childFullStart(t,i),r=0,f=i.childCount();r<f;r++)e=i.childAt(r),r===f-1&&this.pushDiagnostic1(u,e,n.DiagnosticCode.Trailing_separator_not_allowed),u+=e.fullWidth();return!0},i.prototype.checkForAtLeastOneElement=function(t,i,r){if(i.childCount()>0)return!1;var u=this.childFullStart(t,i),f=this.syntaxTree.sourceUnit().findToken(u);return this.pushDiagnostic1(u,f.token(),n.DiagnosticCode.Unexpected_token_0_expected,[r]),!0},i.prototype.visitParameterList=function(n){if(this.checkParameterListAcessibilityModifiers(n)||this.checkParameterListOrder(n)||this.checkForTrailingSeparator(n,n.parameters)){this.skip(n);return}t.prototype.visitParameterList.call(this,n)},i.prototype.visitHeritageClause=function(i){if(this.checkForTrailingSeparator(i,i.typeNames)||this.checkForAtLeastOneElement(i,i.typeNames,n.getLocalizedText(n.DiagnosticCode.type_name,null))){this.skip(i);return}t.prototype.visitHeritageClause.call(this,i)},i.prototype.visitArgumentList=function(n){if(this.checkForTrailingSeparator(n,n.arguments)){this.skip(n);return}t.prototype.visitArgumentList.call(this,n)},i.prototype.visitVariableDeclaration=function(i){if(this.checkForTrailingSeparator(i,i.variableDeclarators)||this.checkForAtLeastOneElement(i,i.variableDeclarators,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitVariableDeclaration.call(this,i)},i.prototype.visitTypeArgumentList=function(i){if(this.checkForTrailingSeparator(i,i.typeArguments)||this.checkForAtLeastOneElement(i,i.typeArguments,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitTypeArgumentList.call(this,i)},i.prototype.visitTypeParameterList=function(i){if(this.checkForTrailingSeparator(i,i.typeParameters)||this.checkForAtLeastOneElement(i,i.typeParameters,n.getLocalizedText(n.DiagnosticCode.identifier,null))){this.skip(i);return}t.prototype.visitTypeParameterList.call(this,i)},i.prototype.checkIndexSignatureParameter=function(t){var r=this.childFullStart(t,t.parameter),i=t.parameter;if(i.dotDotDotToken)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signatures_cannot_have_rest_parameters),!0;if(i.modifiers.childCount()>0)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_accessibility_modifiers),!0;if(i.questionToken)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_a_question_mark),!0;if(i.equalsValueClause)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_cannot_have_an_initializer),!0;if(i.typeAnnotation){if(i.typeAnnotation.type.kind()!==69&&i.typeAnnotation.type.kind()!==67)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_type_must_be_string_or_number),!0}else return this.pushDiagnostic1(r,i,n.DiagnosticCode.Index_signature_parameter_must_have_a_type_annotation),!0;return!1},i.prototype.visitIndexSignature=function(i){if(this.checkIndexSignatureParameter(i)){this.skip(i);return}if(!i.typeAnnotation){this.pushDiagnostic1(this.position(),i,n.DiagnosticCode.Index_signature_must_have_a_type_annotation);this.skip(i);return}t.prototype.visitIndexSignature.call(this,i)},i.prototype.checkClassDeclarationHeritageClauses=function(t){for(var i,r=this.childFullStart(t,t.heritageClauses),e=!1,f=!1,u=0,o=t.heritageClauses.childCount();u<o;u++){if(n.Debug.assert(u<=2),i=t.heritageClauses.childAt(u),i.extendsOrImplementsKeyword.tokenKind===48){if(e)return this.pushDiagnostic1(r,i,n.DiagnosticCode.extends_clause_already_seen),!0;if(f)return this.pushDiagnostic1(r,i,n.DiagnosticCode.extends_clause_must_precede_implements_clause),!0;if(i.typeNames.nonSeparatorCount()>1)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Classes_can_only_extend_a_single_class),!0;e=!0}else{if(n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),f)return this.pushDiagnostic1(r,i,n.DiagnosticCode.implements_clause_already_seen),!0;f=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedDeclareModifier=function(t){if(this.inAmbientDeclaration){var i=n.SyntaxUtilities.getToken(t,63);if(i)return this.pushDiagnostic1(this.childFullStart(t,i),i,n.DiagnosticCode.declare_modifier_not_allowed_for_code_already_in_an_ambient_context),!0}return!1},i.prototype.checkForRequiredDeclareModifier=function(t,i,r){if(!this.inAmbientDeclaration&&this.syntaxTree.isDeclaration()&&!n.SyntaxUtilities.containsToken(r,63))return this.pushDiagnostic1(this.childFullStart(t,i),i.firstToken(),n.DiagnosticCode.declare_modifier_required_for_top_level_element),!0},i.prototype.checkFunctionOverloads=function(t,i){var f,c,r,v,u,l,a,h;if(!this.inAmbientDeclaration&&!this.syntaxTree.isDeclaration()){var e=this.childFullStart(t,i),s=!1,o=null;for(f=0,c=i.childCount();f<c;f++){if(r=i.childAt(f),v=f===c-1,s){if(r.kind()!==129)return this.pushDiagnostic1(e,r.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(u=r,u.identifier.valueText()!==o)return h=e+n.Syntax.childOffset(r,u.identifier),this.pushDiagnostic1(h,u.identifier,n.DiagnosticCode.Function_overload_name_must_be_0,[o]),!0}if(r.kind()===129)if(u=r,n.SyntaxUtilities.containsToken(u.modifiers,63))s=!1,o="";else if(s=u.block===null,o=u.identifier.valueText(),s){if(v)return this.pushDiagnostic1(e,r.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(l=i.childAt(f+1),l.kind()===129&&(a=l,a.identifier.valueText()!==o&&a.block===null))return h=e+n.Syntax.childOffset(r,u.identifier),this.pushDiagnostic1(h,u.identifier,n.DiagnosticCode.Function_implementation_expected),!0}e+=r.fullWidth()}}return!1},i.prototype.checkClassOverloads=function(t){var f,l,w,a,v,e,b;if(!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(t.modifiers,63)){var u=this.childFullStart(t,t.classElements),s=!1,h=!1,o=null,c=null,r=null;for(f=0,l=t.classElements.childCount();f<l;f++){var i=t.classElements.childAt(f),y=f===l-1,p=null;if(s){if(i.kind()!==135)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(r=i,r.propertyName.valueText()!==o)return e=u+n.Syntax.childOffset(i,r.propertyName),this.pushDiagnostic1(e,r.propertyName,n.DiagnosticCode.Function_overload_name_must_be_0,[o]),!0;if(p=n.SyntaxUtilities.containsToken(r.modifiers,58),p!==c)return e=u+n.Syntax.childOffset(i,r.propertyName),w=c?n.DiagnosticCode.Function_overload_must_be_static:n.DiagnosticCode.Function_overload_must_not_be_static,this.pushDiagnostic1(e,r.propertyName,w,null),!0}else if(h&&i.kind()!==137)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Constructor_implementation_expected),!0;if(i.kind()===135){if(r=i,s=r.block===null,o=r.propertyName.valueText(),c=n.SyntaxUtilities.containsToken(r.modifiers,58),s){if(y)return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Function_implementation_expected),!0;if(a=t.classElements.childAt(f+1),a.kind()===135&&(v=a,v.propertyName.valueText()!==o&&v.block===null))return e=u+n.Syntax.childOffset(i,r.propertyName),this.pushDiagnostic1(e,r.propertyName,n.DiagnosticCode.Function_implementation_expected),!0}}else if(i.kind()===137&&(b=i,h=b.block===null,y&&h))return this.pushDiagnostic1(u,i.firstToken(),n.DiagnosticCode.Constructor_implementation_expected),!0;u+=i.fullWidth()}}return!1},i.prototype.checkForReservedName=function(t,i,r){for(var s=this.childFullStart(t,i),u,o,f=i,e;f!==null;){f.kind()===121?(e=f,u=e.right,o=s+this.childFullStart(e,u),f=e.left):(n.Debug.assert(f.kind()===11),u=f,o=s,f=null);switch(u.valueText()){case"any":case"number":case"boolean":case"string":case"void":return this.pushDiagnostic(o+u.leadingTriviaWidth(),u.width(),r,[u.valueText()]),!0}}return!1},i.prototype.visitClassDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Class_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.classKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkClassDeclarationHeritageClauses(i)||this.checkClassOverloads(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,63);t.prototype.visitClassDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkInterfaceDeclarationHeritageClauses=function(t){for(var i,u=this.childFullStart(t,t.heritageClauses),f=!1,r=0,e=t.heritageClauses.childCount();r<e;r++){if(n.Debug.assert(r<=1),i=t.heritageClauses.childAt(r),i.extendsOrImplementsKeyword.tokenKind===48){if(f)return this.pushDiagnostic1(u,i,n.DiagnosticCode.extends_clause_already_seen),!0;f=!0}else return n.Debug.assert(i.extendsOrImplementsKeyword.tokenKind===51),this.pushDiagnostic1(u,i,n.DiagnosticCode.Interface_declaration_cannot_have_implements_clause),!0;u+=i.fullWidth()}return!1},i.prototype.checkInterfaceModifiers=function(t){for(var i,u=this.position(),r=0,f=t.childCount();r<f;r++){if(i=t.childAt(r),i.tokenKind===63)return this.pushDiagnostic1(u,i,n.DiagnosticCode.declare_modifier_cannot_appear_on_an_interface_declaration),!0;u+=i.fullWidth()}return!1},i.prototype.visitInterfaceDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Interface_name_cannot_be_0)||this.checkInterfaceModifiers(i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkInterfaceDeclarationHeritageClauses(i)){this.skip(i);return}t.prototype.visitInterfaceDeclaration.call(this,i)},i.prototype.checkClassElementModifiers=function(t){for(var i,o,r=this.position(),e=!1,f=!1,u=0,s=t.childCount();u<s;u++){if(i=t.childAt(u),i.tokenKind===57||i.tokenKind===55){if(e)return this.pushDiagnostic1(r,i,n.DiagnosticCode.Accessibility_modifier_already_seen),!0;if(f)return o=t.childAt(u-1),this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_must_precede_1_modifier,[i.text(),o.text()]),!0;e=!0}else if(i.tokenKind===58){if(f)return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_already_seen,[i.text()]),!0;f=!0}else return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_class_element,[i.text()]),!0;r+=i.fullWidth()}return!1},i.prototype.visitMemberVariableDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberVariableDeclaration.call(this,n)},i.prototype.visitMemberFunctionDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitMemberFunctionDeclaration.call(this,n)},i.prototype.checkGetAccessorParameter=function(t,i,r){var u=this.childFullStart(t,i);return r.parameters.childCount()!==0?(this.pushDiagnostic1(u,i,n.DiagnosticCode.get_accessor_cannot_have_parameters),!0):!1},i.prototype.visitIndexMemberDeclaration=function(n){if(this.checkIndexMemberModifiers(n)){this.skip(n);return}t.prototype.visitIndexMemberDeclaration.call(this,n)},i.prototype.checkIndexMemberModifiers=function(t){if(t.modifiers.childCount()>0){var i=this.childFullStart(t,t.modifiers);return this.pushDiagnostic1(i,t.modifiers.childAt(0),n.DiagnosticCode.Modifiers_cannot_appear_here),!0}return!1},i.prototype.checkEcmaScriptVersionIsAtLeast=function(n,t,i,r){if(this.syntaxTree.parseOptions().languageVersion()<i){var u=this.childFullStart(n,t);return this.pushDiagnostic1(u,t,r),!0}return!1},i.prototype.visitObjectLiteralExpression=function(n){var i=this.inObjectLiteralExpression;this.inObjectLiteralExpression=!0;t.prototype.visitObjectLiteralExpression.call(this,n);this.inObjectLiteralExpression=i},i.prototype.visitGetAccessor=function(i){if(this.checkForAccessorDeclarationInAmbientContext(i)||this.checkEcmaScriptVersionIsAtLeast(i,i.getKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkClassElementModifiers(i.modifiers)||this.checkGetAccessorParameter(i,i.getKeyword,i.parameterList)){this.skip(i);return}t.prototype.visitGetAccessor.call(this,i)},i.prototype.checkForAccessorDeclarationInAmbientContext=function(t){return this.inAmbientDeclaration?(this.pushDiagnostic1(this.position(),t,n.DiagnosticCode.Accessors_are_not_allowed_in_ambient_contexts,null),!0):!1},i.prototype.checkSetAccessorParameter=function(t,i,r){var e=this.childFullStart(t,i);if(r.parameters.childCount()!==1)return this.pushDiagnostic1(e,i,n.DiagnosticCode.set_accessor_must_have_one_and_only_one_parameter),!0;var o=this.childFullStart(t,r),f=o+n.Syntax.childOffset(r,r.openParenToken),u=r.parameters.childAt(0);return u.questionToken?(this.pushDiagnostic1(f,u,n.DiagnosticCode.set_accessor_parameter_cannot_be_optional),!0):u.equalsValueClause?(this.pushDiagnostic1(f,u,n.DiagnosticCode.set_accessor_parameter_cannot_have_an_initializer),!0):u.dotDotDotToken?(this.pushDiagnostic1(f,u,n.DiagnosticCode.set_accessor_cannot_have_rest_parameter),!0):!1},i.prototype.visitSetAccessor=function(i){if(this.checkForAccessorDeclarationInAmbientContext(i)||this.checkEcmaScriptVersionIsAtLeast(i,i.setKeyword,1,n.DiagnosticCode.Accessors_are_only_available_when_targeting_ECMAScript_5_and_higher)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkClassElementModifiers(i.modifiers)||this.checkSetAccessorParameter(i,i.setKeyword,i.parameterList)){this.skip(i);return}t.prototype.visitSetAccessor.call(this,i)},i.prototype.visitEnumDeclaration=function(i){if(this.checkForReservedName(i,i.identifier,n.DiagnosticCode.Enum_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.enumKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers),this.checkEnumElements(i)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,63);t.prototype.visitEnumDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkEnumElements=function(t){for(var u,i,o,f=this.childFullStart(t,t.enumElements),e=!1,r=0,s=t.enumElements.childCount();r<s;r++){if(u=t.enumElements.childAt(r),r%2==0){if(i=u,!i.equalsValueClause&&e)return this.pushDiagnostic1(f,i,n.DiagnosticCode.Enum_member_must_have_initializer,null),!0;i.equalsValueClause&&(o=i.equalsValueClause.value,e=!n.Syntax.isIntegerLiteral(o))}f+=u.fullWidth()}return!1},i.prototype.visitEnumElement=function(i){if(this.inAmbientDeclaration&&i.equalsValueClause){var r=i.equalsValueClause.value;if(!n.Syntax.isIntegerLiteral(r)){this.pushDiagnostic1(this.childFullStart(i,i.equalsValueClause),i.equalsValueClause.firstToken(),n.DiagnosticCode.Ambient_enum_elements_can_only_have_integer_literal_initializers);this.skip(i);return}}t.prototype.visitEnumElement.call(this,i)},i.prototype.visitInvocationExpression=function(i){i.expression.kind()===50&&i.argumentList.typeArgumentList!==null&&this.pushDiagnostic1(this.position(),i,n.DiagnosticCode.super_invocation_cannot_have_type_arguments);t.prototype.visitInvocationExpression.call(this,i)},i.prototype.checkModuleElementModifiers=function(t){for(var i,r=this.position(),e=!1,u=!1,f=0,o=t.childCount();f<o;f++){if(i=t.childAt(f),i.tokenKind===57||i.tokenKind===55||i.tokenKind===58)return this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_module_element,[i.text()]),!0;if(i.tokenKind===63){if(u){this.pushDiagnostic1(r,i,n.DiagnosticCode.Accessibility_modifier_already_seen);return}u=!0}else if(i.tokenKind===47){if(e){this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_already_seen,[i.text()]);return}if(u){this.pushDiagnostic1(r,i,n.DiagnosticCode._0_modifier_must_precede_1_modifier,[n.SyntaxFacts.getText(47),n.SyntaxFacts.getText(63)]);return}e=!0}r+=i.fullWidth()}return!1},i.prototype.checkForDisallowedImportDeclaration=function(t){for(var i,u,f=this.childFullStart(t,t.moduleElements),r=0,e=t.moduleElements.childCount();r<e;r++)i=t.moduleElements.childAt(r),i.kind()===133&&(u=i,u.moduleReference.kind()===245&&t.stringLiteral===null&&this.pushDiagnostic1(f,u,n.DiagnosticCode.Import_declarations_in_an_internal_module_cannot_reference_an_external_module,null)),f+=i.fullWidth();return!1},i.prototype.checkForDisallowedDeclareModifierOnImportDeclaration=function(t){var i=n.SyntaxUtilities.getToken(t,63);if(i)return this.pushDiagnostic1(this.childFullStart(t,i),i,n.DiagnosticCode.declare_modifier_not_allowed_on_import_declaration),!0},i.prototype.visitImportDeclaration=function(n){if(this.checkForDisallowedDeclareModifierOnImportDeclaration(n.modifiers)||this.checkModuleElementModifiers(n.modifiers)){this.skip(n);return}t.prototype.visitImportDeclaration.call(this,n)},i.prototype.visitModuleDeclaration=function(i){var r,u;if(this.checkForReservedName(i,i.name,n.DiagnosticCode.Module_name_cannot_be_0)||this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForRequiredDeclareModifier(i,i.moduleKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)||this.checkForDisallowedImportDeclaration(i)||this.checkForDisallowedExports(i,i.moduleElements)||this.checkForMultipleExportAssignments(i,i.moduleElements)){this.skip(i);return}if(!n.SyntaxUtilities.containsToken(i.modifiers,63)&&this.checkFunctionOverloads(i,i.moduleElements)){this.skip(i);return}if(i.stringLiteral&&!this.inAmbientDeclaration&&!n.SyntaxUtilities.containsToken(i.modifiers,63)){r=this.childFullStart(i,i.stringLiteral);this.pushDiagnostic1(r,i.stringLiteral,n.DiagnosticCode.Only_ambient_modules_can_use_quoted_names);this.skip(i);return}if(!i.stringLiteral&&this.checkForDisallowedExportAssignment(i)){this.skip(i);return}u=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,63);t.prototype.visitModuleDeclaration.call(this,i);this.inAmbientDeclaration=u},i.prototype.checkForDisallowedExports=function(t,i){for(var e,u,o=!1,r=0,f=i.childCount();r<f;r++)if(u=i.childAt(r),n.SyntaxUtilities.hasExportKeyword(u)){o=!0;break}if(e=this.childFullStart(t,i),o)for(r=0,f=i.childCount();r<f;r++){if(u=i.childAt(r),u.kind()===134)return this.pushDiagnostic1(e,u,n.DiagnosticCode.Export_assignment_not_allowed_in_module_with_exported_element),!0;e+=u.fullWidth()}return!1},i.prototype.checkForMultipleExportAssignments=function(t,i){for(var r,f=this.childFullStart(t,i),e=!1,o=!1,u=0,s=i.childCount();u<s;u++)r=i.childAt(u),r.kind()===134&&(e&&(this.pushDiagnostic1(f,r,n.DiagnosticCode.Module_cannot_have_multiple_export_assignments),o=!0),e=!0),f+=r.fullWidth();return o},i.prototype.checkForDisallowedExportAssignment=function(t){for(var i,u=this.childFullStart(t,t.moduleElements),r=0,f=t.moduleElements.childCount();r<f;r++){if(i=t.moduleElements.childAt(r),i.kind()===134)return this.pushDiagnostic1(u,i,n.DiagnosticCode.Export_assignment_cannot_be_used_in_internal_modules),!0;u+=i.fullWidth()}return!1},i.prototype.visitBlock=function(i){if(this.inAmbientDeclaration||this.syntaxTree.isDeclaration()){this.pushDiagnostic1(this.position(),i.firstToken(),n.DiagnosticCode.Implementations_are_not_allowed_in_ambient_contexts);this.skip(i);return}if(this.checkFunctionOverloads(i,i.statements)){this.skip(i);return}var r=this.inBlock;this.inBlock=!0;t.prototype.visitBlock.call(this,i);this.inBlock=r},i.prototype.checkForStatementInAmbientContxt=function(t){return this.inAmbientDeclaration||this.syntaxTree.isDeclaration()?(this.pushDiagnostic1(this.position(),t.firstToken(),n.DiagnosticCode.Statements_are_not_allowed_in_ambient_contexts),!0):!1},i.prototype.visitBreakStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitBreakStatement.call(this,n)},i.prototype.visitContinueStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitContinueStatement.call(this,n)},i.prototype.visitDebuggerStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDebuggerStatement.call(this,n)},i.prototype.visitDoStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitDoStatement.call(this,n)},i.prototype.visitEmptyStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitEmptyStatement.call(this,n)},i.prototype.visitExpressionStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitExpressionStatement.call(this,n)},i.prototype.visitForInStatement=function(n){if(this.checkForStatementInAmbientContxt(n)||this.checkForInStatementVariableDeclaration(n)){this.skip(n);return}t.prototype.visitForInStatement.call(this,n)},i.prototype.checkForInStatementVariableDeclaration=function(t){if(t.variableDeclaration&&t.variableDeclaration.variableDeclarators.nonSeparatorCount()>1){var i=this.childFullStart(t,t.variableDeclaration);return this.pushDiagnostic1(i,t.variableDeclaration,n.DiagnosticCode.Only_a_single_variable_declaration_is_allowed_in_a_for_in_statement),!0}return!1},i.prototype.visitForStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitForStatement.call(this,n)},i.prototype.visitIfStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitIfStatement.call(this,n)},i.prototype.visitLabeledStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitLabeledStatement.call(this,n)},i.prototype.visitReturnStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitReturnStatement.call(this,n)},i.prototype.visitSwitchStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitSwitchStatement.call(this,n)},i.prototype.visitThrowStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitThrowStatement.call(this,n)},i.prototype.visitTryStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitTryStatement.call(this,n)},i.prototype.visitWhileStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWhileStatement.call(this,n)},i.prototype.visitWithStatement=function(n){if(this.checkForStatementInAmbientContxt(n)){this.skip(n);return}t.prototype.visitWithStatement.call(this,n)},i.prototype.checkForDisallowedModifiers=function(t,i){if((this.inBlock||this.inObjectLiteralExpression)&&i.childCount()>0){var r=this.childFullStart(t,i);return this.pushDiagnostic1(r,i.childAt(0),n.DiagnosticCode.Modifiers_cannot_appear_here),!0}return!1},i.prototype.visitFunctionDeclaration=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.functionKeyword,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,63);t.prototype.visitFunctionDeclaration.call(this,i);this.inAmbientDeclaration=r},i.prototype.visitVariableStatement=function(i){if(this.checkForDisallowedDeclareModifier(i.modifiers)||this.checkForDisallowedModifiers(i,i.modifiers)||this.checkForRequiredDeclareModifier(i,i.variableDeclaration,i.modifiers)||this.checkModuleElementModifiers(i.modifiers)){this.skip(i);return}var r=this.inAmbientDeclaration;this.inAmbientDeclaration=this.inAmbientDeclaration||this.syntaxTree.isDeclaration()||n.SyntaxUtilities.containsToken(i.modifiers,63);t.prototype.visitVariableStatement.call(this,i);this.inAmbientDeclaration=r},i.prototype.checkListSeparators=function(t,i,r){for(var f,e=this.childFullStart(t,i),u=0,o=i.childCount();u<o;u++)f=i.childAt(u),u%2==1&&f.kind()!==r&&this.pushDiagnostic1(e,f,n.DiagnosticCode._0_expected,[n.SyntaxFacts.getText(r)]),e+=f.fullWidth();return!1},i.prototype.visitObjectType=function(n){if(this.checkListSeparators(n,n.typeMembers,78)){this.skip(n);return}var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitObjectType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitArrayType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitArrayType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitFunctionType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitFunctionType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitConstructorType=function(n){var i=this.inAmbientDeclaration;this.inAmbientDeclaration=!0;t.prototype.visitConstructorType.call(this,n);this.inAmbientDeclaration=i},i.prototype.visitVariableDeclarator=function(i){if(this.inAmbientDeclaration&&i.equalsValueClause){this.pushDiagnostic1(this.childFullStart(i,i.equalsValueClause),i.equalsValueClause.firstToken(),n.DiagnosticCode.Initializers_are_not_allowed_in_ambient_contexts);this.skip(i);return}t.prototype.visitVariableDeclarator.call(this,i)},i.prototype.visitConstructorDeclaration=function(n){if(this.checkClassElementModifiers(n.modifiers)||this.checkConstructorModifiers(n.modifiers)||this.checkConstructorTypeParameterList(n)||this.checkConstructorTypeAnnotation(n)){this.skip(n);return}var i=this.currentConstructor;this.currentConstructor=n;t.prototype.visitConstructorDeclaration.call(this,n);this.currentConstructor=i},i.prototype.checkConstructorModifiers=function(t){for(var i,u=this.position(),r=0,f=t.childCount();r<f;r++){if(i=t.childAt(r),i.kind()!==57)return this.pushDiagnostic1(u,i,n.DiagnosticCode._0_modifier_cannot_appear_on_a_constructor_declaration,[n.SyntaxFacts.getText(i.kind())]),!0;u+=i.fullWidth()}return!1},i.prototype.checkConstructorTypeParameterList=function(t){var u=this.position(),i,r;return t.callSignature.typeParameterList?(i=this.childFullStart(t,t.callSignature),r=i+n.Syntax.childOffset(t.callSignature,t.callSignature.typeAnnotation),this.pushDiagnostic1(i,t.callSignature.typeParameterList,n.DiagnosticCode.Type_parameters_cannot_appear_on_a_constructor_declaration),!0):!1},i.prototype.checkConstructorTypeAnnotation=function(t){var u=this.position(),i,r;return t.callSignature.typeAnnotation?(i=this.childFullStart(t,t.callSignature),r=i+n.Syntax.childOffset(t.callSignature,t.callSignature.typeAnnotation),this.pushDiagnostic1(r,t.callSignature.typeAnnotation,n.DiagnosticCode.Type_annotation_cannot_appear_on_a_constructor_declaration),!0):!1},i.prototype.visitSourceUnit=function(n){if(this.checkFunctionOverloads(n,n.moduleElements)||this.checkForDisallowedExports(n,n.moduleElements)||this.checkForMultipleExportAssignments(n,n.moduleElements)){this.skip(n);return}t.prototype.visitSourceUnit.call(this,n)},i}(n.PositionTrackingWalker)}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){}return t.lookupInUnicodeMap=function(n,t){if(n<t[0])return!1;for(var r=0,u=t.length,i;r+1<u;){if(i=r+(u-r)/2,i-=i%2,t[i]<=n&&n<=t[i+1])return!0;n<t[i]?u=i:r=i+2}return!1},t.isIdentifierStart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierStart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierStart);throw n.Errors.argumentOutOfRange("languageVersion");},t.isIdentifierPart=function(i,r){if(r===0)return t.lookupInUnicodeMap(i,t.unicodeES3IdentifierPart);if(r===1)return t.lookupInUnicodeMap(i,t.unicodeES5IdentifierPart);throw n.Errors.argumentOutOfRange("languageVersion");},t.unicodeES3IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES3IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierStart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t.unicodeES5IdentifierPart=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],t}();n.Unicode=t}(TypeScript||(TypeScript={})),function(n){function i(n,t,i){var r=(new Date).getTime(),u=i(),f=(new Date).getTime();return n.information()&&n.log(t+" completed in "+(f-r)+" msec"),u}(function(n){function t(t){n.diagnosticWriter&&n.diagnosticWriter.Alert(t)}function i(i){n.debug&&t(i)}function r(i,r){n.debug&&(i||t(r))}n.debug=!1;n.diagnosticWriter=null;n.analysisPass=0;n.Alert=t;n.debugPrint=i;n.assert=r})(n.CompilerDiagnostics||(n.CompilerDiagnostics={}));var r=n.CompilerDiagnostics,t=function(){function n(){}return n.prototype.information=function(){return!1},n.prototype.debug=function(){return!1},n.prototype.warning=function(){return!1},n.prototype.error=function(){return!1},n.prototype.fatal=function(){return!1},n.prototype.log=function(){},n}();n.NullLogger=t;n.timeFunction=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i,r,u,f,e,o,s,h){this._compiler=n;this._semanticInfoChain=t;this.fileName=i;this.referencedFiles=r;this._scriptSnapshot=u;this.byteOrderMark=f;this.version=e;this.isOpen=o;this._syntaxTree=s;this._topLevelDecl=h;this._diagnostics=null;this._bloomFilter=null;this._sourceUnit=null;this._lineMap=null;this._declASTMap=[];this._astDeclMap=[];this._amdDependencies=undefined;this._externalModuleIndicatorSpan=undefined}return t.prototype.invalidate=function(){this._declASTMap.length=0;this._astDeclMap.length=0;this._topLevelDecl=null;this._syntaxTree=null;this._sourceUnit=null;this._diagnostics=null;this._bloomFilter=null},t.prototype.isDeclareFile=function(){return n.isDTSFile(this.fileName)},t.prototype.cacheSyntaxTreeInfo=function(t){var h=(new Date).getTime(),u,i,f,r,s,e,o;for(this._diagnostics=t.diagnostics(),n.syntaxDiagnosticsTime+=(new Date).getTime()-h,this._lineMap=t.lineMap(),u=t.sourceUnit(),i=u.leadingTrivia(),this._externalModuleIndicatorSpan=this.getImplicitImportSpan(i)||this.getTopLevelImportOrExportSpan(u),f=[],r=0,s=i.count();r<s;r++)e=i.syntaxTriviaAt(r),e.isComment()&&(o=this.getAmdDependency(e.fullText()),o&&f.push(o));this._amdDependencies=f},t.prototype.getAmdDependency=function(n){var t=/^\/\/\/\s*<amd-dependency\s+path=('|")(.+?)\1/gim.exec(n);return t?t[2]:null},t.prototype.getImplicitImportSpan=function(n){for(var t,r,u=0,i=0,f=n.count();i<f;i++){if(t=n.syntaxTriviaAt(i),t.isComment()&&(r=this.getImplicitImportSpanWorker(t,u),r))return r;u+=t.fullWidth()}return null},t.prototype.getImplicitImportSpanWorker=function(t,i){var r=/^(\/\/\/\s*<implicit-import\s*)*\/>/gim.exec(t.fullText());return r?new n.TextSpan(i,t.fullWidth()):null},t.prototype.getTopLevelImportOrExportSpan=function(t){for(var r,u,i,f=0,e=0,o=t.moduleElements.childCount();e<o;e++){if(r=t.moduleElements.childAt(e),i=r.firstToken(),i!==null&&i.tokenKind===47)return new n.TextSpan(f+i.leadingTriviaWidth(),i.width());if(r.kind()===133&&(u=r,u.moduleReference.kind()===245))return new n.TextSpan(f+u.leadingTriviaWidth(),u.width());f+=r.fullWidth()}return null},t.prototype.sourceUnit=function(){if(!this._sourceUnit){var t=(new Date).getTime(),i=this.syntaxTree();this._sourceUnit=n.SyntaxTreeToAstVisitor.visit(i,this.fileName,this._compiler.compilationSettings(),this.isOpen);n.astTranslationTime+=(new Date).getTime()-t;this.isOpen||(this._syntaxTree=null)}return this._sourceUnit},t.prototype.diagnostics=function(){return this._diagnostics===null&&(this.syntaxTree(),n.Debug.assert(this._diagnostics)),this._diagnostics},t.prototype.lineMap=function(){return this._lineMap===null&&(this.syntaxTree(),n.Debug.assert(this._lineMap)),this._lineMap},t.prototype.isExternalModule=function(){return this.externalModuleIndicatorSpan()!==null},t.prototype.externalModuleIndicatorSpan=function(){return this._externalModuleIndicatorSpan===undefined&&(this.syntaxTree(),n.Debug.assert(this._externalModuleIndicatorSpan!==undefined)),this._externalModuleIndicatorSpan},t.prototype.amdDependencies=function(){return this._amdDependencies===undefined&&(this.syntaxTree(),n.Debug.assert(this._amdDependencies!==undefined)),this._amdDependencies},t.prototype.syntaxTree=function(){var t=this._syntaxTree,i;return t||(i=(new Date).getTime(),t=n.Parser.parse(this.fileName,n.SimpleText.fromScriptSnapshot(this._scriptSnapshot),n.isDTSFile(this.fileName),n.getParseOptions(this._compiler.compilationSettings())),n.syntaxTreeParseTime+=(new Date).getTime()-i,(this.isOpen||!this._sourceUnit)&&(this._syntaxTree=t)),this.cacheSyntaxTreeInfo(t),t},t.prototype.bloomFilter=function(){var t,r,i,u;if(!this._bloomFilter){t=n.createIntrinsicsObject();r=function(i){if(n.ASTHelpers.isValidAstNode(i)&&i.kind()===11){var r=i.valueText();t[r]=!0}};n.getAstWalkerFactory().simpleWalk(this.sourceUnit(),r,null,t);i=0;for(u in t)t[u]&&i++;this._bloomFilter=new n.BloomFilter(i);this._bloomFilter.addKeys(t)}return this._bloomFilter},t.prototype.emitToOwnOutputFile=function(){return!this._compiler.compilationSettings().outFileOption()||this.isExternalModule()},t.prototype.update=function(i,r,u,f){var h=this._syntaxTree,e,o,c,l,a,v,s,y;return f!==null&&n.Debug.shouldAssert(1)&&(e=this._scriptSnapshot,o=i,n.Debug.assert(e.getLength()-f.span().length()+f.newLength()===o.getLength()),n.Debug.shouldAssert(3)&&(c=e.getText(0,f.span().start()),l=o.getText(0,f.span().start()),n.Debug.assert(c===l),a=e.getText(f.span().end(),e.getLength()),v=o.getText(f.newSpan().end(),o.getLength()),n.Debug.assert(a===v))),s=n.SimpleText.fromScriptSnapshot(i),y=f===null||h===null?n.Parser.parse(this.fileName,s,n.isDTSFile(this.fileName),n.getParseOptions(this._compiler.compilationSettings())):n.Parser.incrementalParse(h,f,s),new t(this._compiler,this._semanticInfoChain,this.fileName,this.referencedFiles,i,this.byteOrderMark,r,u,y,null)},t.create=function(n,i,r,u,f,e,o,s){return new t(n,i,r,s,u,f,e,o,null,null)},t.prototype.topLevelDecl=function(){return this._topLevelDecl===null&&(this._topLevelDecl=n.DeclarationCreator.create(this,this._semanticInfoChain,this._compiler.compilationSettings())),this._topLevelDecl},t.prototype._getDeclForAST=function(n){return this.topLevelDecl(),this._astDeclMap[n.syntaxID()]},t.prototype.getEnclosingDecl=function(n){if(n.kind()===120)return this._getDeclForAST(n);n=n.parent;for(var t=null;n;){if(t=this._getDeclForAST(n),t)break;n=n.parent}return t._getEnclosingDeclFromParentDecl()},t.prototype._setDeclForAST=function(t,i){n.Debug.assert(i.fileName()===this.fileName);this._astDeclMap[t.syntaxID()]=i},t.prototype._getASTForDecl=function(n){return this._declASTMap[n.declID]},t.prototype._setASTForDecl=function(t,i){n.Debug.assert(t.fileName()===this.fileName);this._declASTMap[t.declID]=i},t}();n.Document=t}(TypeScript||(TypeScript={})),function(n){function t(n,t){return(n&t)!=0}var i,r;n.hasFlag=t,function(n){n[n.SuccessfulComparison=0]="SuccessfulComparison";n[n.RequiredPropertyIsMissing=2]="RequiredPropertyIsMissing";n[n.IncompatibleSignatures=4]="IncompatibleSignatures";n[n.SourceSignatureHasTooManyParameters=3]="SourceSignatureHasTooManyParameters";n[n.IncompatibleReturnTypes=16]="IncompatibleReturnTypes";n[n.IncompatiblePropertyTypes=32]="IncompatiblePropertyTypes";n[n.IncompatibleParameterTypes=64]="IncompatibleParameterTypes";n[n.InconsistantPropertyAccesibility=128]="InconsistantPropertyAccesibility"}(n.TypeRelationshipFlags||(n.TypeRelationshipFlags={}));i=n.TypeRelationshipFlags,function(n){n[n.Unspecified=0]="Unspecified";n[n.Synchronous=1]="Synchronous";n[n.Asynchronous=2]="Asynchronous"}(n.ModuleGenTarget||(n.ModuleGenTarget={}));r=n.ModuleGenTarget}(TypeScript||(TypeScript={})),function(n){function r(){return new f}var i="__proto__",f=function(){function n(){this.prototype=undefined;this.toString=undefined;this.toLocaleString=undefined;this.valueOf=undefined;this.hasOwnProperty=undefined;this.propertyIsEnumerable=undefined;this.isPrototypeOf=undefined;this.constructor=undefined;this[i]=null;this[i]=undefined}return n}(),t,u;n.createIntrinsicsObject=r;t=function(){function n(){this.itemCount=0;this.table=r()}return n.prototype.getAllKeys=function(){var n=[];for(var t in this.table)this.table[t]!==undefined&&n.push(t);return n},n.prototype.add=function(n,t){return this.table[n]!==undefined?!1:(this.table[n]=t,this.itemCount++,!0)},n.prototype.addOrUpdate=function(n,t){return this.table[n]!==undefined?(this.table[n]=t,!1):(this.table[n]=t,this.itemCount++,!0)},n.prototype.map=function(n,t){var i,r;for(i in this.table)r=this.table[i],r!==undefined&&n(i,this.table[i],t)},n.prototype.every=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&!n(i,this.table[i],t))return!1;return!0},n.prototype.some=function(n,t){var i,r;for(i in this.table)if(r=this.table[i],r!==undefined&&n(i,this.table[i],t))return!0;return!1},n.prototype.count=function(){return this.itemCount},n.prototype.lookup=function(n){var t=this.table[n];return t===undefined?null:t},n.prototype.remove=function(n){this.table[n]!==undefined&&(this.table[n]=undefined,this.itemCount--)},n}();n.StringHashTable=t;u=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.getAllKeys=function(){var t=[];return n.prototype.map.call(this,function(n,i){i!==undefined&&t.push(n.substring(1))},null),t},t.prototype.add=function(t,i){return n.prototype.add.call(this,"#"+t,i)},t.prototype.addOrUpdate=function(t,i){return n.prototype.addOrUpdate.call(this,"#"+t,i)},t.prototype.map=function(t,i){return n.prototype.map.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.every=function(t,i){return n.prototype.every.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.some=function(t,i){return n.prototype.some.call(this,function(n,i,r){return t(n.substring(1),i,r)},i)},t.prototype.lookup=function(t){return n.prototype.lookup.call(this,"#"+t)},t}(t);n.IdentiferNameHashTable=u}(TypeScript||(TypeScript={})),function(n){(function(t){function l(t){return n.isDTSFile(t.fileName())||s(t.moduleElements)}function o(t){return n.hasModifier(t.modifiers,8)||s(t.moduleElements)}function s(n){for(var i,t=0,r=n.childCount();t<r;t++)if(i=n.childAt(t),i.kind()===130){if(!o(i))return!1}else if(i.kind()!==128)return!1;return!0}function a(t){return n.hasModifier(t.modifiers,8)?!0:!1}function h(n){return n?n.start()===-1||n.end()===-1?!1:!0:!1}function v(t,i,r,u){typeof r=="undefined"&&(r=!0);typeof u=="undefined"&&(u=!1);var f=null,e=function(n,e){var o;if(h(n))if(o=n.kind()===149&&n.width()===0,o)e.options.goChildren=!1;else{var l=u||n.kind()===11||n.kind()===212||n.kind()===121||n.kind()===224||n.kind()===225||n.kind()===213||i===t.end()+t.trailingTriviaWidth(),s=n.start(),c=n.end()+(r?n.trailingTriviaWidth():0)+(l?1:0);i>=s&&i<c&&(n.kind()!==1&&n.kind()!==2||n.end()>n.start())&&(f===null?f=n:n.start()>=f.start()&&n.end()+(r?n.trailingTriviaWidth():0)<=f.end()+(r?f.trailingTriviaWidth():0)&&(f.width()!==0||n.width()!==0)&&(f=n));e.options.goChildren=s<=i&&i<=c}};return n.getAstWalkerFactory().walk(t,e),f}function y(n){return n?n.firstOrDefault(function(n){return n.typeNames.nonSeparatorCount()>0&&n.kind()===230}):null}function p(n){return n?n.firstOrDefault(function(n){return n.typeNames.nonSeparatorCount()>0&&n.kind()===231}):null}function w(n){return n&&n.kind()===213||n&&n.kind()===216}function b(n){if(!n)return!1;for(var t=n;t&&t.parent;){if(t.parent.kind()===212&&t.parent.name===t){t=t.parent;continue}break}return t&&t.parent&&(t.parent.kind()===213||t.parent.kind()===216)?t===t.parent.expression:!1}function k(n){if(n===null||n.parent===null||n.kind()!==11)return!1;switch(n.parent.kind()){case 131:return n.parent.identifier===n;case 128:return n.parent.identifier===n;case 132:return n.parent.identifier===n;case 130:return n.parent.name===n||n.parent.stringLiteral===n;case 225:return n.parent.propertyName===n;case 129:return n.parent.identifier===n;case 135:return n.parent.propertyName===n;case 242:return n.parent.identifier===n;case 238:return n.parent.identifier===n;case 240:return n.parent.propertyName===n;case 241:return n.parent.propertyName===n;case 243:return n.parent.propertyName===n;case 133:return n.parent.identifier===n}return!1}function d(n){return k(n)||u(n)}function g(n){for(var t=n;t;){switch(t.kind()){case 232:if(t.parent&&t.parent.kind()===242)return t.parent;break;case 131:case 128:case 130:return null}t=t.parent}return null}function nt(n){for(var t=n;t;){switch(t.kind()){case 136:return t;case 131:case 128:case 130:return null}t=t.parent}return null}function tt(n){return n&&n.parent&&n.kind()===11&&n.parent.kind()===129&&n.parent.identifier===n}function it(n){return n&&n.parent&&n.kind()===11&&n.parent.kind()===135&&n.parent.propertyName===n}function rt(n){return n&&n.parent&&n.parent.kind()===212&&n.parent.name===n?!0:!1}function ut(n){return n&&n.parent&&n.parent.kind()===121&&n.parent.right===n?!0:!1}function ft(n){return{length:1,lastParameterIsRest:function(){return!1},ast:n,astAt:function(){return n},identifierAt:function(){return n},typeAt:function(){return null},initializerAt:function(){return null},isOptionalAt:function(){return!1}}}function et(n){return{length:1,lastParameterIsRest:function(){return n.dotDotDotToken!==null},ast:n,astAt:function(){return n},identifierAt:function(){return n.identifier},typeAt:function(){return i(n)},initializerAt:function(){return n.equalsValueClause},isOptionalAt:function(){return c(n)}}}function c(n){return n.questionToken!==null||n.equalsValueClause!==null}function ot(t){return{length:t.parameters.nonSeparatorCount(),lastParameterIsRest:function(){return n.lastParameterIsRest(t)},ast:t.parameters,astAt:function(n){return t.parameters.nonSeparatorAt(n)},identifierAt:function(n){return t.parameters.nonSeparatorAt(n).identifier},typeAt:function(n){return i(t.parameters.nonSeparatorAt(n))},initializerAt:function(n){return t.parameters.nonSeparatorAt(n).equalsValueClause},isOptionalAt:function(n){return c(t.parameters.nonSeparatorAt(n))}}}function u(n){switch(n.kind()){case 225:return f(n)!==null;case 133:case 131:case 128:case 242:case 219:case 218:case 144:case 129:case 130:case 124:case 122:case 238:case 137:case 135:case 139:case 140:case 136:case 138:case 132:case 243:case 240:case 241:case 222:case 142:case 143:case 145:case 141:return!0;default:return!1}}function st(t){var i,o,e,r;if(u(t)&&(i=t.kind()===225?f(t).preComments():t.preComments(),i&&i.length>0)){for(o=i.length,e=[],r=o-1;r>=0;r--){if(ht(i[r])){e.push(i[r]);continue}break}return e.reverse()}return n.sentinelEmptyArray}function ht(n){if(n.kind()===6){var t=n.fullText();return t.charAt(2)==="*"&&t.charAt(3)!=="/"}return!1}function r(n){if(n)switch(n.kind()){case 137:return r(n.callSignature);case 129:return r(n.callSignature);case 218:return r(n.callSignature);case 143:return r(n.callSignature);case 135:return r(n.callSignature);case 241:return r(n.callSignature);case 222:return r(n.callSignature);case 145:return r(n.callSignature);case 125:return n.parameterList;case 123:return n.parameterList;case 142:return n.parameterList;case 139:return n.parameterList;case 140:return n.parameterList}return null}function i(n){if(n)switch(n.kind()){case 129:return i(n.callSignature);case 218:return i(n.callSignature);case 143:return i(n.callSignature);case 135:return i(n.callSignature);case 241:return i(n.callSignature);case 222:return i(n.callSignature);case 145:return i(n.callSignature);case 142:return i(n.typeAnnotation);case 144:return i(n.typeAnnotation);case 141:return i(n.typeAnnotation);case 139:return i(n.typeAnnotation);case 242:return i(n.typeAnnotation);case 136:return i(n.variableDeclarator);case 225:return i(n.typeAnnotation);case 236:return i(n.typeAnnotation);case 125:return n.type;case 123:return n.type;case 244:return n.type}return null}function f(n){return n&&n.parent&&n.parent.parent&&n.parent.parent.parent&&n.parent.kind()===2&&n.parent.parent.kind()===224&&n.parent.parent.parent.kind()===148?n.parent.parent.parent:null}function ct(t){var i=f(t);return i?i.modifiers:n.sentinelEmptyArray}function lt(t){if(t)switch(t.kind()){case 164:case 165:return t=t.operand,t.kind()===13&&n.IntegerUtilities.isInteger(t.text());case 13:var i=t.text();return n.IntegerUtilities.isInteger(i)||n.IntegerUtilities.isHexInteger(i)}return!1}function at(n){while(n){if(n.kind()===130)return n;n=n.parent}return null}function vt(t,i){if(t){if(t.stringLiteral)return i===t.stringLiteral;var r=n.getModuleNames(t.name),u=r.indexOf(i);return u===r.length-1}return!1}function yt(t,i){if(t){if(t.stringLiteral)return t.stringLiteral===i;var r=n.getModuleNames(t.name),u=r.indexOf(i);return u>=0}return!1}function e(t){if(t.kind()===11)return t.text();n.Debug.assert(t.kind()==121);var i=t;return e(i.left)+"."+e(i.right)}t.scriptIsElided=l;t.moduleIsElided=o;t.enumIsElided=a;t.isValidAstNode=h;t.getAstAtPosition=v;t.getExtendsHeritageClause=y;t.getImplementsHeritageClause=p;t.isCallExpression=w;t.isCallExpressionTarget=b;t.isDeclarationASTOrDeclarationNameAST=d;t.getEnclosingParameterForInitializer=g;t.getEnclosingMemberVariableDeclaration=nt;t.isNameOfFunction=tt;t.isNameOfMemberFunction=it;t.isNameOfMemberAccessExpression=rt;t.isRightSideOfQualifiedName=ut;t.parametersFromIdentifier=ft;t.parametersFromParameter=et;t.parametersFromParameterList=ot;t.isDeclarationAST=u;t.docComments=st;t.getParameterList=r;t.getType=i;t.getVariableDeclaratorModifiers=ct;t.isIntegerLiteralAST=lt;t.getEnclosingModuleDeclaration=at;t.isLastNameOfModule=vt;t.isAnyNameOfModule=yt;t.getNameOfIdenfierOrQualifiedName=e})(n.ASTHelpers||(n.ASTHelpers={}));var t=n.ASTHelpers}(TypeScript||(TypeScript={})),function(n){function a(n,t){for(var i=0,r=n.childCount();i<r;i++)t.walk(n.childAt(i))}function v(n,t){t.walk(n.expression)}function u(n,t){t.walk(n.operand)}function s(n,t){t.walk(n.operand)}function y(n,t){t.walk(n.expression)}function p(n,t){t.walk(n.typeArguments)}function w(n,t){t.walk(n.expression)}function b(n,t){t.walk(n.expression)}function k(n,t){t.walk(n.typeArgumentList);t.walk(n.arguments)}function d(n,t){t.walk(n.expressions)}function g(n,t){t.walk(n.propertyName);t.walk(n.expression)}function nt(n,t){t.walk(n.propertyName);t.walk(n.callSignature);t.walk(n.block)}function tt(n,t){t.walk(n.propertyName);t.walk(n.parameterList);t.walk(n.typeAnnotation);t.walk(n.block)}function it(n,t){for(var i=0,r=n.nonSeparatorCount();i<r;i++)t.walk(n.nonSeparatorAt(i))}function rt(n,t){t.walk(n.propertyName);t.walk(n.parameterList);t.walk(n.block)}function ut(n,t){t.walk(n.propertyAssignments)}function ft(n,t){t.walk(n.type);t.walk(n.expression)}function et(n,t){t.walk(n.expression)}function ot(n,t){t.walk(n.expression);t.walk(n.argumentExpression)}function st(n,t){t.walk(n.expression);t.walk(n.name)}function ht(n,t){t.walk(n.left);t.walk(n.right)}function i(n,t){t.walk(n.left);t.walk(n.right)}function ct(n,t){t.walk(n.value)}function lt(n,t){t.walk(n.identifier);t.walk(n.constraint)}function at(n,t){t.walk(n.typeParameters)}function vt(n,t){t.walk(n.name);t.walk(n.typeArgumentList)}function yt(n,t){t.walk(n.type)}function pt(n,t){t.walk(n.name)}function wt(n,t){t.walk(n.expression);t.walk(n.argumentList)}function bt(n,t){t.walk(n.expression);t.walk(n.argumentList)}function kt(n,t){t.walk(n.condition);t.walk(n.whenTrue);t.walk(n.whenFalse)}function dt(n,t){t.walk(n.identifier);t.walk(n.callSignature);t.walk(n.block)}function gt(n,t){t.walk(n.typeParameterList);t.walk(n.parameterList);t.walk(n.type)}function ni(n,t){t.walk(n.callSignature);t.walk(n.block);t.walk(n.expression)}function ti(n,t){t.walk(n.identifier);t.walk(n.block);t.walk(n.expression)}function ii(n,t){t.walk(n.propertyName);t.walk(n.callSignature);t.walk(n.block)}function ri(n,t){t.walk(n.identifier);t.walk(n.callSignature);t.walk(n.block)}function ui(n,t){t.walk(n.indexSignature)}function fi(n,t){t.walk(n.parameter);t.walk(n.typeAnnotation)}function ei(n,t){t.walk(n.typeParameterList);t.walk(n.parameterList);t.walk(n.typeAnnotation)}function oi(n,t){t.walk(n.type)}function si(n,t){t.walk(n.callSignature);t.walk(n.block)}function hi(n,t){t.walk(n.typeParameterList);t.walk(n.parameterList);t.walk(n.type)}function ci(n,t){t.walk(n.callSignature)}function li(n,t){t.walk(n.identifier);t.walk(n.typeAnnotation);t.walk(n.equalsValueClause)}function ai(n,t){t.walk(n.parameters)}function vi(n,t){t.walk(n.propertyName);t.walk(n.typeAnnotation)}function yi(n,t){t.walk(n.propertyName);t.walk(n.typeAnnotation);t.walk(n.equalsValueClause)}function pi(n,t){t.walk(n.variableDeclarator)}function wi(n,t){t.walk(n.propertyName);t.walk(n.callSignature)}function bi(n,t){t.walk(n.expression)}function ki(n,t){t.walk(n.variableDeclaration);t.walk(n.initializer);t.walk(n.condition);t.walk(n.incrementor);t.walk(n.statement)}function di(n,t){t.walk(n.variableDeclaration);t.walk(n.left);t.walk(n.expression);t.walk(n.statement)}function gi(n,t){t.walk(n.condition);t.walk(n.statement);t.walk(n.elseClause)}function nr(n,t){t.walk(n.statement)}function tr(n,t){t.walk(n.condition);t.walk(n.statement)}function ir(n,t){t.walk(n.condition);t.walk(n.statement)}function rr(n,t){t.walk(n.statements)}function ur(n,t){t.walk(n.declarators)}function fr(n,t){t.walk(n.expression);t.walk(n.statements)}function er(n,t){t.walk(n.statements)}function or(n,t){t.walk(n.expression);t.walk(n.switchClauses)}function sr(n,t){t.walk(n.block);t.walk(n.catchClause);t.walk(n.finallyClause)}function hr(n,t){t.walk(n.identifier);t.walk(n.typeAnnotation);t.walk(n.block)}function cr(n,t){t.walk(n.stringLiteral)}function lr(n,t){t.walk(n.block)}function ar(n,t){t.walk(n.identifier);t.walk(n.typeParameterList);t.walk(n.heritageClauses);t.walk(n.classElements)}function vr(n,t){t.walk(n.moduleElements)}function h(n,t){t.walk(n.typeNames)}function yr(n,t){t.walk(n.identifier);t.walk(n.typeParameterList);t.walk(n.heritageClauses);t.walk(n.body)}function pr(n,t){t.walk(n.typeMembers)}function wr(n,t){t.walk(n.type)}function br(n,t){t.walk(n.name);t.walk(n.stringLiteral);t.walk(n.moduleElements)}function kr(n,t){t.walk(n.moduleName)}function dr(n,t){t.walk(n.identifier);t.walk(n.enumElements)}function gr(n,t){t.walk(n.propertyName);t.walk(n.equalsValueClause)}function nu(n,t){t.walk(n.identifier);t.walk(n.moduleReference)}function tu(n,t){t.walk(n.identifier)}function iu(n,t){t.walk(n.condition);t.walk(n.statement)}function ru(n,t){t.walk(n.expression)}function uu(n,t){t.walk(n.identifier);t.walk(n.statement)}function fu(n,t){t.walk(n.declaration)}function hu(){return l}for(var f,e,l,t=new Array(247),r=9,o=119;r<=o;r++)t[r]=null;for(r=4,o=8;r<=o;r++)t[r]=null;t[175]=i;t[208]=i;t[180]=i;t[60]=null;t[226]=k;t[214]=d;t[124]=wr;t[219]=ti;t[218]=ni;t[174]=i;t[191]=i;t[190]=i;t[166]=u;t[189]=i;t[146]=rr;t[61]=null;t[152]=null;t[142]=ei;t[233]=fr;t[220]=ft;t[236]=hr;t[131]=ar;t[173]=i;t[186]=kt;t[239]=oi;t[137]=si;t[143]=ci;t[153]=null;t[125]=hi;t[162]=null;t[234]=er;t[170]=y;t[178]=i;t[206]=i;t[161]=ir;t[221]=ot;t[235]=nr;t[156]=null;t[132]=dr;t[243]=gr;t[194]=i;t[232]=ct;t[192]=i;t[181]=i;t[134]=tu;t[149]=ru;t[230]=h;t[245]=cr;t[24]=null;t[237]=lr;t[155]=di;t[154]=ki;t[129]=ri;t[222]=dt;t[241]=nt;t[123]=gt;t[126]=vt;t[139]=tt;t[197]=i;t[199]=i;t[147]=gi;t[231]=h;t[133]=nu;t[138]=ui;t[144]=fi;t[201]=i;t[200]=i;t[128]=yr;t[213]=wt;t[160]=uu;t[183]=i;t[202]=i;t[196]=i;t[198]=i;t[1]=a;t[188]=i;t[167]=u;t[187]=i;t[212]=st;t[135]=ii;t[136]=pi;t[145]=wi;t[130]=br;t[246]=kr;t[179]=i;t[207]=i;t[177]=i;t[205]=i;t[11]=null;t[165]=u;t[0]=null;t[195]=i;t[193]=i;t[32]=null;t[67]=null;t[13]=null;t[216]=bt;t[215]=ut;t[122]=pr;t[223]=null;t[182]=i;t[242]=li;t[227]=ai;t[217]=et;t[164]=u;t[211]=s;t[210]=s;t[169]=u;t[168]=u;t[141]=vi;t[121]=ht;t[12]=null;t[150]=bi;t[120]=vr;t[2]=it;t[140]=rt;t[184]=i;t[203]=i;t[240]=g;t[14]=null;t[69]=null;t[176]=i;t[209]=i;t[50]=null;t[151]=or;t[35]=null;t[157]=v;t[3]=null;t[37]=null;t[159]=sr;t[244]=yt;t[228]=p;t[171]=w;t[238]=lt;t[229]=at;t[127]=pt;t[185]=i;t[204]=i;t[224]=ur;t[225]=yi;t[148]=fu;t[172]=b;t[41]=null;t[158]=tr;t[163]=iu;for(f in n.SyntaxKind)n.SyntaxKind.hasOwnProperty(f)&&n.StringUtilities.isString(n.SyntaxKind[f])&&n.Debug.assert(t[f]!==undefined,"Fix initWalkers: "+n.SyntaxKind[f]);e=function(){function n(){this.goChildren=!0;this.stopWalking=!1}return n}();n.AstWalkOptions=e;var eu=function(){function n(n,t){this.pre=n;this.state=t;this.options=new e}return n.prototype.walk=function(n){if(n){this.pre(n,this.state);var i=t[n.kind()];i&&i(n,this)}},n}(),ou=function(){function n(n,t,i){this.pre=n;this.post=t;this.state=i;this.options=new e}return n.prototype.walk=function(n){if(n){this.pre(n,this.state);var i=t[n.kind()];i&&i(n,this);this.post(n,this.state)}},n}(),su=function(){function n(n,t,i){this.pre=n;this.post=t;this.state=i;this.options=new e}return n.prototype.walk=function(n){if(n&&!this.options.stopWalking&&(this.pre(n,this),!this.options.stopWalking)){if(this.options.goChildren){var i=t[n.kind()];i&&i(n,this)}else this.options.goChildren=!0;this.post&&this.post(n,this)}},n}(),c=function(){function n(){}return n.prototype.walk=function(n,t,i,r){new su(t,i,r).walk(n)},n.prototype.simpleWalk=function(n,t,i,r){i?new ou(t,i,r).walk(n):new eu(t,r).walk(n)},n}();n.AstWalkerFactory=c;l=new c;n.getAstWalkerFactory=hu}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n.encode=function(t){if(t<64)return n.encodedValues.charAt(t);throw TypeError(t+": not a 64 based value");},n.decodeChar=function(t){if(t.length===1)return n.encodedValues.indexOf(t);throw TypeError('"'+t+'" must have length 1');},n.encodedValues="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n}(),i=function(){function i(){}return i.encode=function(n){var i,r;n=n<0?(-n<<1)+1:n<<1;i="";do r=n&31,n=n>>5,n>0&&(r=r|32),i=i+t.encode(r);while(n>0);return i},i.decode=function(i){for(var f,u=0,e=!1,o=0,r=0;r<i.length;r++)if(f=t.decodeChar(i[r]),r===0?((f&1)==1&&(e=!0),u=f>>1&15):u=u|(f&31)<<o,o+=r===0?4:5,(f&32)!=32)return{value:e?-u:u,rest:i.substr(r+1)};throw new Error(n.getDiagnosticMessage(n.DiagnosticCode.Base64_value_0_finished_with_a_continuation_bit,[i]));},i}();n.Base64VLQFormat=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){}return n}(),r,i,u;n.SourceMapPosition=t;r=function(){function n(){this.start=new t;this.end=new t;this.nameIndex=-1;this.childMappings=[]}return n}();n.SourceMapping=r;i=function(){function t(t,i,r,u,f,e,o){this.emittedFile=t;this.emittedLine=i;this.emittedColumn=r;this.sourceFile=u;this.sourceLine=f;this.sourceColumn=e;this.sourceName=o;n.Debug.assert(isFinite(i));n.Debug.assert(isFinite(r));n.Debug.assert(isFinite(e));n.Debug.assert(isFinite(f))}return t}();n.SourceMapEntry=i;u=function(){function t(n,t,i,r,u,f){this.jsFile=n;this.sourceMapOut=t;this.names=[];this.mappingLevel=[];this.tsFilePaths=[];this.allSourceMappings=[];this.sourceMapEntries=[];this.setSourceMapOptions(i,r,u,f);this.setNewSourceFile(i,u)}return t.prototype.getOutputFile=function(){var n=this.sourceMapOut.getOutputFile();return n.sourceMapEntries=this.sourceMapEntries,n},t.prototype.increaseMappingLevel=function(n){this.mappingLevel.push(n)},t.prototype.decreaseMappingLevel=function(t){n.Debug.assert(this.mappingLevel.length>0,"Mapping level should never be less than 0. This suggests a missing start call.");var i=this.mappingLevel.pop(),r=i.kind?n.SyntaxKind[i.kind()]:[i.start(),i.end()],u=t.kind?n.SyntaxKind[t.kind()]:[t.start(),t.end()];n.Debug.assert(t===i,"Provided ast is not the expected AST, Expected: "+r+" Given: "+u)},t.prototype.setNewSourceFile=function(n,t){var i=[];this.allSourceMappings.push(i);this.currentMappings=[i];this.currentNameIndex=[];this.setNewSourceFilePath(n,t)},t.prototype.setSourceMapOptions=function(i,r,u,f){var o=n.getPrettyName(r,!1,!0),e=o+t.MapFileExtension;this.jsFileName=o;u.sourceMapRootDirectory()?(this.sourceMapDirectory=u.sourceMapRootDirectory(),i.emitToOwnOutputFile()&&(this.sourceMapDirectory=this.sourceMapDirectory+n.switchToForwardSlashes(n.getRootFilePath(i.fileName).replace(u.commonDirectoryPath(),""))),n.isRelative(this.sourceMapDirectory)?(this.sourceMapDirectory=u.commonDirectoryPath()+this.sourceMapDirectory,this.sourceMapDirectory=n.convertToDirectoryPath(n.switchToForwardSlashes(f(this.sourceMapDirectory))),this.sourceMapPath=n.getRelativePathToFixedPath(n.getRootFilePath(r),this.sourceMapDirectory+e)):this.sourceMapPath=this.sourceMapDirectory+e):(this.sourceMapPath=e,this.sourceMapDirectory=n.getRootFilePath(r));this.sourceRoot=u.sourceRootDirectory()},t.prototype.setNewSourceFilePath=function(t,i){var r=n.switchToForwardSlashes(t.fileName);r=i.sourceRootDirectory()?n.getRelativePathToFixedPath(i.commonDirectoryPath(),r):n.getRelativePathToFixedPath(this.sourceMapDirectory,r);this.tsFilePaths.push(r)},t.prototype.emitSourceMapping=function(){var u=this,r,h,c;n.Debug.assert(this.mappingLevel.length===0,"Mapping level is not 0. This suggest a missing end call. Value: "+this.mappingLevel.map(function(t){return["Node of type",n.SyntaxKind[t.kind()],"at",t.start(),"to",t.end()].join(" ")}).join(", "));this.jsFile.WriteLine("//# sourceMappingURL="+this.sourceMapPath);var t="",e=0,o=0,l=0,a=0,v=0,y=0,s=!1,f=null;for(r=0;r<this.tsFilePaths.length;r++)h=function(h,c){if(f===null||f.emittedColumn!==h.emittedColumn||f.emittedLine!==h.emittedLine){if(o!==h.emittedLine){while(o<h.emittedLine)e=0,t=t+";",o++;s=!1}else s&&(t=t+",");u.sourceMapEntries.push(new i(u.jsFileName,h.emittedLine+1,h.emittedColumn+1,u.tsFilePaths[r],h.sourceLine,h.sourceColumn+1,c>=0?u.names[c]:undefined));t=t+n.Base64VLQFormat.encode(h.emittedColumn-e);e=h.emittedColumn;t=t+n.Base64VLQFormat.encode(r-v);v=r;t=t+n.Base64VLQFormat.encode(h.sourceLine-1-a);a=h.sourceLine-1;t=t+n.Base64VLQFormat.encode(h.sourceColumn-l);l=h.sourceColumn;c>=0&&(t=t+n.Base64VLQFormat.encode(c-y),y=c);s=!0;f=h}},c=function(n){for(var t,i=0;i<n.length;i++)t=n[i],h(t.start,t.nameIndex),c(t.childMappings),h(t.end,t.nameIndex)},c(this.allSourceMappings[r]);this.sourceMapOut.Write(JSON.stringify({version:3,file:this.jsFileName,sourceRoot:this.sourceRoot,sources:this.tsFilePaths,names:this.names,mappings:t}));this.sourceMapOut.Close()},t.MapFileExtension=".map",t}();n.SourceMapper=u}(TypeScript||(TypeScript={})),function(n){function s(n){var t=n.parameters;return t.nonSeparatorCount()>0&&t.nonSeparatorAt(t.nonSeparatorCount()-1).dotDotDotToken!==null}function r(n){return n.classElements.lastOrDefault(function(n){return n.kind()===137})}function e(n){return n.kind()===6?n.fullText().split("\n").map(function(n){return n.trim()}):[n.fullText().trim()]}var o,t,u,i,f;(function(n){n[n.Prog=0]="Prog";n[n.Module=1]="Module";n[n.DynamicModule=2]="DynamicModule";n[n.Class=3]="Class";n[n.Constructor=4]="Constructor";n[n.Function=5]="Function";n[n.Args=6]="Args";n[n.Interface=7]="Interface"})(n.EmitContainer||(n.EmitContainer={}));o=n.EmitContainer;t=function(){function n(){this.column=0;this.line=0;this.container=0}return n}();n.EmitState=t;u=function(){function t(t,i){var r,e,f,s,u,o;if(this.resolvePath=i,this._diagnostic=null,this._settings=null,this._commonDirectoryPath="",this._sharedOutputFile="",this._sourceRootDirectory="",this._sourceMapRootDirectory="",this._outputDirectory="",r=t.compilationSettings(),this._settings=r,r.moduleGenTarget()===0)for(e=t.fileNames(),f=0,s=e.length;f<s;f++)if(u=t.getDocument(e[f]),!u.isDeclareFile()&&u.isExternalModule()){o=u.externalModuleIndicatorSpan();this._diagnostic=new n.Diagnostic(u.fileName,u.lineMap(),o.start(),o.length(),n.DiagnosticCode.Cannot_compile_external_modules_unless_the_module_flag_is_provided);return}if(!r.mapSourceFiles()){if(r.mapRoot()){if(r.sourceRoot()){this._diagnostic=new n.Diagnostic(null,null,0,0,n.DiagnosticCode.Options_mapRoot_and_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option,null);return}this._diagnostic=new n.Diagnostic(null,null,0,0,n.DiagnosticCode.Option_mapRoot_cannot_be_specified_without_specifying_sourcemap_option,null);return}if(r.sourceRoot()){this._diagnostic=new n.Diagnostic(null,null,0,0,n.DiagnosticCode.Option_sourceRoot_cannot_be_specified_without_specifying_sourcemap_option,null);return}}this._sourceMapRootDirectory=n.convertToDirectoryPath(n.switchToForwardSlashes(r.mapRoot()));this._sourceRootDirectory=n.convertToDirectoryPath(n.switchToForwardSlashes(r.sourceRoot()));(r.outFileOption()||r.outDirOption()||r.mapRoot()||r.sourceRoot())&&(r.outFileOption()&&(this._sharedOutputFile=n.switchToForwardSlashes(i(r.outFileOption()))),r.outDirOption()&&(this._outputDirectory=n.convertToDirectoryPath(n.switchToForwardSlashes(i(r.outDirOption())))),(this._outputDirectory||this._sourceMapRootDirectory||this.sourceRootDirectory)&&this.determineCommonDirectoryPath(t))}return t.prototype.diagnostic=function(){return this._diagnostic},t.prototype.commonDirectoryPath=function(){return this._commonDirectoryPath},t.prototype.sharedOutputFile=function(){return this._sharedOutputFile},t.prototype.sourceRootDirectory=function(){return this._sourceRootDirectory},t.prototype.sourceMapRootDirectory=function(){return this._sourceMapRootDirectory},t.prototype.outputDirectory=function(){return this._outputDirectory},t.prototype.compilationSettings=function(){return this._settings},t.prototype.determineCommonDirectoryPath=function(t){for(var u,s,i,f=[],r=-1,o=t.fileNames(),e=0,c=o.length;e<c;e++){var l=o[e],h=t.getDocument(o[e]),a=h.sourceUnit();if(!h.isDeclareFile())if(u=n.filePathComponents(l),r===-1)f=u,r=f.length;else{for(s=!1,i=0;i<r&&i<u.length;i++)if(f[i]!==u[i]){if(r=i,s=!0,i===0){if(this._outputDirectory||this._sourceMapRootDirectory){this._diagnostic=new n.Diagnostic(null,null,0,0,n.DiagnosticCode.Cannot_find_the_common_subdirectory_path_for_the_input_files,null);return}return}break}!s&&u.length<r&&(r=u.length)}}this._commonDirectoryPath=f.slice(0,r).join("/")+"/"},t}();n.EmitOptions=u;i=function(){function n(){this.indentAmt=0}return n.prototype.increaseIndent=function(){this.indentAmt+=n.indentStep},n.prototype.decreaseIndent=function(){this.indentAmt-=n.indentStep},n.prototype.getIndent=function(){var t=n.indentStrings[this.indentAmt],i;if(t===undefined){for(t="",i=0;i<this.indentAmt;i=i+n.indentStep)t+=n.indentStepString;n.indentStrings[this.indentAmt]=t}return t},n.indentStep=4,n.indentStepString="    ",n.indentStrings=[],n}();n.Indenter=i;n.lastParameterIsRest=s;f=function(){function u(n,r,u,f){this.emittingFileName=n;this.outfile=r;this.emitOptions=u;this.semanticInfoChain=f;this.globalThisCapturePrologueEmitted=!1;this.extendsPrologueEmitted=!1;this.thisClassNode=null;this.inArrowFunction=!1;this.moduleName="";this.emitState=new t;this.indenter=new i;this.sourceMapper=null;this.captureThisStmtString="var _this = this;";this.declStack=[];this.exportAssignment=null;this.inWithBlock=!1;this.document=null;this.detachedCommentsElement=null}return u.prototype.pushDecl=function(n){n&&(this.declStack[this.declStack.length]=n)},u.prototype.popDecl=function(n){n&&this.declStack.length--},u.prototype.getEnclosingDecl=function(){var n=this.declStack.length;return n>0?this.declStack[n-1]:null},u.prototype.setExportAssignment=function(n){this.exportAssignment=n},u.prototype.getExportAssignment=function(){return this.exportAssignment},u.prototype.setDocument=function(n){this.document=n},u.prototype.shouldEmitImportDeclaration=function(t){var o=t.moduleReference.kind()===245,u=this.semanticInfoChain.getDeclForAST(t),e=n.hasFlag(u.flags,1),s=this.emitOptions.compilationSettings().moduleGenTarget()===2,i,r,f;return o&&!e&&s?!1:(i=u.getSymbol(),i.isUsedAsValue())?!0:t.moduleReference.kind()!==245&&(r=e||i.typeUsedExternally()||i.isUsedInExportedAlias(),r||this.document.isExternalModule()||(r=n.hasFlag(u.getParentDecl().kind,33)),r&&(i.getExportAssignedValueSymbol()||(f=i.getExportAssignedContainerSymbol(),f&&f.getInstanceSymbol())))?!0:!1},u.prototype.emitImportDeclaration=function(t){var s=t.moduleReference.kind()===245,h=this.semanticInfoChain.getDeclForAST(t),y=n.hasFlag(h.flags,1),p=this.emitOptions.compilationSettings().moduleGenTarget()===2,f,o;this.emitComments(t,!0);var r=h.getSymbol(),u=r.getContainer(),c=u?u.kind:0,l=u?u.getAssociatedContainerType():null,a=l?l.kind:0,i=!1,v=!1,e;y&&(c===4||c===32||a===4||a===32)&&(r.getExportAssignedTypeSymbol()||r.getExportAssignedContainerSymbol()?i=!0:(f=r.getExportAssignedValueSymbol(),f&&(f.kind===65536||f.kind===16384)?i=!0:v=!0),e=this.emitState.container===2?"exports.":this.moduleName+".");p&&s?i=!0:(this.recordSourceMappingStart(t),v?this.writeToOutput(e):this.writeToOutput("var "),this.writeToOutput(t.identifier.text()+" = "),o=t.moduleReference,s?this.writeToOutput("require("+o.stringLiteral.text()+")"):this.emitJavascript(o.moduleName,!1),this.recordSourceMappingEnd(t),this.writeToOutput(";"),i&&(this.writeLineToOutput(""),this.emitIndent()));i&&(this.writeToOutputWithSourceMapRecord(e+t.identifier.text()+" = "+t.identifier.text(),t),this.writeToOutput(";"));this.emitComments(t,!1)},u.prototype.createSourceMapper=function(t,i,r,u,f){this.sourceMapper=new n.SourceMapper(r,u,t,i,this.emitOptions,f)},u.prototype.setSourceMapperNewSourceFile=function(n){this.sourceMapper.setNewSourceFile(n,this.emitOptions)},u.prototype.updateLineAndColumn=function(t){var i=n.TextUtilities.parseLineStarts(t);i.length>1?(this.emitState.line+=i.length-1,this.emitState.column=t.length-i[i.length-1]):this.emitState.column+=t.length},u.prototype.writeToOutputWithSourceMapRecord=function(n,t){this.recordSourceMappingStart(t);this.writeToOutput(n);this.recordSourceMappingEnd(t)},u.prototype.writeToOutput=function(n){this.outfile.Write(n);this.updateLineAndColumn(n)},u.prototype.writeLineToOutput=function(n,t){(typeof t=="undefined"&&(t=!1),t||n!==""||this.emitState.column!==0)&&(this.outfile.WriteLine(n),this.updateLineAndColumn(n),this.emitState.column=0,this.emitState.line++)},u.prototype.writeCaptureThisStatement=function(n){this.emitIndent();this.writeToOutputWithSourceMapRecord(this.captureThisStmtString,n);this.writeLineToOutput("")},u.prototype.setContainer=function(n){var t=this.emitState.container;return this.emitState.container=n,t},u.prototype.getIndentString=function(){return this.indenter.getIndent()},u.prototype.emitIndent=function(){this.writeToOutput(this.getIndentString())},u.prototype.emitComment=function(n,t,i){var r,f,u;if(!this.emitOptions.compilationSettings().removeComments()){if(r=e(n),f=this.emitState.column,f===0?this.emitIndent():t&&i&&this.writeToOutput(" "),n.kind()===6)if(this.recordSourceMappingStart(n),this.writeToOutput(r[0]),r.length>1||n.endsLine){for(u=1;u<r.length;u++)this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput(r[u]);this.recordSourceMappingEnd(n);this.writeLineToOutput("")}else{this.recordSourceMappingEnd(n);this.writeToOutput(" ");return}else this.recordSourceMappingStart(n),this.writeToOutput(r[0]),this.recordSourceMappingEnd(n),this.writeLineToOutput("");t||f===0||this.emitIndent()}},u.prototype.emitComments=function(t,i,r){var e=this,u,f;(typeof r=="undefined"&&(r=!1),t&&t.kind()!==146&&(t.parent.kind()===219||t.parent.kind()===218))||(i?(u=t.preComments(),u&&t===this.detachedCommentsElement&&(f=this.getDetachedComments(t),u=u.slice(f.length),this.detachedCommentsElement=null),u&&r&&(u=n.ArrayUtilities.where(u,function(n){return e.isPinnedOrTripleSlash(n)})),this.emitCommentsArray(u,!1)):this.emitCommentsArray(t.postComments(),!0))},u.prototype.isPinnedOrTripleSlash=function(t){var i=t.fullText();return i.match(n.tripleSlashReferenceRegExp)?!0:i.indexOf("/*!")===0},u.prototype.emitCommentsArray=function(n,t){if(!this.emitOptions.compilationSettings().removeComments()&&n)for(var i=0,r=n.length;i<r;i++)this.emitComment(n[i],t,i===0)},u.prototype.emitObjectLiteralExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("{");this.emitCommaSeparatedList(n,n.propertyAssignments," ",!0);this.writeToOutput("}");this.recordSourceMappingEnd(n)},u.prototype.emitArrayLiteralExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("[");this.emitCommaSeparatedList(n,n.expressions,"",!0);this.writeToOutput("]");this.recordSourceMappingEnd(n)},u.prototype.emitObjectCreationExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("new ");var t=n.expression;this.emit(t);n.argumentList&&(this.recordSourceMappingStart(n.argumentList),this.writeToOutput("("),this.emitCommaSeparatedList(n.argumentList,n.argumentList.arguments,"",!1),this.writeToOutputWithSourceMapRecord(")",n.argumentList.closeParenToken),this.recordSourceMappingEnd(n.argumentList));this.recordSourceMappingEnd(n)},u.prototype.getConstantDecl=function(n){var t=this.semanticInfoChain.getSymbolForAST(n),i,r;return t&&t.kind===67108864&&(i=t.getDeclarations(),i.length===1&&(r=i[0],r.kind===67108864))?r:null},u.prototype.tryEmitConstant=function(n){var u=n.name,r=this.getConstantDecl(n),i,t;return r&&(i=r.constantValue,i!==null)?(this.recordSourceMappingStart(n),this.writeToOutput(i.toString()),t=" /* ",t+=u.text(),t+=" */",this.writeToOutput(t),this.recordSourceMappingEnd(n),!0):!1},u.prototype.emitInvocationExpression=function(n){this.recordSourceMappingStart(n);var i=n.expression,t=n.argumentList.arguments;i.kind()===212&&i.expression.kind()===50?(this.emit(i),this.writeToOutput(".call"),this.recordSourceMappingStart(t),this.writeToOutput("("),this.emitThis(),t&&t.nonSeparatorCount()>0&&(this.writeToOutput(", "),this.emitCommaSeparatedList(n.argumentList,t,"",!1))):(n.expression.kind()===50&&this.emitState.container===4?this.writeToOutput("_super.call"):this.emitJavascript(i,!1),this.recordSourceMappingStart(t),this.writeToOutput("("),n.expression.kind()===50&&this.emitState.container===4&&(this.writeToOutput("this"),t&&t.nonSeparatorCount()>0&&this.writeToOutput(", ")),this.emitCommaSeparatedList(n.argumentList,t,"",!1));this.writeToOutputWithSourceMapRecord(")",n.argumentList.closeParenToken);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(n)},u.prototype.emitParameterList=function(t){this.writeToOutput("(");this.emitCommentsArray(t.openParenTrailingComments,!0);this.emitFunctionParameters(n.ASTHelpers.parametersFromParameterList(t));this.writeToOutput(")")},u.prototype.emitFunctionParameters=function(n){var r=0,u,i,t,f;if(n){for(this.emitComments(n.ast,!0),u=this.setContainer(6),r=n.length,i=r,n.lastParameterIsRest()&&i--,t=0;t<i;t++)f=n.astAt(t),this.emit(f),t<i-1&&this.writeToOutput(", ");this.setContainer(u);this.emitComments(n.ast,!1)}},u.prototype.emitFunctionBodyStatements=function(n,t,i,r,u){this.writeLineToOutput(" {");n&&this.recordSourceMappingNameStart(n);this.indenter.increaseIndent();r&&this.emitDetachedComments(r.statements);this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);i&&(this.emitDefaultValueAssignments(i),this.emitRestParameterInitializer(i));r?(this.emitList(r.statements),this.emitCommentsArray(r.closeBraceLeadingComments,!1)):(this.emitIndent(),this.emitCommentsArray(u.preComments(),!1),this.writeToOutput("return "),this.emit(u),this.writeLineToOutput(";"),this.emitCommentsArray(u.postComments(),!0));this.indenter.decreaseIndent();this.emitIndent();r?this.writeToOutputWithSourceMapRecord("}",r.closeBraceToken):this.writeToOutputWithSourceMapRecord("}",u);n&&this.recordSourceMappingNameEnd()},u.prototype.emitDefaultValueAssignments=function(n){var r=n.length,t;for(n.lastParameterIsRest()&&r--,t=0;t<r;t++){var u=n.astAt(t),i=n.identifierAt(t),f=n.initializerAt(t);f&&(this.emitIndent(),this.recordSourceMappingStart(u),this.writeToOutput("if (typeof "+i.text()+' === "undefined") { '),this.writeToOutputWithSourceMapRecord(i.text(),i),this.emitJavascript(f,!1),this.writeLineToOutput("; }"),this.recordSourceMappingEnd(u))}},u.prototype.emitRestParameterInitializer=function(n){if(n.lastParameterIsRest()){var i=n.length,t=n.astAt(i-1),r=n.identifierAt(i-1);this.emitIndent();this.recordSourceMappingStart(t);this.writeToOutput("var ");this.writeToOutputWithSourceMapRecord(r.text(),r);this.writeLineToOutput(" = [];");this.recordSourceMappingEnd(t);this.emitIndent();this.writeToOutput("for (");this.writeToOutputWithSourceMapRecord("var _i = 0;",t);this.writeToOutput(" ");this.writeToOutputWithSourceMapRecord("_i < (arguments.length - "+(i-1)+")",t);this.writeToOutput("; ");this.writeToOutputWithSourceMapRecord("_i++",t);this.writeLineToOutput(") {");this.indenter.increaseIndent();this.emitIndent();this.writeToOutputWithSourceMapRecord(r.text()+"[_i] = arguments[_i + "+(i-1)+"];",t);this.writeLineToOutput("");this.indenter.decreaseIndent();this.emitIndent();this.writeLineToOutput("}")}},u.prototype.getImportDecls=function(){for(var n,e,r,t,o=this.semanticInfoChain.topLevelDecl(this.document.fileName),u=[],s=o.getChildDecls()[0],f=s.getChildDecls(),i=0,h=f.length;i<h;i++)n=f[i],n.kind&128&&(e=this.semanticInfoChain.getASTForDecl(n),e.moduleReference.kind()===245&&(r=n.getSymbol(),t=r&&r.type,t&&t!==this.semanticInfoChain.anyTypeSymbol&&!t.isError()&&u.push(n)));return u},u.prototype.getModuleImportAndDependencyList=function(){var r="",t="",i=this.getImportDecls(this.document.fileName),f,n;if(i.length)for(n=0;n<i.length;n++){var u=i[n],e=u.getSymbol(),o=this.semanticInfoChain.getASTForDecl(u);e.isUsedAsValue()&&(n<=i.length-1&&(t+=", ",r+=", "),r+=u.name,t+=o.moduleReference.stringLiteral.text())}for(f=this.document.amdDependencies(),n=0;n<f.length;n++)t+=', "'+f[n]+'"';return{importList:r,dependencyList:t}},u.prototype.shouldCaptureThis=function(t){var r,i;return t.kind()===120?(r=this.semanticInfoChain.topLevelDecl(this.document.fileName),n.hasFlag(r.flags,262144)):(i=this.semanticInfoChain.getDeclForAST(t),i)?n.hasFlag(i.flags,262144):!1},u.prototype.emitEnum=function(t){var f=this.semanticInfoChain.getDeclForAST(t),r,i,u,e,o;this.pushDecl(f);r=this.moduleName;this.moduleName=t.identifier.text();i=this.setContainer(1);u=n.hasFlag(f.flags,1);u||(this.recordSourceMappingStart(t),this.writeToOutput("var "),this.recordSourceMappingStart(t.identifier),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(t.identifier),this.writeLineToOutput(";"),this.recordSourceMappingEnd(t),this.emitIndent());this.writeToOutput("(");this.recordSourceMappingStart(t);this.writeToOutput("function (");this.writeToOutputWithSourceMapRecord(this.moduleName,t.identifier);this.writeLineToOutput(") {");this.recordSourceMappingNameStart(this.moduleName);this.indenter.increaseIndent();this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);this.emitSeparatedList(t.enumElements);this.indenter.decreaseIndent();this.emitIndent();e=i===2;i===0&&u?(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.writeToOutput(")(this."+this.moduleName+" || (this."+this.moduleName+" = {}));")):u||i===0?(o=r!==""?(e?"exports":r)+".":r,this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.writeToOutput(")("+o+this.moduleName+" || ("+o+this.moduleName+" = {}));")):u||i===0?(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.writeToOutput(")();")):(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.writeToOutput(")("+this.moduleName+" || ("+this.moduleName+" = {}));"));this.recordSourceMappingEnd(t);i!==0&&u&&(this.recordSourceMappingStart(t),e?(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = exports."+this.moduleName+";")):(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = "+r+"."+this.moduleName+";")),this.recordSourceMappingEnd(t));this.setContainer(i);this.moduleName=r;this.popDecl(f)},u.prototype.getModuleDeclToVerifyChildNameCollision=function(t,i){var f,u,r;if(n.ArrayUtilities.contains(this.declStack,t))return t;if(i&&(f=t.getSymbol(),f))for(u=f.getDeclarations(),r=0;r<u.length;r++)if(n.ArrayUtilities.contains(this.declStack,u[r]))return u[r];return null},u.prototype.hasChildNameCollision=function(t,i){var r=this,u=i.getChildDecls();return n.ArrayUtilities.any(u,function(n){var u=r.semanticInfoChain.getASTForDecl(n);return n.kind!=67108864&&r.shouldEmit(u)&&(n.name===t&&(i.kind!=8||!(n.kind==65536||n.kind==4096||n.kind==524288||n.kind==262144))||r.hasChildNameCollision(t,n))?!0:!1})},u.prototype.getModuleName=function(n,t){var i=n.name,r=n.getDisplayName();if(n=this.getModuleDeclToVerifyChildNameCollision(n,t),n&&n.kind!=64)while(this.hasChildNameCollision(i,n))i="_"+i,r="_"+r;return r},u.prototype.emitModuleDeclarationWorker=function(t){if(t.stringLiteral)this.emitSingleModuleDeclaration(t,t.stringLiteral);else{var i=n.getModuleNames(t.name);this.emitSingleModuleDeclaration(t,i[0])}},u.prototype.emitSingleModuleDeclaration=function(t,i){var o=n.ASTHelpers.isLastNameOfModule(t,i),e,u,r,f,s,h,c,l;o&&this.emitComments(t,!0);e=this.semanticInfoChain.getDeclForAST(i);this.pushDecl(e);u=this.moduleName;t.stringLiteral?(this.moduleName=t.stringLiteral.valueText(),n.isTSFile(this.moduleName)&&(this.moduleName=this.moduleName.substring(0,this.moduleName.length-3))):this.moduleName=i.text();r=this.setContainer(1);f=n.hasFlag(e.flags,1);f||(this.recordSourceMappingStart(t),this.writeToOutput("var "),this.recordSourceMappingStart(i),this.writeToOutput(this.moduleName),this.recordSourceMappingEnd(i),this.writeLineToOutput(";"),this.recordSourceMappingEnd(t),this.emitIndent());this.writeToOutput("(");this.recordSourceMappingStart(t);this.writeToOutput("function (");this.moduleName=this.getModuleName(e);this.writeToOutputWithSourceMapRecord(this.moduleName,i);this.writeLineToOutput(") {");this.recordSourceMappingNameStart(i.text());this.indenter.increaseIndent();this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t);i===t.stringLiteral?this.emitList(t.moduleElements):(s=n.getModuleNames(t.name),h=s.indexOf(i),n.Debug.assert(h>=0),o?this.emitList(t.moduleElements):(this.emitIndent(),this.emitSingleModuleDeclaration(t,s[h+1]),this.writeLineToOutput("")));this.moduleName=i.text();this.indenter.decreaseIndent();this.emitIndent();c=r===2;this.recordSourceMappingStart(t.endingToken);r===0&&f?(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")(this."+this.moduleName+" || (this."+this.moduleName+" = {}));")):f||r===0?(l=u!==""?(c?"exports":u)+".":u,this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+l+this.moduleName+" || ("+l+this.moduleName+" = {}));")):f||r===0?(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")();")):(this.writeToOutput("}"),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t.endingToken),this.writeToOutput(")("+this.moduleName+" || ("+this.moduleName+" = {}));"));this.recordSourceMappingEnd(t);r!==0&&f&&(this.recordSourceMappingStart(t),c?(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = exports."+this.moduleName+";")):(this.writeLineToOutput(""),this.emitIndent(),this.writeToOutput("var "+this.moduleName+" = "+u+"."+this.moduleName+";")),this.recordSourceMappingEnd(t));this.setContainer(r);this.moduleName=u;this.popDecl(e);o&&this.emitComments(t,!1)},u.prototype.emitEnumElement=function(t){var r=this.semanticInfoChain.getDeclForAST(t),i,u;n.Debug.assert(r&&r.kind===67108864);this.emitComments(t,!0);this.recordSourceMappingStart(t);i=t.propertyName.text();u=n.isQuoted(i);this.writeToOutput(this.moduleName);this.writeToOutput("[");this.writeToOutput(this.moduleName);this.writeToOutput("[");this.writeToOutput(u?i:'"'+i+'"');this.writeToOutput("]");t.equalsValueClause?this.emit(t.equalsValueClause):r.constantValue!==null?(this.writeToOutput(" = "),this.writeToOutput(r.constantValue.toString())):this.writeToOutput(" = null");this.writeToOutput("] = ");this.writeToOutput(u?i:'"'+i+'"');this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.writeToOutput(";")},u.prototype.emitElementAccessExpression=function(n){this.recordSourceMappingStart(n);this.emit(n.expression);this.writeToOutput("[");this.emit(n.argumentExpression);this.writeToOutput("]");this.recordSourceMappingEnd(n)},u.prototype.emitSimpleArrowFunctionExpression=function(t){this.emitAnyArrowFunctionExpression(t,null,n.ASTHelpers.parametersFromIdentifier(t.identifier),t.block,t.expression)},u.prototype.emitParenthesizedArrowFunctionExpression=function(t){this.emitAnyArrowFunctionExpression(t,null,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),t.block,t.expression)},u.prototype.emitAnyArrowFunctionExpression=function(n,t,i,r,u){var o=this.inArrowFunction,e,f;this.inArrowFunction=!0;e=this.setContainer(5);this.recordSourceMappingStart(n);f=this.semanticInfoChain.getDeclForAST(n);this.pushDecl(f);this.emitComments(n,!0);this.recordSourceMappingStart(n);this.writeToOutput("function ");this.writeToOutput("(");this.emitFunctionParameters(i);this.writeToOutput(")");this.emitFunctionBodyStatements(t,n,i,r,u);this.recordSourceMappingEnd(n);this.recordSourceMappingEnd(n);this.emitComments(n,!1);this.popDecl(f);this.setContainer(e);this.inArrowFunction=o},u.prototype.emitConstructor=function(t){var u,r,i;t.block&&(u=this.setContainer(4),this.recordSourceMappingStart(t),r=this.semanticInfoChain.getDeclForAST(t),this.pushDecl(r),this.emitComments(t,!0),this.recordSourceMappingStart(t),this.writeToOutput("function "),this.writeToOutput(this.thisClassNode.identifier.text()),this.writeToOutput("("),i=n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),this.emitFunctionParameters(i),this.writeLineToOutput(") {"),this.recordSourceMappingNameStart("constructor"),this.indenter.increaseIndent(),this.emitDefaultValueAssignments(i),this.emitRestParameterInitializer(i),this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t),this.emitConstructorStatements(t),this.emitCommentsArray(t.block.closeBraceLeadingComments,!1),this.indenter.decreaseIndent(),this.emitIndent(),this.writeToOutputWithSourceMapRecord("}",t.block.closeBraceToken),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t),this.recordSourceMappingEnd(t),this.emitComments(t,!1),this.popDecl(r),this.setContainer(u))},u.prototype.emitGetAccessor=function(t){var r,i;this.recordSourceMappingStart(t);this.writeToOutput("get ");r=this.setContainer(5);this.recordSourceMappingStart(t);i=this.semanticInfoChain.getDeclForAST(t);this.pushDecl(i);this.recordSourceMappingStart(t);var u=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain),f=u.getContainer(),e=f.kind;this.recordSourceMappingNameStart(t.propertyName.text());this.writeToOutput(t.propertyName.text());this.writeToOutput("(");this.writeToOutput(")");this.emitFunctionBodyStatements(null,t,n.ASTHelpers.parametersFromParameterList(t.parameterList),t.block,null);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(t);this.popDecl(i);this.setContainer(r);this.recordSourceMappingEnd(t)},u.prototype.emitSetAccessor=function(t){var u,i,r;this.recordSourceMappingStart(t);this.writeToOutput("set ");u=this.setContainer(5);this.recordSourceMappingStart(t);i=this.semanticInfoChain.getDeclForAST(t);this.pushDecl(i);this.recordSourceMappingStart(t);var f=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain),e=f.getContainer(),o=e.kind;this.recordSourceMappingNameStart(t.propertyName.text());this.writeToOutput(t.propertyName.text());this.writeToOutput("(");r=n.ASTHelpers.parametersFromParameterList(t.parameterList);this.emitFunctionParameters(r);this.writeToOutput(")");this.emitFunctionBodyStatements(null,t,r,t.block,null);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(t);this.popDecl(i);this.setContainer(u);this.recordSourceMappingEnd(t)},u.prototype.emitFunctionExpression=function(t){var e=this.inArrowFunction,u,f,i,r;this.inArrowFunction=!1;u=this.setContainer(5);f=t.identifier?t.identifier.text():null;this.recordSourceMappingStart(t);i=this.semanticInfoChain.getDeclForAST(t);this.pushDecl(i);this.recordSourceMappingStart(t);this.writeToOutput("function ");t.identifier&&(this.recordSourceMappingStart(t.identifier),this.writeToOutput(t.identifier.text()),this.recordSourceMappingEnd(t.identifier));this.writeToOutput("(");r=n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList);this.emitFunctionParameters(r);this.writeToOutput(")");this.emitFunctionBodyStatements(f,t,r,t.block,null);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.popDecl(i);this.setContainer(u);this.inArrowFunction=e},u.prototype.emitFunction=function(t){var e,o,i,s,r,u,h,f,c;t.block!==null&&(e=this.inArrowFunction,this.inArrowFunction=!1,o=this.setContainer(5),i=t.identifier.text(),this.recordSourceMappingStart(t),s=t.identifier!==null,r=this.semanticInfoChain.getDeclForAST(t),this.pushDecl(r),this.emitComments(t,!0),this.recordSourceMappingStart(t),this.writeToOutput("function "),s&&(u=t.identifier.text(),u&&(t.identifier&&this.recordSourceMappingStart(t.identifier),this.writeToOutput(u),t.identifier&&this.recordSourceMappingEnd(t.identifier))),this.emitParameterList(t.callSignature.parameterList),h=n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),this.emitFunctionBodyStatements(t.identifier.text(),t,h,t.block,null),this.recordSourceMappingEnd(t),this.recordSourceMappingEnd(t),this.emitComments(t,!1),this.popDecl(r),this.setContainer(o),this.inArrowFunction=e,t.block&&(f=this.semanticInfoChain.getDeclForAST(t),(this.emitState.container===1||this.emitState.container===2)&&f&&n.hasFlag(f.flags,1)&&(this.writeLineToOutput(""),this.emitIndent(),c=this.emitState.container===1?this.moduleName:"exports",this.recordSourceMappingStart(t),this.writeToOutput(c+"."+i+" = "+i+";"),this.recordSourceMappingEnd(t))))},u.prototype.emitAmbientVarDecl=function(n){this.recordSourceMappingStart(this.currentVariableDeclaration);n.equalsValueClause&&(this.emitComments(n,!0),this.recordSourceMappingStart(n),this.writeToOutputWithSourceMapRecord(n.propertyName.text(),n.propertyName),this.emitJavascript(n.equalsValueClause,!1),this.recordSourceMappingEnd(n),this.emitComments(n,!1))},u.prototype.emitVarDeclVar=function(){this.currentVariableDeclaration&&this.writeToOutput("var ")},u.prototype.emitVariableDeclaration=function(t){var r=t.declarators.nonSeparatorAt(0),f=this.semanticInfoChain.getSymbolForAST(r),e=f?f.getContainer():null,l=e?e.kind:0,u,o,s,i,h,c;if(this.emitComments(t,!0),u=this.semanticInfoChain.getDeclForAST(r),o=u&&n.hasFlag(u.flags,8)&&r.equalsValueClause===null,!o){for(s=this.currentVariableDeclaration,this.currentVariableDeclaration=t,i=0,h=t.declarators.nonSeparatorCount();i<h;i++)c=t.declarators.nonSeparatorAt(i),i>0&&this.writeToOutput(", "),this.emit(c);this.currentVariableDeclaration=s;this.recordSourceMappingEnd(t)}this.emitComments(t,!1)},u.prototype.emitMemberVariableDeclaration=function(t){var i,f;n.Debug.assert(!n.hasModifier(t.modifiers,16)&&t.variableDeclarator.equalsValueClause);i=this.semanticInfoChain.getDeclForAST(t);this.pushDecl(i);this.emitComments(t,!0);this.recordSourceMappingStart(t);var e=t.variableDeclarator.propertyName.text(),r=n.isQuoted(e)||t.variableDeclarator.propertyName.kind()!==11,u=this.semanticInfoChain.getSymbolForAST(t),o=u?u.getContainer():null,s=i&&i.getParentDecl();r?this.writeToOutput("this["):this.writeToOutput("this.");this.writeToOutputWithSourceMapRecord(t.variableDeclarator.propertyName.text(),t.variableDeclarator.propertyName);r&&this.writeToOutput("]");t.variableDeclarator.equalsValueClause&&(f=this.currentVariableDeclaration,this.emit(t.variableDeclarator.equalsValueClause),this.currentVariableDeclaration=f);this.emitState.container!==6&&this.writeToOutput(";");this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.popDecl(i)},u.prototype.emitVariableDeclarator=function(t){var i=this.semanticInfoChain.getDeclForAST(t),f;if(this.pushDecl(i),i&&(i.flags&8)==8)this.emitAmbientVarDecl(t);else{this.emitComments(t,!0);this.recordSourceMappingStart(this.currentVariableDeclaration);this.recordSourceMappingStart(t);var o=t.propertyName.text(),r=this.semanticInfoChain.getSymbolForAST(t),s=r?r.getContainer():null,u=i&&i.getParentDecl(),e=u&&u.flags&102400;e?n.hasFlag(i.flags,1)?this.emitState.container===2?this.writeToOutput("exports."):this.writeToOutput(this.moduleName+"."):this.emitVarDeclVar():this.emitVarDeclVar();this.writeToOutputWithSourceMapRecord(t.propertyName.text(),t.propertyName);t.equalsValueClause&&(f=this.currentVariableDeclaration,this.emit(t.equalsValueClause),this.currentVariableDeclaration=f);this.recordSourceMappingEnd(t);this.emitComments(t,!1)}this.currentVariableDeclaration=undefined;this.popDecl(i)},u.prototype.symbolIsUsedInItsEnclosingContainer=function(n,t){var f,e,o,i,r,u;if(typeof t=="undefined"&&(t=!1),f=n.getDeclarations(),f.length&&(e=this.getEnclosingDecl(),e&&(o=f[0].getParentDecl(),o))){for(i=o,r=e;i;){if(i.kind===(t?32:4))break;i=i.getParentDecl()}if(i)while(r){if(r.kind===(t?32:4))break;r=r.getParentDecl()}if(i&&r)return u=i===r,!u&&n.anyDeclHasFlag(32768)&&(u=i===r.getParentDecl()),u}return!1},u.prototype.getPotentialDeclPathInfoForEmit=function(n){var c=n.getDeclarations()[0],o=c.getParentDecl(),i=o?o.getParentPath():[],f=this.declStack,e=-1,s,r,h,u,t;if(f.length)for(t=i.length-1;t>=0;t--){for(s=i[t],r=f.length-1;r>=0;r--)if(h=f[r],s===h){e=t;break}if(e>=0)break}for(u=i.length-1,t=u-1;t>e;t--)if(i[t+1].flags&1)u=t;else break;return{potentialPath:i,startingIndex:u}},u.prototype.emitDottedNameFromDeclPath=function(n,t,i){for(var r=t;r<=i;r++)n[r].kind===32||n[r].flags&65536?this.writeToOutput("exports."):this.writeToOutput(this.getModuleName(n[r],!0)+".")},u.prototype.emitSymbolContainerNameInEnclosingContext=function(n){var t=this.getPotentialDeclPathInfoForEmit(n),i=t.potentialPath,r=t.startingIndex;this.emitDottedNameFromDeclPath(i,r,i.length-1)},u.prototype.getSymbolForEmit=function(t){var r=this.semanticInfoChain.getSymbolForAST(t),i=this.semanticInfoChain.getAliasSymbolForAST(t),u;return r&&i&&(u=n.isTypesOnlyLocation(t)?i.getExportAssignedTypeSymbol():i.getExportAssignedValueSymbol(),r===u&&(r=i,i=null)),{symbol:r,aliasSymbol:i}},u.prototype.emitName=function(t,i){var o,r,u,e;if(this.emitComments(t,!0),this.recordSourceMappingStart(t),t.text().length>0){o=this.getSymbolForEmit(t);r=o.symbol;r||(r=this.semanticInfoChain.anyTypeSymbol);var s=o.aliasSymbol,f=r.kind,h=s&&s.getDeclarations()[0].getParentDecl()===this.getEnclosingDecl();i&&this.emitState.container!==6&&r&&(u=r.getContainer(),u&&(e=u.kind,e===8?r.anyDeclHasFlag(16)?this.emitSymbolContainerNameInEnclosingContext(r):f===4096&&(this.emitThis(),this.writeToOutput(".")):n.PullHelpers.symbolIsModule(u)||e===64||u.anyDeclHasFlag(36864)?f===4096||f===67108864?this.emitSymbolContainerNameInEnclosingContext(r):r.anyDeclHasFlag(1)&&f===512&&!r.anyDeclHasFlag(36864)?this.emitSymbolContainerNameInEnclosingContext(r):r.anyDeclHasFlag(1)&&!this.symbolIsUsedInItsEnclosingContainer(r)&&this.emitSymbolContainerNameInEnclosingContext(r):(e===32||u.anyDeclHasFlag(65536))&&(f===4096?this.writeToOutput("exports."):!r.anyDeclHasFlag(1)||h||r.anyDeclHasFlag(118784)||r.kind===32768||r.kind===8||r.kind===64||this.writeToOutput("exports."))));this.writeToOutput(t.text())}this.recordSourceMappingEnd(t);this.emitComments(t,!1)},u.prototype.recordSourceMappingNameStart=function(n){var i,t;if(this.sourceMapper){if(t=-1,n){for(this.sourceMapper.currentNameIndex.length>0&&(i=this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1],i!==-1&&(n=this.sourceMapper.names[i]+"."+n)),t=this.sourceMapper.names.length-1,t;t>=0;t--)if(this.sourceMapper.names[t]===n)break;t===-1&&(t=this.sourceMapper.names.length,this.sourceMapper.names.push(n))}this.sourceMapper.currentNameIndex.push(t)}},u.prototype.recordSourceMappingNameEnd=function(){this.sourceMapper&&this.sourceMapper.currentNameIndex.pop()},u.prototype.recordSourceMappingStart=function(t){var r,i,u,f;this.sourceMapper&&n.ASTHelpers.isValidAstNode(t)&&(r={line:-1,character:-1},i=new n.SourceMapping,i.start.emittedColumn=this.emitState.column,i.start.emittedLine=this.emitState.line,u=this.document.lineMap(),u.fillLineAndCharacterFromPosition(t.start(),r),i.start.sourceColumn=r.character,i.start.sourceLine=r.line+1,u.fillLineAndCharacterFromPosition(t.end(),r),i.end.sourceColumn=r.character,i.end.sourceLine=r.line+1,n.Debug.assert(!isNaN(i.start.emittedColumn)),n.Debug.assert(!isNaN(i.start.emittedLine)),n.Debug.assert(!isNaN(i.start.sourceColumn)),n.Debug.assert(!isNaN(i.start.sourceLine)),n.Debug.assert(!isNaN(i.end.sourceColumn)),n.Debug.assert(!isNaN(i.end.sourceLine)),this.sourceMapper.currentNameIndex.length>0&&(i.nameIndex=this.sourceMapper.currentNameIndex[this.sourceMapper.currentNameIndex.length-1]),f=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],f.push(i),this.sourceMapper.currentMappings.push(i.childMappings),this.sourceMapper.increaseMappingLevel(t))},u.prototype.recordSourceMappingEnd=function(t){if(this.sourceMapper&&n.ASTHelpers.isValidAstNode(t)){this.sourceMapper.currentMappings.pop();var r=this.sourceMapper.currentMappings[this.sourceMapper.currentMappings.length-1],i=r[r.length-1];i.end.emittedColumn=this.emitState.column;i.end.emittedLine=this.emitState.line;n.Debug.assert(!isNaN(i.end.emittedColumn));n.Debug.assert(!isNaN(i.end.emittedLine));this.sourceMapper.decreaseMappingLevel(t)}},u.prototype.getOutputFiles=function(){var n=[];return this.sourceMapper!==null&&(this.sourceMapper.emitSourceMapping(),n.push(this.sourceMapper.getOutputFile())),n.push(this.outfile.getOutputFile()),n},u.prototype.emitParameterPropertyAndMemberVariableAssignments=function(){var e=r(this.thisClassNode),i,o,t,u,f;if(e)for(t=0,u=e.callSignature.parameterList.parameters.nonSeparatorCount();t<u;t++)i=e.callSignature.parameterList.parameters.nonSeparatorAt(t),o=this.semanticInfoChain.getDeclForAST(i),n.hasFlag(o.flags,8388608)&&(this.emitIndent(),this.recordSourceMappingStart(i),this.writeToOutputWithSourceMapRecord("this."+i.identifier.text(),i.identifier),this.writeToOutput(" = "),this.writeToOutputWithSourceMapRecord(i.identifier.text(),i.identifier),this.writeLineToOutput(";"),this.recordSourceMappingEnd(i));for(t=0,u=this.thisClassNode.classElements.childCount();t<u;t++)this.thisClassNode.classElements.childAt(t).kind()===136&&(f=this.thisClassNode.classElements.childAt(t),!n.hasModifier(f.modifiers,16)&&f.variableDeclarator.equalsValueClause&&(this.emitIndent(),this.emitMemberVariableDeclaration(f),this.writeLineToOutput("")))},u.prototype.isOnSameLine=function(n,t){var i=this.document.lineMap();return i.getLineNumberFromPosition(n)===i.getLineNumberFromPosition(t)},u.prototype.emitCommaSeparatedList=function(n,t,i,r){var f,u,e,o;if(t!==null&&t.nonSeparatorCount()!==0){for(f=r&&!this.isOnSameLine(n.end(),t.nonSeparatorAt(0).end()),r&&this.indenter.increaseIndent(),f?this.writeLineToOutput(""):this.writeToOutput(i),u=0,e=t.nonSeparatorCount();u<e;u++)o=t.nonSeparatorAt(u),this.emitJavascript(o,f),u<e-1&&(f=r&&!this.isOnSameLine(o.end(),t.nonSeparatorAt(u+1).start()),f?this.writeLineToOutput(","):this.writeToOutput(", "));r&&this.indenter.decreaseIndent();r&&!this.isOnSameLine(n.end(),t.nonSeparatorAt(t.nonSeparatorCount()-1).end())?(this.writeLineToOutput(""),this.emitIndent()):this.writeToOutput(i)}},u.prototype.emitList=function(n,t,i,r){var e,f,u;if(typeof t=="undefined"&&(t=!0),typeof i=="undefined"&&(i=0),typeof r=="undefined"&&(r=n.childCount()),n!==null){for(this.emitComments(n,!0),e=null,f=i;f<r;f++)u=n.childAt(f),this.shouldEmit(u)&&(this.emitSpaceBetweenConstructs(e,u),this.emitJavascript(u,!0),t&&this.writeLineToOutput(""),e=u);this.emitComments(n,!1)}},u.prototype.emitSeparatedList=function(n,t,i,r){var e,f,u;if(typeof t=="undefined"&&(t=!0),typeof i=="undefined"&&(i=0),typeof r=="undefined"&&(r=n.nonSeparatorCount()),n!==null){for(this.emitComments(n,!0),e=null,f=i;f<r;f++)u=n.nonSeparatorAt(f),this.shouldEmit(u)&&(this.emitSpaceBetweenConstructs(e,u),this.emitJavascript(u,!0),t&&this.writeLineToOutput(""),e=u);this.emitComments(n,!1)}},u.prototype.isDirectivePrologueElement=function(n){if(n.kind()===149){var t=n;return t.expression.kind()===14}return!1},u.prototype.emitSpaceBetweenConstructs=function(n,t){if(n!==null&&t!==null&&n.start()!==-1&&n.end()!==-1&&t.start()!==-1&&t.end()!==-1){var i=this.document.lineMap(),r=i.getLineNumberFromPosition(n.end()),u=i.getLineNumberFromPosition(t.start());u-r>1&&this.writeLineToOutput("",!0)}},u.prototype.getDetachedComments=function(t){var o=t.preComments(),u,h,f,c,e,l;if(o){var i=this.document.lineMap(),r=[],s=null;for(u=0,h=o.length;u<h;u++){if(f=o[u],s&&(e=i.getLineNumberFromPosition(s.end()),c=i.getLineNumberFromPosition(f.start()),c>=e+2))return r;r.push(f);s=f}if(e=i.getLineNumberFromPosition(n.ArrayUtilities.last(r).end()),l=i.getLineNumberFromPosition(t.start()),l>=e+2)return r}return[]},u.prototype.emitPossibleCopyrightHeaders=function(n){this.emitDetachedComments(n.moduleElements)},u.prototype.emitDetachedComments=function(n){if(n.childCount()>0){var t=n.childAt(0);this.detachedCommentsElement=t;this.emitCommentsArray(this.getDetachedComments(this.detachedCommentsElement),!1)}},u.prototype.emitScriptElements=function(t){var s=t.moduleElements,i,h,c,u,l,p,w,r;for(this.emitPossibleCopyrightHeaders(t),i=0,h=s.childCount();i<h;i++){if(c=s.childAt(i),!this.isDirectivePrologueElement(c))break;this.emitJavascript(c,!0);this.writeLineToOutput("")}if(this.emitPrologue(t),u=this.document.isExternalModule(),l=u&&!n.ASTHelpers.scriptIsElided(t),l&&(this.recordSourceMappingStart(t),this.emitOptions.compilationSettings().moduleGenTarget()===2)){var a='["require", "exports"',v="require, exports",y=this.getModuleImportAndDependencyList(t);v+=y.importList;a+=y.dependencyList+"]";this.writeLineToOutput("define("+a+", function("+v+") {")}if(u&&(p=this.setContainer(2),w=this.moduleName,this.moduleName=t.fileName(),n.isTSFile(this.moduleName)&&(this.moduleName=this.moduleName.substring(0,this.moduleName.length-3)),this.setExportAssignment(null),this.emitOptions.compilationSettings().moduleGenTarget()===2&&this.indenter.increaseIndent(),r=this.semanticInfoChain.getDeclForAST(this.document.sourceUnit()),n.hasFlag(r.flags,262144)&&this.writeCaptureThisStatement(t),this.pushDecl(r)),this.emitList(s,!0,i,h),u){if(this.emitOptions.compilationSettings().moduleGenTarget()===2&&this.indenter.decreaseIndent(),l){var f=this.getExportAssignment(),e=f?f.identifier.text():null,o=r.getSymbol().getExportAssignedValueSymbol();this.emitOptions.compilationSettings().moduleGenTarget()===2?(!e||!o||o.kind&58720272||(this.indenter.increaseIndent(),this.emitIndent(),this.writeToOutputWithSourceMapRecord("return "+e,f),this.writeLineToOutput(";"),this.indenter.decreaseIndent()),this.writeToOutput("});")):!e||!o||o.kind&58720272||(this.emitIndent(),this.writeToOutputWithSourceMapRecord("module.exports = "+e,f),this.writeToOutput(";"));this.recordSourceMappingEnd(t);this.writeLineToOutput("")}this.setContainer(p);this.moduleName=w;this.popDecl(r)}},u.prototype.emitConstructorStatements=function(t){var r=t.block.statements,i,o,u;if(r!==null){this.emitComments(r,!0);var s=n.ASTHelpers.getExtendsHeritageClause(this.thisClassNode.heritageClauses)!==null,f=s?1:0,e=null;for(i=0,o=r.childCount();i<o;i++)i===f&&this.emitParameterPropertyAndMemberVariableAssignments(),u=r.childAt(i),this.shouldEmit(u)&&(this.emitSpaceBetweenConstructs(e,u),this.emitJavascript(u,!0),this.writeLineToOutput(""),e=u);i===f&&this.emitParameterPropertyAndMemberVariableAssignments();this.emitComments(r,!1)}},u.prototype.emitJavascript=function(n,t){n!==null&&(t&&this.indenter.indentAmt>0&&this.emitIndent(),this.emit(n))},u.prototype.emitAccessorMemberDeclaration=function(t,i,r,u){var o,e,f;t.kind()!==139&&(o=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain),o.getGetter())||(this.emitIndent(),this.recordSourceMappingStart(t),this.writeToOutput("Object.defineProperty("+r),u?this.writeToOutput(".prototype, "):this.writeToOutput(", "),e=i.text(),n.isQuoted(e)?this.writeToOutput(e):this.writeToOutput('"'+e+'"'),this.writeLineToOutput(", {"),this.indenter.increaseIndent(),f=n.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain),f.getter&&(this.emitIndent(),this.recordSourceMappingStart(f.getter),this.emitComments(f.getter,!0),this.writeToOutput("get: "),this.emitAccessorBody(f.getter,f.getter.parameterList,f.getter.block),this.writeLineToOutput(",")),f.setter&&(this.emitIndent(),this.recordSourceMappingStart(f.setter),this.emitComments(f.setter,!0),this.writeToOutput("set: "),this.emitAccessorBody(f.setter,f.setter.parameterList,f.setter.block),this.writeLineToOutput(",")),this.emitIndent(),this.writeLineToOutput("enumerable: true,"),this.emitIndent(),this.writeLineToOutput("configurable: true"),this.indenter.decreaseIndent(),this.emitIndent(),this.writeLineToOutput("});"),this.recordSourceMappingEnd(t))},u.prototype.emitAccessorBody=function(t,i,r){var f=this.semanticInfoChain.getDeclForAST(t),u;this.pushDecl(f);this.recordSourceMappingStart(t);this.writeToOutput("function ");this.writeToOutput("(");u=n.ASTHelpers.parametersFromParameterList(i);this.emitFunctionParameters(u);this.writeToOutput(")");this.emitFunctionBodyStatements(null,t,u,r,null);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(t);this.popDecl(f)},u.prototype.emitClass=function(t){var o=this.semanticInfoChain.getDeclForAST(t),h,i,u,s,c;this.pushDecl(o);h=this.thisClassNode;this.thisClassNode=t;i=t.identifier.text();this.emitComments(t,!0);u=this.setContainer(3);this.recordSourceMappingStart(t);this.writeToOutput("var "+i);var f=n.ASTHelpers.getExtendsHeritageClause(t.heritageClauses)!==null,e=null;f?this.writeLineToOutput(" = (function (_super) {"):this.writeLineToOutput(" = (function () {");this.recordSourceMappingNameStart(i);this.indenter.increaseIndent();f&&(e=n.ASTHelpers.getExtendsHeritageClause(t.heritageClauses).typeNames.nonSeparatorAt(0),this.emitIndent(),this.writeToOutputWithSourceMapRecord("__extends("+i+", _super)",e),this.writeLineToOutput(";"));this.emitIndent();s=r(t);s?(this.emit(s),this.writeLineToOutput("")):(this.recordSourceMappingStart(t),this.indenter.increaseIndent(),this.writeLineToOutput("function "+t.identifier.text()+"() {"),this.recordSourceMappingNameStart("constructor"),f&&(this.emitIndent(),this.writeToOutputWithSourceMapRecord("_super.apply(this, arguments)",e),this.writeLineToOutput(";")),this.shouldCaptureThis(t)&&this.writeCaptureThisStatement(t),this.emitParameterPropertyAndMemberVariableAssignments(),this.indenter.decreaseIndent(),this.emitIndent(),this.writeToOutputWithSourceMapRecord("}",t.closeBraceToken),this.writeLineToOutput(""),this.recordSourceMappingNameEnd(),this.recordSourceMappingEnd(t));this.emitClassMembers(t);this.emitIndent();this.writeToOutputWithSourceMapRecord("return "+i+";",t.closeBraceToken);this.writeLineToOutput("");this.indenter.decreaseIndent();this.emitIndent();this.writeToOutputWithSourceMapRecord("}",t.closeBraceToken);this.recordSourceMappingNameEnd();this.recordSourceMappingStart(t);this.writeToOutput(")(");f&&this.emitJavascript(e,!1);this.writeToOutput(");");this.recordSourceMappingEnd(t);(u===1||u===2)&&n.hasFlag(o.flags,1)&&(this.writeLineToOutput(""),this.emitIndent(),c=u===1?this.moduleName:"exports",this.writeToOutputWithSourceMapRecord(c+"."+i+" = "+i+";",t));this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.setContainer(u);this.thisClassNode=h;this.popDecl(o)},u.prototype.emitClassMembers=function(t){for(var e,o,c,i,r,s,u=null,f=0,h=t.classElements.childCount();f<h;f++)i=t.classElements.childAt(f),i.kind()===139?(this.emitSpaceBetweenConstructs(u,i),e=i,this.emitAccessorMemberDeclaration(e,e.propertyName,t.identifier.text(),!n.hasModifier(e.modifiers,16)),u=i):i.kind()===140?(this.emitSpaceBetweenConstructs(u,i),o=i,this.emitAccessorMemberDeclaration(o,o.propertyName,t.identifier.text(),!n.hasModifier(o.modifiers,16)),u=i):i.kind()===135&&(c=i,c.block&&(this.emitSpaceBetweenConstructs(u,i),this.emitClassMemberFunctionDeclaration(t,c),u=i));for(f=0,h=t.classElements.childCount();f<h;f++)i=t.classElements.childAt(f),i.kind()===136&&(r=i,n.hasModifier(r.modifiers,16)&&r.variableDeclarator.equalsValueClause&&(this.emitSpaceBetweenConstructs(u,r),this.emitIndent(),this.recordSourceMappingStart(r),s=r.variableDeclarator.propertyName.text(),n.isQuoted(s)||r.variableDeclarator.propertyName.kind()!==11?this.writeToOutput(t.identifier.text()+"["+s+"]"):this.writeToOutput(t.identifier.text()+"."+s),this.emit(r.variableDeclarator.equalsValueClause),this.recordSourceMappingEnd(r),this.writeLineToOutput(";"),u=r))},u.prototype.emitClassMemberFunctionDeclaration=function(t,i){var r,u,f;this.emitIndent();this.recordSourceMappingStart(i);this.emitComments(i,!0);r=i.propertyName.text();this.writeToOutput(t.identifier.text());n.hasModifier(i.modifiers,16)||this.writeToOutput(".prototype");n.isQuoted(r)||i.propertyName.kind()!==11?this.writeToOutput("["+r+"] = "):this.writeToOutput("."+r+" = ");u=this.semanticInfoChain.getDeclForAST(i);this.pushDecl(u);this.recordSourceMappingStart(i);this.writeToOutput("function ");this.emitParameterList(i.callSignature.parameterList);f=n.ASTHelpers.parametersFromParameterList(i.callSignature.parameterList);this.emitFunctionBodyStatements(i.propertyName.text(),i,f,i.block,null);this.recordSourceMappingEnd(i);this.emitComments(i,!1);this.recordSourceMappingEnd(i);this.popDecl(u);this.writeLineToOutput(";")},u.prototype.requiresExtendsBlock=function(t){for(var i,u,f,r=0,e=t.childCount();r<e;r++)if(i=t.childAt(r),i.kind()===130){if(u=i,!n.hasModifier(u.modifiers,8)&&this.requiresExtendsBlock(u.moduleElements))return!0}else if(i.kind()===131&&(f=i,!n.hasModifier(f.modifiers,8)&&n.ASTHelpers.getExtendsHeritageClause(f.heritageClauses)!==null))return!0;return!1},u.prototype.emitPrologue=function(n){this.extendsPrologueEmitted||this.requiresExtendsBlock(n.moduleElements)&&(this.extendsPrologueEmitted=!0,this.writeLineToOutput("var __extends = this.__extends || function (d, b) {"),this.writeLineToOutput("    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];"),this.writeLineToOutput("    function __() { this.constructor = d; }"),this.writeLineToOutput("    __.prototype = b.prototype;"),this.writeLineToOutput("    d.prototype = new __();"),this.writeLineToOutput("};"));this.globalThisCapturePrologueEmitted||this.shouldCaptureThis(n)&&(this.globalThisCapturePrologueEmitted=!0,this.writeLineToOutput(this.captureThisStmtString))},u.prototype.emitThis=function(){!this.inWithBlock&&this.inArrowFunction?this.writeToOutput("_this"):this.writeToOutput("this")},u.prototype.emitBlockOrStatement=function(n){n.kind()===146?this.emit(n):(this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emitJavascript(n,!0),this.indenter.decreaseIndent())},u.prototype.emitLiteralExpression=function(t){switch(t.kind()){case 32:this.writeToOutputWithSourceMapRecord("null",t);break;case 24:this.writeToOutputWithSourceMapRecord("false",t);break;case 37:this.writeToOutputWithSourceMapRecord("true",t);break;default:throw n.Errors.abstract();}},u.prototype.emitThisExpression=function(n){!this.inWithBlock&&this.inArrowFunction?this.writeToOutputWithSourceMapRecord("_this",n):this.writeToOutputWithSourceMapRecord("this",n)},u.prototype.emitSuperExpression=function(n){this.writeToOutputWithSourceMapRecord("_super.prototype",n)},u.prototype.emitParenthesizedExpression=function(n){n.expression.kind()===220&&n.openParenTrailingComments===null?this.emit(n.expression):(this.recordSourceMappingStart(n),this.writeToOutput("("),this.emitCommentsArray(n.openParenTrailingComments,!1),this.emit(n.expression),this.writeToOutput(")"),this.recordSourceMappingEnd(n))},u.prototype.emitCastExpression=function(n){this.emit(n.expression)},u.prototype.emitPrefixUnaryExpression=function(t){var i=t.kind();this.recordSourceMappingStart(t);switch(i){case 167:this.writeToOutput("!");this.emit(t.operand);break;case 166:this.writeToOutput("~");this.emit(t.operand);break;case 165:this.writeToOutput("-");(t.operand.kind()===165||t.operand.kind()===169)&&this.writeToOutput(" ");this.emit(t.operand);break;case 164:this.writeToOutput("+");(t.operand.kind()===164||t.operand.kind()===168)&&this.writeToOutput(" ");this.emit(t.operand);break;case 168:this.writeToOutput("++");this.emit(t.operand);break;case 169:this.writeToOutput("--");this.emit(t.operand);break;default:throw n.Errors.abstract();}this.recordSourceMappingEnd(t)},u.prototype.emitPostfixUnaryExpression=function(t){var i=t.kind();this.recordSourceMappingStart(t);switch(i){case 210:this.emit(t.operand);this.writeToOutput("++");break;case 211:this.emit(t.operand);this.writeToOutput("--");break;default:throw n.Errors.abstract();}this.recordSourceMappingEnd(t)},u.prototype.emitTypeOfExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("typeof ");this.emit(n.expression);this.recordSourceMappingEnd(n)},u.prototype.emitDeleteExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("delete ");this.emit(n.expression);this.recordSourceMappingEnd(n)},u.prototype.emitVoidExpression=function(n){this.recordSourceMappingStart(n);this.writeToOutput("void ");this.emit(n.expression);this.recordSourceMappingEnd(n)},u.prototype.canEmitDottedNameMemberAccessExpression=function(t){var f=t.expression.kind(),i,r,u;return(f===11||f==212)&&(i=this.getSymbolForEmit(t).symbol,r=this.getSymbolForEmit(t.expression).symbol,i&&r&&!this.semanticInfoChain.getAliasSymbolForAST(t.expression)&&(n.PullHelpers.symbolIsModule(r)||r.kind===64||r.anyDeclHasFlag(36864))&&(u=i.kind,u===4096||u===67108864||i.anyDeclHasFlag(1)&&u===512&&!i.anyDeclHasFlag(36864)||i.anyDeclHasFlag(1)&&!this.symbolIsUsedInItsEnclosingContainer(i)))?f===212?this.canEmitDottedNameMemberAccessExpression(t.expression):!0:!1},u.prototype.emitDottedNameMemberAccessExpressionWorker=function(n,t,i,r){this.recordSourceMappingStart(n);n.expression.kind()===212?this.emitDottedNameMemberAccessExpressionRecurse(n.expression,t,i,r-1):(this.emitComments(n.expression,!0),this.recordSourceMappingStart(n.expression),this.emitDottedNameFromDeclPath(t,i,r-2),this.writeToOutput(n.expression.text()),this.recordSourceMappingEnd(n.expression),this.emitComments(n.expression,!1));this.writeToOutput(".");this.emitName(n.name,!1);this.recordSourceMappingEnd(n)},u.prototype.emitDottedNameMemberAccessExpressionRecurse=function(t,i,r,u){this.emitComments(t,!0);u-r<1&&(r=u-1,n.Debug.assert(r>=0));this.emitDottedNameMemberAccessExpressionWorker(t,i,r,u);this.emitComments(t,!1)},u.prototype.emitDottedNameMemberAccessExpression=function(n){var i=this.getSymbolForEmit(n).symbol,t=this.getPotentialDeclPathInfoForEmit(i);this.emitDottedNameMemberAccessExpressionWorker(n,t.potentialPath,t.startingIndex,t.potentialPath.length)},u.prototype.emitMemberAccessExpression=function(n){this.tryEmitConstant(n)||(this.canEmitDottedNameMemberAccessExpression(n)?this.emitDottedNameMemberAccessExpression(n):(this.recordSourceMappingStart(n),this.emit(n.expression),this.writeToOutput("."),this.emitName(n.name,!1),this.recordSourceMappingEnd(n)))},u.prototype.emitQualifiedName=function(n){this.recordSourceMappingStart(n);this.emit(n.left);this.writeToOutput(".");this.emitName(n.right,!1);this.recordSourceMappingEnd(n)},u.prototype.emitBinaryExpression=function(t){this.recordSourceMappingStart(t);switch(t.kind()){case 173:this.emit(t.left);this.writeToOutput(", ");this.emit(t.right);break;default:this.emit(t.left);var i=n.SyntaxFacts.getText(n.SyntaxFacts.getOperatorTokenFromBinaryExpression(t.kind()));i==="instanceof"?this.writeToOutput(" instanceof "):i==="in"?this.writeToOutput(" in "):this.writeToOutput(" "+i+" ");this.emit(t.right)}this.recordSourceMappingEnd(t)},u.prototype.emitSimplePropertyAssignment=function(n){this.recordSourceMappingStart(n);this.emit(n.propertyName);this.writeToOutput(": ");this.emit(n.expression);this.recordSourceMappingEnd(n)},u.prototype.emitFunctionPropertyAssignment=function(t){var f,r,i;this.recordSourceMappingStart(t);this.emit(t.propertyName);this.writeToOutput(": ");f=this.semanticInfoChain.getDeclForAST(t);r=this.inArrowFunction;this.inArrowFunction=!1;var e=this.setContainer(5),o=t.propertyName,u=this.semanticInfoChain.getDeclForAST(t);this.pushDecl(u);this.recordSourceMappingStart(t);this.writeToOutput("function ");this.writeToOutput("(");i=n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList);this.emitFunctionParameters(i);this.writeToOutput(")");this.emitFunctionBodyStatements(t.propertyName.text(),t,i,t.block,null);this.recordSourceMappingEnd(t);this.recordSourceMappingEnd(t);this.emitComments(t,!1);this.popDecl(u);this.setContainer(e);this.inArrowFunction=r},u.prototype.emitConditionalExpression=function(n){this.emit(n.condition);this.writeToOutput(" ? ");this.emit(n.whenTrue);this.writeToOutput(" : ");this.emit(n.whenFalse)},u.prototype.emitThrowStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("throw ");this.emit(n.expression);this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitExpressionStatement=function(n){var t=n.expression.kind()===219||n.expression.kind()===218;this.recordSourceMappingStart(n);t&&this.writeToOutput("(");this.emit(n.expression);t&&this.writeToOutput(")");this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitLabeledStatement=function(n){this.writeToOutputWithSourceMapRecord(n.identifier.text(),n.identifier);this.writeLineToOutput(":");this.emitJavascript(n.statement,!0)},u.prototype.emitBlock=function(n){this.recordSourceMappingStart(n);this.writeLineToOutput(" {");this.indenter.increaseIndent();n.statements&&this.emitList(n.statements);this.emitCommentsArray(n.closeBraceLeadingComments,!1);this.indenter.decreaseIndent();this.emitIndent();this.writeToOutput("}");this.recordSourceMappingEnd(n)},u.prototype.emitBreakStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("break");n.identifier&&this.writeToOutput(" "+n.identifier.text());this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitContinueStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("continue");n.identifier&&this.writeToOutput(" "+n.identifier.text());this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitWhileStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("while (");this.emit(n.condition);this.writeToOutput(")");this.emitBlockOrStatement(n.statement);this.recordSourceMappingEnd(n)},u.prototype.emitDoStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("do");this.emitBlockOrStatement(n.statement);this.writeToOutputWithSourceMapRecord(" while",n.whileKeyword);this.writeToOutput("(");this.emit(n.condition);this.writeToOutput(")");this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitIfStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("if (");this.emit(n.condition);this.writeToOutput(")");this.emitBlockOrStatement(n.statement);n.elseClause&&(n.statement.kind()!==146?(this.writeLineToOutput(""),this.emitIndent()):this.writeToOutput(" "),this.emit(n.elseClause));this.recordSourceMappingEnd(n)},u.prototype.emitElseClause=function(n){n.statement.kind()===147?(this.writeToOutput("else "),this.emit(n.statement)):(this.writeToOutput("else"),this.emitBlockOrStatement(n.statement))},u.prototype.emitReturnStatement=function(n){this.recordSourceMappingStart(n);n.expression?(this.writeToOutput("return "),this.emit(n.expression)):this.writeToOutput("return");this.recordSourceMappingEnd(n);this.writeToOutput(";")},u.prototype.emitForInStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("for (");n.left?this.emit(n.left):this.emit(n.variableDeclaration);this.writeToOutput(" in ");this.emit(n.expression);this.writeToOutput(")");this.emitBlockOrStatement(n.statement);this.recordSourceMappingEnd(n)},u.prototype.emitForStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("for (");n.variableDeclaration?this.emit(n.variableDeclaration):n.initializer&&this.emit(n.initializer);this.writeToOutput("; ");this.emitJavascript(n.condition,!1);this.writeToOutput(";");n.incrementor&&(this.writeToOutput(" "),this.emitJavascript(n.incrementor,!1));this.writeToOutput(")");this.emitBlockOrStatement(n.statement);this.recordSourceMappingEnd(n)},u.prototype.emitWithStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("with (");n.condition&&this.emit(n.condition);this.writeToOutput(")");var t=this.inWithBlock;this.inWithBlock=!0;this.emitBlockOrStatement(n.statement);this.inWithBlock=t;this.recordSourceMappingEnd(n)},u.prototype.emitSwitchStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("switch (");this.emit(n.expression);this.recordSourceMappingStart(n.closeParenToken);this.writeToOutput(")");this.recordSourceMappingEnd(n.closeParenToken);this.writeLineToOutput(" {");this.indenter.increaseIndent();this.emitList(n.switchClauses,!1);this.indenter.decreaseIndent();this.emitIndent();this.writeToOutput("}");this.recordSourceMappingEnd(n)},u.prototype.emitCaseSwitchClause=function(n){this.recordSourceMappingStart(n);this.writeToOutput("case ");this.emit(n.expression);this.writeToOutput(":");this.emitSwitchClauseBody(n.statements);this.recordSourceMappingEnd(n)},u.prototype.emitSwitchClauseBody=function(n){n.childCount()===1&&n.childAt(0).kind()===146?(this.emit(n.childAt(0)),this.writeLineToOutput("")):(this.writeLineToOutput(""),this.indenter.increaseIndent(),this.emit(n),this.indenter.decreaseIndent())},u.prototype.emitDefaultSwitchClause=function(n){this.recordSourceMappingStart(n);this.writeToOutput("default:");this.emitSwitchClauseBody(n.statements);this.recordSourceMappingEnd(n)},u.prototype.emitTryStatement=function(n){this.recordSourceMappingStart(n);this.writeToOutput("try ");this.emit(n.block);this.emitJavascript(n.catchClause,!1);n.finallyClause&&this.emit(n.finallyClause);this.recordSourceMappingEnd(n)},u.prototype.emitCatchClause=function(n){this.writeToOutput(" ");this.recordSourceMappingStart(n);this.writeToOutput("catch (");this.emit(n.identifier);this.writeToOutput(")");this.emit(n.block);this.recordSourceMappingEnd(n)},u.prototype.emitFinallyClause=function(n){this.writeToOutput(" finally");this.emit(n.block)},u.prototype.emitDebuggerStatement=function(n){this.writeToOutputWithSourceMapRecord("debugger",n);this.writeToOutput(";")},u.prototype.emitNumericLiteral=function(n){this.writeToOutputWithSourceMapRecord(n.text(),n)},u.prototype.emitRegularExpressionLiteral=function(n){this.writeToOutputWithSourceMapRecord(n.text(),n)},u.prototype.emitStringLiteral=function(n){this.writeToOutputWithSourceMapRecord(n.text(),n)},u.prototype.emitEqualsValueClause=function(n){this.writeToOutput(" = ");this.emit(n.value)},u.prototype.emitParameter=function(n){this.writeToOutputWithSourceMapRecord(n.identifier.text(),n)},u.prototype.emitConstructorDeclaration=function(n){n.block?this.emitConstructor(n):this.emitComments(n,!0,!0)},u.prototype.shouldEmitFunctionDeclaration=function(t){return t.preComments()!==null||!n.hasModifier(t.modifiers,8)&&t.block!==null},u.prototype.emitFunctionDeclaration=function(t){n.hasModifier(t.modifiers,8)||t.block===null?this.emitComments(t,!0,!0):this.emitFunction(t)},u.prototype.emitSourceUnit=function(n){if(!this.document.isDeclareFile()){var t=this.semanticInfoChain.getDeclForAST(n);this.pushDecl(t);this.emitScriptElements(n);this.popDecl(t);this.emitCommentsArray(n.endOfFileTokenLeadingComments,!1)}},u.prototype.shouldEmitEnumDeclaration=function(t){return t.preComments()!==null||!n.ASTHelpers.enumIsElided(t)},u.prototype.emitEnumDeclaration=function(t){n.ASTHelpers.enumIsElided(t)?this.emitComments(t,!0,!0):(this.emitComments(t,!0),this.emitEnum(t),this.emitComments(t,!1))},u.prototype.shouldEmitModuleDeclaration=function(t){return t.preComments()!==null||!n.ASTHelpers.moduleIsElided(t)},u.prototype.emitModuleDeclaration=function(t){n.ASTHelpers.moduleIsElided(t)?this.emitComments(t,!0,!0):this.emitModuleDeclarationWorker(t)},u.prototype.shouldEmitClassDeclaration=function(t){return t.preComments()!==null||!n.hasModifier(t.modifiers,8)},u.prototype.emitClassDeclaration=function(t){n.hasModifier(t.modifiers,8)?this.emitComments(t,!0,!0):this.emitClass(t)},u.prototype.shouldEmitInterfaceDeclaration=function(n){return n.preComments()!==null},u.prototype.emitInterfaceDeclaration=function(n){this.emitComments(n,!0,!0)},u.prototype.firstVariableDeclarator=function(n){return n.declaration.declarators.nonSeparatorAt(0)},u.prototype.isNotAmbientOrHasInitializer=function(t){return!n.hasModifier(t.modifiers,8)||this.firstVariableDeclarator(t).equalsValueClause!==null},u.prototype.shouldEmitVariableStatement=function(n){return n.preComments()!==null||this.isNotAmbientOrHasInitializer(n)},u.prototype.emitVariableStatement=function(n){this.isNotAmbientOrHasInitializer(n)?(this.emitComments(n,!0),this.emit(n.declaration),this.writeToOutput(";"),this.emitComments(n,!1)):this.emitComments(n,!0,!0)},u.prototype.emitGenericType=function(n){this.emit(n.name)},u.prototype.shouldEmit=function(n){if(!n)return!1;switch(n.kind()){case 133:return this.shouldEmitImportDeclaration(n);case 131:return this.shouldEmitClassDeclaration(n);case 128:return this.shouldEmitInterfaceDeclaration(n);case 129:return this.shouldEmitFunctionDeclaration(n);case 130:return this.shouldEmitModuleDeclaration(n);case 148:return this.shouldEmitVariableStatement(n);case 223:return!1;case 132:return this.shouldEmitEnumDeclaration(n)}return!0},u.prototype.emit=function(n){if(n){switch(n.kind()){case 2:return this.emitSeparatedList(n);case 1:return this.emitList(n);case 120:return this.emitSourceUnit(n);case 133:return this.emitImportDeclaration(n);case 134:return this.setExportAssignment(n);case 131:return this.emitClassDeclaration(n);case 128:return this.emitInterfaceDeclaration(n);case 11:return this.emitName(n,!0);case 225:return this.emitVariableDeclarator(n);case 219:return this.emitSimpleArrowFunctionExpression(n);case 218:return this.emitParenthesizedArrowFunctionExpression(n);case 129:return this.emitFunctionDeclaration(n);case 130:return this.emitModuleDeclaration(n);case 224:return this.emitVariableDeclaration(n);case 126:return this.emitGenericType(n);case 137:return this.emitConstructorDeclaration(n);case 132:return this.emitEnumDeclaration(n);case 243:return this.emitEnumElement(n);case 222:return this.emitFunctionExpression(n);case 148:return this.emitVariableStatement(n)}this.emitComments(n,!0);this.emitWorker(n);this.emitComments(n,!1)}},u.prototype.emitWorker=function(n){if(n)switch(n.kind()){case 13:return this.emitNumericLiteral(n);case 12:return this.emitRegularExpressionLiteral(n);case 14:return this.emitStringLiteral(n);case 24:case 32:case 37:return this.emitLiteralExpression(n);case 35:return this.emitThisExpression(n);case 50:return this.emitSuperExpression(n);case 217:return this.emitParenthesizedExpression(n);case 214:return this.emitArrayLiteralExpression(n);case 211:case 210:return this.emitPostfixUnaryExpression(n);case 167:case 166:case 165:case 164:case 168:case 169:return this.emitPrefixUnaryExpression(n);case 213:return this.emitInvocationExpression(n);case 221:return this.emitElementAccessExpression(n);case 212:return this.emitMemberAccessExpression(n);case 121:return this.emitQualifiedName(n);case 173:case 174:case 175:case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:case 184:case 185:case 187:case 188:case 189:case 190:case 191:case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:case 208:case 209:return this.emitBinaryExpression(n);case 186:return this.emitConditionalExpression(n);case 232:return this.emitEqualsValueClause(n);case 242:return this.emitParameter(n);case 146:return this.emitBlock(n);case 235:return this.emitElseClause(n);case 147:return this.emitIfStatement(n);case 149:return this.emitExpressionStatement(n);case 139:return this.emitGetAccessor(n);case 140:return this.emitSetAccessor(n);case 157:return this.emitThrowStatement(n);case 150:return this.emitReturnStatement(n);case 216:return this.emitObjectCreationExpression(n);case 151:return this.emitSwitchStatement(n);case 233:return this.emitCaseSwitchClause(n);case 234:return this.emitDefaultSwitchClause(n);case 152:return this.emitBreakStatement(n);case 153:return this.emitContinueStatement(n);case 154:return this.emitForStatement(n);case 155:return this.emitForInStatement(n);case 158:return this.emitWhileStatement(n);case 163:return this.emitWithStatement(n);case 220:return this.emitCastExpression(n);case 215:return this.emitObjectLiteralExpression(n);case 240:return this.emitSimplePropertyAssignment(n);case 241:return this.emitFunctionPropertyAssignment(n);case 156:return this.writeToOutputWithSourceMapRecord(";",n);case 159:return this.emitTryStatement(n);case 236:return this.emitCatchClause(n);case 237:return this.emitFinallyClause(n);case 160:return this.emitLabeledStatement(n);case 161:return this.emitDoStatement(n);case 171:return this.emitTypeOfExpression(n);case 170:return this.emitDeleteExpression(n);case 172:return this.emitVoidExpression(n);case 162:return this.emitDebuggerStatement(n)}},u}();n.Emitter=f;n.getLastConstructor=r;n.getTrimmedTextLines=e}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.prefix="";this.suffix=""}return n.prototype.isString=function(){return!1},n.prototype.isArray=function(){return!1},n.prototype.isMarker=function(){return!this.isString()&&!this.isArray()},n.prototype.toString=function(){return n.memberNameToString(this)},n.memberNameToString=function(t,i,r){var u,f,e;if(typeof r=="undefined"&&(r=0),u=t.prefix,t.isString())u+=t.text;else if(t.isArray())for(f=t,e=0;e<f.entries.length;e++){if(f.entries[e].isMarker()){i&&i.push(r+u.length);continue}u+=n.memberNameToString(f.entries[e],i,r+u.length);u+=f.delim}return u+t.suffix},n.create=function(n,t,u){if(typeof n=="string")return new i(n);var f=new r;return t&&(f.prefix=t),u&&(f.suffix=u),f.entries.push(n),f},n}(),i,r;n.MemberName=t;i=function(n){function t(t){n.call(this);this.text=t}return __extends(t,n),t.prototype.isString=function(){return!0},t}(t);n.MemberNameString=i;r=function(n){function t(){n.call(this);this.delim="";this.entries=[]}return __extends(t,n),t.prototype.isArray=function(){return!0},t.prototype.add=function(n){this.entries.push(n)},t.prototype.addAll=function(n){for(var t=0;t<n.length;t++)this.entries.push(n[t])},t}(t);n.MemberNameArray=r}(TypeScript||(TypeScript={})),function(n){function i(n){var t=n&&n.charCodeAt(0);return n&&n.length>=2&&t===n.charCodeAt(n.length-1)&&(t===39||t===34)?n.substring(1,n.length-1):n}function f(n){return n&&n.length>=2&&n.charCodeAt(0)===n.charCodeAt(n.length-1)&&n.charCodeAt(0)===39}function e(n){return n&&n.length>=2&&n.charCodeAt(0)===n.charCodeAt(n.length-1)&&n.charCodeAt(0)===34}function p(n){return e(n)||f(n)}function o(n){return'"'+n+'"'}function t(n){return n.replace(s,"/")}function r(n){return n.length>5&&n.substring(n.length-5,n.length)===".d.ts"?n.substring(0,n.length-5):n.length>3&&n.substring(n.length-3,n.length)===".ts"?n.substring(0,n.length-3):n.length>3&&n.substring(n.length-3,n.length)===".js"?n.substring(0,n.length-3):n}function w(n){return c(n)?u(n):u(n)}function h(n,t){var i=n.toLocaleUpperCase(),r=t.toLocaleUpperCase(),u=r.length;return i.length>u&&i.substring(i.length-u,i.length)===r}function c(n){return h(n,".ts")}function b(n){return h(n,".d.ts")}function k(n,u,f){typeof u=="undefined"&&(u=!0);typeof f=="undefined"&&(f=!1);var s=f?t(n):r(i(n)),e=this.getPathComponents(s);return e.length?u?o(e[e.length-1]):e[e.length-1]:n}function l(n){return n.split("/")}function d(n,i,r){var o,s;typeof r=="undefined"&&(r=!0);i=t(i);for(var f=this.getPathComponents(i),e=this.getPathComponents(n),u=0;u<f.length&&u<e.length;u++)if(e[u]!==f[u])break;if(u!==0){for(o="",s=f.slice(u,f.length);u<e.length;u++)e[u]!==""&&(o=o+"../");return o+s.join("/")}return r&&i.indexOf("://")===-1&&(i="file:///"+i),i}function u(n){return r(i(n))+".d.ts"}function g(n){return n.length>0&&n.charAt(0)==="."}function nt(n){return n.length>0&&(n.charAt(0)==="\\"||n.charAt(0)==="/"||n.indexOf(":\\")!==-1||n.indexOf(":/")!==-1)}function tt(n){if(n==="")return n;var t=n.indexOf("/")!==-1;return t?v(n):""}function a(n){n=t(n);var i=l(n);return i.slice(0,i.length-1)}function v(n){var t=a(n);return t.join("/")+"/"}function it(n){return n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n}function rt(i){var e,r,u,f;for(y.test(i)&&(i="file:"+i),e=this.getPathComponents(t(i)),r=[],u=0;u<e.length;u++)if(f=e[u],f!=="."){if(r.length>0&&n.ArrayUtilities.last(r)!==".."&&f===".."){r.pop();continue}r.push(f)}return r.join("/")}var s,y;n.stripStartAndEndQuotes=i;n.isSingleQuoted=f;n.isDoubleQuoted=e;n.isQuoted=p;n.quoteStr=o;s=/\\/g;n.switchToForwardSlashes=t;n.trimModName=r;n.getDeclareFilePath=w;n.isTSFile=c;n.isDTSFile=b;n.getPrettyName=k;n.getPathComponents=l;n.getRelativePathToFixedPath=d;n.changePathToDTS=u;n.isRelative=g;n.isRooted=nt;n.getRootFilePath=tt;n.filePathComponents=a;n.filePath=v;n.convertToDirectoryPath=it;y=/^\\\\[^\\]/;n.normalizePath=rt}(TypeScript||(TypeScript={})),function(n){function i(n){return/^(\/\/\/\s*<reference\s+no-default-lib=)('|")(.+?)\2\s*\/>/gim.exec(n)}function u(t,r,u,f,e){var s,h,o;if(/^\/\/\/\s*<reference\s+/gim.exec(f)&&(s=i(f),!s)){if(h=n.tripleSlashReferenceRegExp,o=h.exec(f),o){var c=n.normalizePath(o[3]),a=n.normalizePath(c),l=o.length>=7&&o[6]==="true";return l&&n.CompilerDiagnostics.debugPrint(c+" is resident"),{line:0,character:0,position:0,length:0,path:n.switchToForwardSlashes(a),isResident:l}}e.push(new n.Diagnostic(t,r,u,f.length,n.DiagnosticCode.Invalid_reference_directive_syntax))}return null}function e(i,r,u,f){for(var o=0,e={line:-1,character:-1},a=(new Date).getTime(),s,h,c,l;u.tokenKind!==10;)u.tokenKind===49&&(s=o+u.leadingTriviaWidth(),u=r.scan(t,!1),n.SyntaxFacts.isIdentifierNameOrAnyKeyword(u)&&(u=r.scan(t,!1),u.tokenKind===107&&(u=r.scan(t,!1),(u.tokenKind===65||u.tokenKind===66)&&(u=r.scan(t,!1),u.tokenKind===72&&(h=r.absoluteIndex(),u=r.scan(t,!1),i.fillLineAndCharacterFromPosition(s,e),u.tokenKind===14&&(c={line:e.line,character:e.character,position:h+u.leadingTriviaWidth(),length:u.width(),path:n.stripStartAndEndQuotes(n.switchToForwardSlashes(u.text())),isResident:!1},f.push(c))))))),o=r.absoluteIndex(),u=r.scan(t,!1);l=(new Date).getTime()-a;n.fileResolutionScanImportsTime+=l}function o(n,t,r){for(var e,c,f,l,a=r.leadingTrivia(),o=0,s={line:-1,character:-1},v=!1,y=[],p=[],h=0,w=a.count();h<w;h++)e=a.syntaxTriviaAt(h),e.kind()===7&&(c=e.fullText(),f=u(n,t,o,c,y),f&&(t.fillLineAndCharacterFromPosition(o,s),f.position=o,f.length=e.fullWidth(),f.line=s.line,f.character=s.character,p.push(f)),l=i(c),l&&(v=l[3]==="true")),o+=e.fullWidth();return{noDefaultLib:v,diagnostics:y,referencedFiles:p}}function r(i,r,u){var s;typeof u=="undefined"&&(u=!0);var h=n.SimpleText.fromScriptSnapshot(r),c=new n.Scanner(i,h,1,f),l=c.scan(t,!1),a=[];return u&&e(h.lineMap(),c,l,a),s=o(i,h.lineMap(),l),t.length=0,{referencedFiles:s.referencedFiles,importedFiles:a,isLibFile:s.noDefaultLib,diagnostics:s.diagnostics}}function s(t){return new n.ParseOptions(t.codeGenTarget(),t.allowAutomaticSemicolonInsertion())}function h(n,t){return r(n,t,!1).referencedFiles}n.tripleSlashReferenceRegExp=/^(\/\/\/\s*<reference\s+path=)('|")(.+?)\2\s*(static=('|")(.+?)\2\s*)*\/>/;var f=n.ArrayUtilities.createArray(2048,0),t=[];n.preProcessFile=r;n.getParseOptions=s;n.getReferencedFiles=h}(TypeScript||(TypeScript={})),function(n){var i=function(){function n(){this.resolvedFiles=[];this.diagnostics=[];this.seenNoDefaultLibTag=!1}return n}(),t,r;n.ReferenceResolutionResult=i;t=function(){function n(n,t,i,r,u){this.filePath=n;this.lineMap=t;this.position=i;this.length=r;this.isImported=u}return n}();r=function(){function r(n,t,i){this.useCaseSensitiveFileResolution=i;this.inputFileNames=n;this.host=t;this.visited={}}return r.resolve=function(n,t,i){var u=new r(n,t,i);return u.resolveInputFiles()},r.prototype.resolveInputFiles=function(){var u=this,n=new i,r;return!this.inputFileNames||this.inputFileNames.length<=0?n:(r=new t(null,null,0,0,!1),this.inputFileNames.forEach(function(t){return u.resolveIncludedFile(t,r,n)}),n)},r.prototype.resolveIncludedFile=function(t,i,r){var u=this.getNormalizedFilePath(t,i.filePath),e,f;return this.isSameFile(u,i.filePath)?(i.isImported||r.diagnostics.push(new n.Diagnostic(i.filePath,i.lineMap,i.position,i.length,n.DiagnosticCode.A_file_cannot_have_a_reference_to_itself,null)),u):(n.isTSFile(u)||n.isDTSFile(u)||(e=u+".d.ts",f=u+".ts",u=this.host.fileExists(f)?f:e),!this.host.fileExists(u))?(i.isImported||r.diagnostics.push(new n.Diagnostic(i.filePath,i.lineMap,i.position,i.length,n.DiagnosticCode.Cannot_resolve_referenced_file_0,[t])),u):this.resolveFile(u,r)},r.prototype.resolveImportedFile=function(t,i,r){var o=n.isRelative(t),s=o?!1:n.isRooted(t),u;if(o||s)return this.resolveIncludedFile(t,i,r);var f=this.host.getParentDirectory(i.filePath),e=null,h=t+".d.ts",c=t+".ts",l=(new Date).getTime();do{if(u=this.host.resolveRelativePath(c,f),this.host.fileExists(u)){e=u;break}if(u=this.host.resolveRelativePath(h,f),this.host.fileExists(u)){e=u;break}f=this.host.getParentDirectory(f)}while(f);return(n.fileResolutionImportFileSearchTime+=(new Date).getTime()-l,!e)?t:this.resolveFile(e,r)},r.prototype.resolveFile=function(i,r){var a=this,c=this.isVisited(i),e,u,o,s,f;if(c)i=c;else{this.recordVisitedFile(i);var v=(new Date).getTime(),l=this.host.getScriptSnapshot(i),y=(new Date).getTime()-v;for(n.fileResolutionIOTime+=y,e=n.LineMap1.fromScriptSnapshot(l),u=n.preProcessFile(i,l),r.diagnostics.push.apply(r.diagnostics,u.diagnostics),u.isLibFile&&(r.seenNoDefaultLibTag=!0),o=[],u.referencedFiles.forEach(function(n){var u=new t(i,e,n.position,n.length,!1),f=a.resolveIncludedFile(n.path,u,r);o.push(f)}),s=[],f=0;f<u.importedFiles.length;f++){var h=u.importedFiles[f],p=new t(i,e,h.position,h.length,!0),w=this.resolveImportedFile(h.path,p,r);s.push(w)}r.resolvedFiles.push({path:i,referencedFiles:o,importedFiles:s})}return i},r.prototype.getNormalizedFilePath=function(n,t){var i=t?this.host.getParentDirectory(t):"";return this.host.resolveRelativePath(n,i)},r.prototype.getUniqueFileId=function(n){return this.useCaseSensitiveFileResolution?n:n.toLocaleUpperCase()},r.prototype.recordVisitedFile=function(n){this.visited[this.getUniqueFileId(n)]=n},r.prototype.isVisited=function(n){return this.visited[this.getUniqueFileId(n)]},r.prototype.isSameFile=function(n,t){return!n||!t?!1:this.useCaseSensitiveFileResolution?n===t:n.toLocaleUpperCase()===t.toLocaleUpperCase()},r}();n.ReferenceResolver=r}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n,t,i){this.name=n;this.writeByteOrderMark=t;this.outputFileType=i;this.contents="";this.onNewLine=!0}return t.prototype.Write=function(n){this.contents+=n;this.onNewLine=!1},t.prototype.WriteLine=function(t){this.contents+=t;this.contents+=n.newLine();this.onNewLine=!0},t.prototype.Close=function(){},t.prototype.getOutputFile=function(){return new n.OutputFile(this.name,this.writeByteOrderMark,this.contents,this.outputFileType)},t}(),i;n.TextWriter=t;i=function(){function i(i,r,u,f,e){this.emittingFileName=i;this.document=r;this.compiler=u;this.emitOptions=f;this.semanticInfoChain=e;this.declFile=null;this.indenter=new n.Indenter;this.emittedReferencePaths=!1;this.declFile=new t(i,this.document.byteOrderMark!==0,2)}return i.prototype.getOutputFile=function(){return this.declFile.getOutputFile()},i.prototype.emitDeclarations=function(n){this.emitDeclarationsForSourceUnit(n)},i.prototype.emitDeclarationsForList=function(n){for(var t=0,i=n.childCount();t<i;t++)this.emitDeclarationsForAST(n.childAt(t))},i.prototype.emitSeparatedList=function(n){for(var t=0,i=n.nonSeparatorCount();t<i;t++)this.emitDeclarationsForAST(n.nonSeparatorAt(t))},i.prototype.emitDeclarationsForAST=function(n){switch(n.kind()){case 148:return this.emitDeclarationsForVariableStatement(n);case 141:return this.emitPropertySignature(n);case 225:return this.emitVariableDeclarator(n,!0,!0);case 136:return this.emitDeclarationsForMemberVariableDeclaration(n);case 137:return this.emitDeclarationsForConstructorDeclaration(n);case 139:return this.emitDeclarationsForGetAccessor(n);case 140:return this.emitDeclarationsForSetAccessor(n);case 138:return this.emitIndexMemberDeclaration(n);case 144:return this.emitIndexSignature(n);case 142:return this.emitCallSignature(n);case 143:return this.emitConstructSignature(n);case 145:return this.emitMethodSignature(n);case 129:return this.emitDeclarationsForFunctionDeclaration(n);case 135:return this.emitMemberFunctionDeclaration(n);case 131:return this.emitDeclarationsForClassDeclaration(n);case 128:return this.emitDeclarationsForInterfaceDeclaration(n);case 133:return this.emitDeclarationsForImportDeclaration(n);case 130:return this.emitDeclarationsForModuleDeclaration(n);case 132:return this.emitDeclarationsForEnumDeclaration(n);case 134:return this.emitDeclarationsForExportAssignment(n)}},i.prototype.getIndentString=function(n){return typeof n=="undefined"&&(n=!1),this.indenter.getIndent()},i.prototype.emitIndent=function(){this.declFile.Write(this.getIndentString())},i.prototype.canEmitDeclarations=function(t){var i=this.getEnclosingContainer(t),r;if((i.kind()===130||i.kind()===120)&&(r=this.semanticInfoChain.getDeclForAST(t),!n.hasFlag(r.flags,1))){var f=(new Date).getTime(),u=this.semanticInfoChain.getSymbolForAST(t),e=u&&u.isExternallyVisible();return n.declarationEmitIsExternallyVisibleTime+=(new Date).getTime()-f,e}return!0},i.prototype.getDeclFlagsString=function(t,i){var r=this.getIndentString(),u=t.flags,e;if(n.hasFlag(u,16))n.hasFlag(u,2)&&(r+="private "),r+="static ";else if(n.hasFlag(u,2))r+="private ";else if(n.hasFlag(u,4))r+="public ";else{var o=!n.hasFlag(u,1),s=this.semanticInfoChain.getASTForDecl(t),f=this.getEnclosingContainer(s);f.kind()===130&&n.ASTHelpers.isAnyNameOfModule(f,s)&&(f=this.getEnclosingContainer(f));e=f.kind()===120&&this.document.isExternalModule();e&&n.hasFlag(u,1)&&(r+="export ",o=!0);(e||f.kind()===120)&&o&&i!=="interface"&&i!=="import"&&(r+="declare ");r+=i+" "}return r},i.prototype.emitDeclFlags=function(n,t){this.declFile.Write(this.getDeclFlagsString(this.semanticInfoChain.getDeclForAST(n),t))},i.prototype.emitTypeNamesMember=function(n,t){var i,r;if(typeof t=="undefined"&&(t=!1),n.prefix==="{ "?(t&&this.emitIndent(),this.declFile.WriteLine("{"),this.indenter.increaseIndent(),t=!0):n.prefix!==""&&(t&&this.emitIndent(),this.declFile.Write(n.prefix),t=!1),n.isString())t&&this.emitIndent(),this.declFile.Write(n.text);else if(n.isArray())for(i=n,r=0;r<i.entries.length;r++)this.emitTypeNamesMember(i.entries[r],t),i.delim==="; "&&this.declFile.WriteLine(";");n.suffix==="}"?(this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.Write(n.suffix)):this.declFile.Write(n.suffix)},i.prototype.emitTypeSignature=function(t,i){var f=this.getEnclosingContainer(t),e=(new Date).getTime(),o=this.semanticInfoChain.getDeclForAST(f),s=o.getSymbol(),r,u;n.declarationEmitTypeSignatureTime+=(new Date).getTime()-e;r=t.kind()!==126;u=i.getScopedNameEx(s,!1,!1,!1,!1,!1,r);this.emitTypeNamesMember(u)},i.prototype.emitComment=function(t){var r=n.getTrimmedTextLines(t),i;for(this.declFile.onNewLine?this.emitIndent():t.kind()!==6&&(this.declFile.WriteLine(""),this.emitIndent()),this.declFile.Write(r[0]),i=1;i<r.length;i++)this.declFile.WriteLine(""),this.emitIndent(),this.declFile.Write(r[i]);t.endsLine||t.kind()!==6?this.declFile.WriteLine(""):this.declFile.Write(" ")},i.prototype.emitDeclarationComments=function(t,i){if(typeof i=="undefined"&&(i=!0),!this.emitOptions.compilationSettings().removeComments()){var r=t.docComments?t.docComments():n.ASTHelpers.docComments(t);this.writeDeclarationComments(r,i)}},i.prototype.writeDeclarationComments=function(n,t){if(typeof t=="undefined"&&(t=!0),n.length>0){for(var i=0;i<n.length;i++)this.emitComment(n[i]);t?this.declFile.onNewLine||this.declFile.WriteLine(""):this.declFile.onNewLine&&this.emitIndent()}},i.prototype.emitTypeOfVariableDeclaratorOrParameter=function(t){var r=(new Date).getTime(),u=this.semanticInfoChain.getDeclForAST(t),f=u.getSymbol(),i;n.declarationEmitGetBoundDeclTypeTime+=(new Date).getTime()-r;i=f.type;n.Debug.assert(i);this.declFile.Write(": ");this.emitTypeSignature(t,i)},i.prototype.emitPropertySignature=function(n){this.emitDeclarationComments(n);this.emitIndent();this.declFile.Write(n.propertyName.text());n.questionToken&&this.declFile.Write("?");this.emitTypeOfVariableDeclaratorOrParameter(n);this.declFile.WriteLine(";")},i.prototype.emitVariableDeclarator=function(t,i,r){this.canEmitDeclarations(t)&&(this.emitDeclarationComments(t),i&&this.emitDeclFlags(t,"var"),this.declFile.Write(t.propertyName.text()),n.hasModifier(n.ASTHelpers.getVariableDeclaratorModifiers(t),2)||this.emitTypeOfVariableDeclaratorOrParameter(t),r?this.declFile.WriteLine(";"):this.declFile.Write(", "))},i.prototype.emitClassElementModifiers=function(t){n.hasModifier(t,16)?(n.hasModifier(t,2)&&this.declFile.Write("private "),this.declFile.Write("static ")):n.hasModifier(t,2)?this.declFile.Write("private "):this.declFile.Write("public ")},i.prototype.emitDeclarationsForMemberVariableDeclaration=function(t){this.canEmitDeclarations(t)&&(this.emitDeclarationComments(t),this.declFile.Write(this.getIndentString()),this.emitClassElementModifiers(t.modifiers),this.declFile.Write(t.variableDeclarator.propertyName.text()),n.hasModifier(t.modifiers,2)||this.emitTypeOfVariableDeclaratorOrParameter(t),this.declFile.WriteLine(";"))},i.prototype.emitDeclarationsForVariableStatement=function(n){this.emitDeclarationsForVariableDeclaration(n.declaration)},i.prototype.emitDeclarationsForVariableDeclaration=function(n){for(var i=n.declarators.nonSeparatorCount(),t=0;t<i;t++)this.emitVariableDeclarator(n.declarators.nonSeparatorAt(t),t===0,t===i-1)},i.prototype.emitArgDecl=function(n,t,i,r){this.indenter.increaseIndent();this.emitDeclarationComments(n,!1);this.declFile.Write(t.text());i&&this.declFile.Write("?");this.indenter.decreaseIndent();r||this.emitTypeOfVariableDeclaratorOrParameter(n)},i.prototype.isOverloadedCallSignature=function(t){var r=(new Date).getTime(),u=this.semanticInfoChain.getDeclForAST(t),f=u.getSymbol();n.declarationEmitIsOverloadedCallSignatureTime+=(new Date).getTime()-r;var e=f.type,i=e.getCallSignatures();return i&&i.length>1},i.prototype.emitDeclarationsForConstructorDeclaration=function(t){var f=(new Date).getTime(),e=this.semanticInfoChain.getSymbolForAST(t),r,i,u,o;(n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-f,r=e.type,t.block&&(i=r.getConstructSignatures(),i&&i.length>1))||(u=this.semanticInfoChain.getDeclForAST(t),o=u.getSignatureSymbol(),this.emitDeclarationComments(t),this.emitIndent(),this.declFile.Write("constructor"),this.declFile.Write("("),this.emitParameters(!1,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList)),this.declFile.Write(")"),this.declFile.WriteLine(";"))},i.prototype.emitParameterList=function(t,i){this.declFile.Write("(");this.emitParameters(t,n.ASTHelpers.parametersFromParameterList(i));this.declFile.Write(")")},i.prototype.emitParameters=function(n,t){var f=t.lastParameterIsRest(),u=t.length,i,r;for(f&&u--,i=0;i<u;i++)this.emitArgDecl(t.astAt(i),t.identifierAt(i),t.isOptionalAt(i),n),i<u-1&&this.declFile.Write(", ");f&&(t.length>1?this.declFile.Write(", ..."):this.declFile.Write("..."),r=t.length-1,this.emitArgDecl(t.astAt(r),t.identifierAt(r),t.isOptionalAt(r),n))},i.prototype.emitMemberFunctionDeclaration=function(t){var c=(new Date).getTime(),l=this.semanticInfoChain.getSymbolForAST(t),r,u,i,o,f,s,e,h;if(n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-c,r=l.type,t.block){if(u=r.getConstructSignatures(),u&&u.length>1)return;if(this.isOverloadedCallSignature(t))return}else if(n.hasModifier(t.modifiers,2)&&this.isOverloadedCallSignature(t)){i=r.getCallSignatures();n.Debug.assert(i&&i.length>1);var a=i[0].isDefinition()?i[1]:i[0],v=a.getDeclarations()[0],y=this.semanticInfoChain.getASTForDecl(v);if(y!==t)return}this.canEmitDeclarations(t)&&(o=this.semanticInfoChain.getDeclForAST(t),f=o.getSignatureSymbol(),this.emitDeclarationComments(t),this.emitDeclFlags(t,"function"),s=t.propertyName.text(),this.declFile.Write(s),this.emitTypeParameters(t.callSignature.typeParameterList,f),e=n.hasModifier(t.modifiers,2),this.emitParameterList(e,t.callSignature.parameterList),e||(h=f.returnType,this.declFile.Write(": "),this.emitTypeSignature(t,h)),this.declFile.WriteLine(";"))},i.prototype.emitCallSignature=function(t){var u=this.semanticInfoChain.getDeclForAST(t),i,r;this.emitDeclarationComments(t);i=u.getSignatureSymbol();this.emitTypeParameters(t.typeParameterList,i);this.emitIndent();this.declFile.Write("(");this.emitParameters(!1,n.ASTHelpers.parametersFromParameterList(t.parameterList));this.declFile.Write(")");r=i.returnType;this.declFile.Write(": ");r?this.emitTypeSignature(t,r):this.declFile.Write("any");this.declFile.WriteLine(";")},i.prototype.emitConstructSignature=function(t){var u=this.semanticInfoChain.getDeclForAST(t),f=(new Date).getTime(),e=this.semanticInfoChain.getSymbolForAST(t),i,r;n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-f;this.emitDeclarationComments(t);this.emitIndent();this.declFile.Write("new");i=u.getSignatureSymbol();this.emitTypeParameters(t.callSignature.typeParameterList,i);this.declFile.Write("(");this.emitParameters(!1,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList));this.declFile.Write(")");r=i.returnType;this.declFile.Write(": ");r?this.emitTypeSignature(t,r):this.declFile.Write("any");this.declFile.WriteLine(";")},i.prototype.emitMethodSignature=function(t){var u=this.semanticInfoChain.getDeclForAST(t),f=(new Date).getTime(),e=this.semanticInfoChain.getSymbolForAST(t),i,r;n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-f;this.emitDeclarationComments(t);this.emitIndent();this.declFile.Write(t.propertyName.text());t.questionToken&&this.declFile.Write("? ");i=u.getSignatureSymbol();this.emitTypeParameters(t.callSignature.typeParameterList,i);this.declFile.Write("(");this.emitParameters(!1,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList));this.declFile.Write(")");r=i.returnType;this.declFile.Write(": ");r?this.emitTypeSignature(t,r):this.declFile.Write("any");this.declFile.WriteLine(";")},i.prototype.emitDeclarationsForFunctionDeclaration=function(t){var e=this.semanticInfoChain.getDeclForAST(t),s=(new Date).getTime(),h=this.semanticInfoChain.getSymbolForAST(t),o,i,r,u,f;if(n.declarationEmitFunctionDeclarationGetSymbolTime+=(new Date).getTime()-s,t.block){if(o=h.type,i=o.getConstructSignatures(),i&&i.length>1)return;if(this.isOverloadedCallSignature(t))return}this.canEmitDeclarations(t)&&(this.emitDeclarationComments(t),r=t.identifier.text(),this.emitDeclFlags(t,"function"),r!==""||!t.identifier||t.identifier.text().length>0?this.declFile.Write(r):e.kind===2097152&&this.declFile.Write("new"),u=e.getSignatureSymbol(),this.emitTypeParameters(t.callSignature.typeParameterList,u),this.declFile.Write("("),this.emitParameters(!1,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList)),this.declFile.Write(")"),f=u.returnType,this.declFile.Write(": "),f?this.emitTypeSignature(t,f):this.declFile.Write("any"),this.declFile.WriteLine(";"))},i.prototype.emitIndexMemberDeclaration=function(n){this.emitDeclarationsForAST(n.indexSignature)},i.prototype.emitIndexSignature=function(t){if(this.canEmitDeclarations(t)){this.emitDeclarationComments(t);this.emitIndent();this.declFile.Write("[");this.emitParameters(!1,n.ASTHelpers.parametersFromParameter(t.parameter));this.declFile.Write("]");var i=this.semanticInfoChain.getDeclForAST(t),r=i.getSignatureSymbol(),u=r.returnType;this.declFile.Write(": ");this.emitTypeSignature(t,u);this.declFile.WriteLine(";")}},i.prototype.emitBaseList=function(n,t){var u,f,i,r,e;if(n&&n.nonSeparatorCount()>0)for(u=t?"extends":"implements",this.declFile.Write(" "+u+" "),f=n.nonSeparatorCount(),i=0;i<f;i++)i>0&&this.declFile.Write(", "),r=n.nonSeparatorAt(i),e=this.semanticInfoChain.getSymbolForAST(r),this.emitTypeSignature(r,e)},i.prototype.emitAccessorDeclarationComments=function(t){var u,r,i;this.emitOptions.compilationSettings().removeComments()||(u=(new Date).getTime(),r=n.PullHelpers.getGetterAndSetterFunction(t,this.semanticInfoChain),n.declarationEmitGetAccessorFunctionTime+=(new Date).getTime(),i=[],r.getter&&(i=i.concat(n.ASTHelpers.docComments(r.getter))),r.setter&&(i=i.concat(n.ASTHelpers.docComments(r.setter))),this.writeDeclarationComments(i))},i.prototype.emitDeclarationsForGetAccessor=function(n){this.emitMemberAccessorDeclaration(n,n.modifiers,n.propertyName)},i.prototype.emitDeclarationsForSetAccessor=function(n){this.emitMemberAccessorDeclaration(n,n.modifiers,n.propertyName)},i.prototype.emitMemberAccessorDeclaration=function(t,i,r){var o=(new Date).getTime(),u=n.PullHelpers.getAccessorSymbol(t,this.semanticInfoChain),f,e;(n.declarationEmitGetAccessorFunctionTime+=(new Date).getTime(),t.kind()===140&&u.getGetter())||(f=n.hasModifier(i,2),this.emitAccessorDeclarationComments(t),this.declFile.Write(this.getIndentString()),this.emitClassElementModifiers(i),this.declFile.Write(r.text()),f||(this.declFile.Write(" : "),e=u.type,this.emitTypeSignature(t,e)),this.declFile.WriteLine(";"))},i.prototype.emitClassMembersFromConstructorDefinition=function(t){var u=t.callSignature.parameterList.parameters.nonSeparatorCount(),r,i,f,e;for(n.lastParameterIsRest(t.callSignature.parameterList)&&u--,r=0;r<u;r++)i=t.callSignature.parameterList.parameters.nonSeparatorAt(r),f=this.semanticInfoChain.getDeclForAST(i),n.hasFlag(f.flags,8388608)&&(e=this.semanticInfoChain.getDeclForAST(t),this.emitDeclarationComments(i),this.declFile.Write(this.getIndentString()),this.emitClassElementModifiers(i.modifiers),this.declFile.Write(i.identifier.text()),n.hasModifier(i.modifiers,2)||this.emitTypeOfVariableDeclaratorOrParameter(i),this.declFile.WriteLine(";"))},i.prototype.emitDeclarationsForClassDeclaration=function(t){var r,u,i;this.canEmitDeclarations(t)&&(r=t.identifier.text(),this.emitDeclarationComments(t),u=this.semanticInfoChain.getDeclForAST(t),this.emitDeclFlags(t,"class"),this.declFile.Write(r),this.emitTypeParameters(t.typeParameterList),this.emitHeritageClauses(t.heritageClauses),this.declFile.WriteLine(" {"),this.indenter.increaseIndent(),i=n.getLastConstructor(t),i&&this.emitClassMembersFromConstructorDefinition(i),this.emitDeclarationsForList(t.classElements),this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"))},i.prototype.emitHeritageClauses=function(n){if(n)for(var t=0,i=n.childCount();t<i;t++)this.emitHeritageClause(n.childAt(t))},i.prototype.emitHeritageClause=function(n){this.emitBaseList(n.typeNames,n.kind()===230)},i.prototype.getEnclosingContainer=function(n){for(n=n.parent;n;){if(n.kind()===131||n.kind()===128||n.kind()===130||n.kind()===120)return n;n=n.parent}return null},i.prototype.emitTypeParameters=function(t,i){var u,r,e;if(t&&t.typeParameters.nonSeparatorCount()){this.declFile.Write("<");var o=this.getEnclosingContainer(t),s=(new Date).getTime(),h=this.semanticInfoChain.getDeclForAST(o),f=h.getSymbol();for(n.declarationEmitGetTypeParameterSymbolTime+=(new Date).getTime()-s,u=i?i.getTypeParameters():f.getTypeArgumentsOrTypeParameters(),r=0;r<u.length;r++)r&&this.declFile.Write(", "),e=u[r].getScopedNameEx(f,!1,!0),this.emitTypeNamesMember(e);this.declFile.Write(">")}},i.prototype.emitDeclarationsForInterfaceDeclaration=function(n){var t,i;this.canEmitDeclarations(n)&&(t=n.identifier.text(),this.emitDeclarationComments(n),i=this.semanticInfoChain.getDeclForAST(n),this.emitDeclFlags(n,"interface"),this.declFile.Write(t),this.emitTypeParameters(n.typeParameterList),this.emitHeritageClauses(n.heritageClauses),this.declFile.WriteLine(" {"),this.indenter.increaseIndent(),this.emitSeparatedList(n.body.typeMembers),this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"))},i.prototype.emitDeclarationsForImportDeclaration=function(t){var u=this.semanticInfoChain.getDeclForAST(t),i=u.getSymbol(),r=n.hasModifier(t.modifiers,1);(r||i.typeUsedExternally()||n.PullContainerSymbol.usedAsSymbol(i.getContainer(),i))&&(this.emitDeclarationComments(t),this.emitIndent(),r&&this.declFile.Write("export "),this.declFile.Write("import "),this.declFile.Write(t.identifier.text()+" = "),t.moduleReference.kind()===245?this.declFile.WriteLine("require("+t.moduleReference.stringLiteral.text()+");"):this.declFile.WriteLine(n.ASTHelpers.getNameOfIdenfierOrQualifiedName(t.moduleReference.moduleName)+";"))},i.prototype.emitDeclarationsForEnumDeclaration=function(n){var f,r,t;if(this.canEmitDeclarations(n)){for(this.emitDeclarationComments(n),f=this.semanticInfoChain.getDeclForAST(n),this.emitDeclFlags(n,"enum"),this.declFile.WriteLine(n.identifier.text()+" {"),this.indenter.increaseIndent(),r=n.enumElements.nonSeparatorCount(),t=0;t<r;t++){var e=n.enumElements.nonSeparatorAt(t),i=e,u=this.semanticInfoChain.getDeclForAST(i);this.emitDeclarationComments(i);this.emitIndent();this.declFile.Write(i.propertyName.text());u.constantValue!==null&&this.declFile.Write(" = "+u.constantValue);this.declFile.WriteLine(",")}this.indenter.decreaseIndent();this.emitIndent();this.declFile.WriteLine("}")}},i.prototype.emitDeclarationsForModuleDeclaration=function(t){var r,i;this.canEmitDeclarations(t)&&(r=this.semanticInfoChain.getDeclForAST(t),this.emitDeclarationComments(t),i=t.stringLiteral||n.ArrayUtilities.first(n.getModuleNames(t.name)),this.emitDeclFlags(i,"module"),t.stringLiteral?this.declFile.Write(t.stringLiteral.text()):this.declFile.Write(n.ASTHelpers.getNameOfIdenfierOrQualifiedName(t.name)),this.declFile.WriteLine(" {"),this.indenter.increaseIndent(),this.emitDeclarationsForList(t.moduleElements),this.indenter.decreaseIndent(),this.emitIndent(),this.declFile.WriteLine("}"))},i.prototype.emitDeclarationsForExportAssignment=function(n){this.emitIndent();this.declFile.Write("export = ");this.declFile.Write(n.identifier.text());this.declFile.WriteLine(";")},i.prototype.resolveScriptReference=function(t,i){if(!this.emitOptions.compilationSettings().noResolve()||n.isRooted(i))return i;var r=n.convertToDirectoryPath(n.switchToForwardSlashes(n.getRootFilePath(t.fileName)));return this.emitOptions.resolvePath(r+i)},i.prototype.emitReferencePaths=function(){var i,c,l,e,f,r,s,o,a,u,t,h;if(!this.emittedReferencePaths){if(i=[],this.document.emitToOwnOutputFile())for(f=this.document.referencedFiles,c=!1,r=0;r<f.length;r++)s=this.resolveScriptReference(this.document,f[r]),t=this.compiler.getDocument(s),t&&(t.emitToOwnOutputFile()||t.isDeclareFile()||!c)&&(i=i.concat(t),!t.isDeclareFile()&&t.isExternalModule()&&(c=!0));else for(l=this.compiler.fileNames(),u=0;u<l.length;u++)if(e=this.compiler.getDocument(l[u]),!e.isDeclareFile()&&!e.isExternalModule())for(f=e.referencedFiles,r=0;r<f.length;r++)if(s=this.resolveScriptReference(e,f[r]),t=this.compiler.getDocument(s),t&&(t.isDeclareFile()||t.isExternalModule())){for(o=0;o<i.length;o++)if(i[o]===t)break;o===i.length&&(i=i.concat(t))}for(a=i.length?n.getRootFilePath(this.emittingFileName):null,u=0;u<i.length;u++)t=i[u],h=t.isDeclareFile()?t.fileName:this.compiler.mapOutputFileName(t,this.emitOptions,n.TypeScriptCompiler.mapToDTSFileName),h=n.getRelativePathToFixedPath(a,h,!1),this.declFile.WriteLine('/// <reference path="'+h+'" />');this.emittedReferencePaths=!0}},i.prototype.emitDeclarationsForSourceUnit=function(n){this.emitReferencePaths(n);this.emitDeclarationsForList(n.moduleElements)},i}();n.DeclarationEmitter=i}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(n){var u=Math.max(1,t.computeM(n)),f=Math.max(1,t.computeK(n)),e=u+7&-8,i,r;for(this.bitArray=[],i=0,r=e;i<r;i++)this.bitArray[i]=!1;this.hashFunctionCount=f}return t.computeM=function(n){var i=t.falsePositiveProbability,r=n,u=r*Math.log(i),f=Math.log(1/Math.pow(2,Math.log(2)));return Math.ceil(u/f)},t.computeK=function(n){var i=n,r=t.computeM(n),u=Math.log(2)*r/i;return Math.round(u)},t.prototype.computeHash=function(t,i){return n.Hash.computeMurmur2StringHashCode(t,i)},t.prototype.addKeys=function(n){for(var t in n)n[t]&&this.add(t)},t.prototype.add=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)i=this.computeHash(n,t),i=i%this.bitArray.length,this.bitArray[Math.abs(i)]=!0},t.prototype.probablyContains=function(n){for(var i,t=0;t<this.hashFunctionCount;t++)if(i=this.computeHash(n,t),i=i%this.bitArray.length,!this.bitArray[Math.abs(i)])return!1;return!0},t.prototype.isEquivalent=function(n){return t.isEquivalent(this.bitArray,n.bitArray)&&this.hashFunctionCount===n.hashFunctionCount},t.isEquivalent=function(n,t){if(n.length!==t.length)return!1;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0},t.falsePositiveProbability=.0001,t}();n.BloomFilter=t}(TypeScript||(TypeScript={})),function(n){var t=function(n){function t(t){n.call(this);this.list=t}return __extends(t,n),t.prototype.visitToken=function(n){this.list[n.text()]=!0},t}(n.SyntaxWalker);n.IdentifierWalker=t}(TypeScript||(TypeScript={})),function(n){var t=function(){function n(){this.propagateEnumConstants=!1;this.removeComments=!1;this.watch=!1;this.noResolve=!1;this.allowAutomaticSemicolonInsertion=!0;this.noImplicitAny=!1;this.noLib=!1;this.codeGenTarget=0;this.moduleGenTarget=0;this.outFileOption="";this.outDirOption="";this.mapSourceFiles=!1;this.mapRoot="";this.sourceRoot="";this.generateDeclarationFiles=!1;this.useCaseSensitiveFileResolution=!1;this.gatherDiagnostics=!1;this.codepage=null;this.createFileLog=!1}return n}(),i;n.CompilationSettings=t;i=function(){function i(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k){this._propagateEnumConstants=n;this._removeComments=t;this._watch=i;this._noResolve=r;this._allowAutomaticSemicolonInsertion=u;this._noImplicitAny=f;this._noLib=e;this._codeGenTarget=o;this._moduleGenTarget=s;this._outFileOption=h;this._outDirOption=c;this._mapSourceFiles=l;this._mapRoot=a;this._sourceRoot=v;this._generateDeclarationFiles=y;this._useCaseSensitiveFileResolution=p;this._gatherDiagnostics=w;this._codepage=b;this._createFileLog=k}return i.prototype.propagateEnumConstants=function(){return this._propagateEnumConstants},i.prototype.removeComments=function(){return this._removeComments},i.prototype.watch=function(){return this._watch},i.prototype.noResolve=function(){return this._noResolve},i.prototype.allowAutomaticSemicolonInsertion=function(){return this._allowAutomaticSemicolonInsertion},i.prototype.noImplicitAny=function(){return this._noImplicitAny},i.prototype.noLib=function(){return this._noLib},i.prototype.codeGenTarget=function(){return this._codeGenTarget},i.prototype.moduleGenTarget=function(){return this._moduleGenTarget},i.prototype.outFileOption=function(){return this._outFileOption},i.prototype.outDirOption=function(){return this._outDirOption},i.prototype.mapSourceFiles=function(){return this._mapSourceFiles},i.prototype.mapRoot=function(){return this._mapRoot},i.prototype.sourceRoot=function(){return this._sourceRoot},i.prototype.generateDeclarationFiles=function(){return this._generateDeclarationFiles},i.prototype.useCaseSensitiveFileResolution=function(){return this._useCaseSensitiveFileResolution},i.prototype.gatherDiagnostics=function(){return this._gatherDiagnostics},i.prototype.codepage=function(){return this._codepage},i.prototype.createFileLog=function(){return this._createFileLog},i.defaultSettings=function(){return i._defaultSettings||(i._defaultSettings=i.fromCompilationSettings(new t)),i._defaultSettings},i.fromCompilationSettings=function(n){return new i(n.propagateEnumConstants,n.removeComments,n.watch,n.noResolve,n.allowAutomaticSemicolonInsertion,n.noImplicitAny,n.noLib,n.codeGenTarget,n.moduleGenTarget,n.outFileOption,n.outDirOption,n.mapSourceFiles,n.mapRoot,n.sourceRoot,n.generateDeclarationFiles,n.useCaseSensitiveFileResolution,n.gatherDiagnostics,n.codepage,n.createFileLog)},i.prototype.toCompilationSettings=function(){var r=new t,u=this,f=r;for(var i in this)this.hasOwnProperty(i)&&n.StringUtilities.startsWith(i,"_")&&(f[i.substr(1)]=u[i]);return r},i}();n.ImmutableCompilationSettings=i}(TypeScript||(TypeScript={})),function(n){function i(t,i){for(var r=0,u=t.length;r<u;r++)if(n.hasFlag(t[r],i))return!0;return!1}var t,r;(function(n){n[n.None=0]="None";n[n.Exported=1]="Exported";n[n.Private=2]="Private";n[n.Public=4]="Public";n[n.Ambient=8]="Ambient";n[n.Static=16]="Static";n[n.Optional=128]="Optional";n[n.Signature=2048]="Signature";n[n.Enum=4096]="Enum";n[n.ArrowFunction=8192]="ArrowFunction";n[n.ClassConstructorVariable=16384]="ClassConstructorVariable";n[n.InitializedModule=32768]="InitializedModule";n[n.InitializedDynamicModule=65536]="InitializedDynamicModule";n[n.MustCaptureThis=262144]="MustCaptureThis";n[n.DeclaredInAWithBlock=2097152]="DeclaredInAWithBlock";n[n.HasReturnStatement=4194304]="HasReturnStatement";n[n.PropertyParameter=8388608]="PropertyParameter";n[n.IsAnnotatedWithAny=16777216]="IsAnnotatedWithAny";n[n.HasDefaultArgs=33554432]="HasDefaultArgs";n[n.ConstructorParameter=67108864]="ConstructorParameter";n[n.ImplicitVariable=n.ClassConstructorVariable|n.InitializedModule|n.InitializedDynamicModule|n.Enum]="ImplicitVariable";n[n.SomeInitializedModule=n.InitializedModule|n.InitializedDynamicModule|n.Enum]="SomeInitializedModule"})(n.PullElementFlags||(n.PullElementFlags={}));t=n.PullElementFlags;n.hasModifier=i,function(n){n[n.None=0]="None";n[n.Global=0]="Global";n[n.Script=1]="Script";n[n.Primitive=2]="Primitive";n[n.Container=4]="Container";n[n.Class=8]="Class";n[n.Interface=16]="Interface";n[n.DynamicModule=32]="DynamicModule";n[n.Enum=64]="Enum";n[n.TypeAlias=128]="TypeAlias";n[n.ObjectLiteral=256]="ObjectLiteral";n[n.Variable=512]="Variable";n[n.CatchVariable=1024]="CatchVariable";n[n.Parameter=2048]="Parameter";n[n.Property=4096]="Property";n[n.TypeParameter=8192]="TypeParameter";n[n.Function=16384]="Function";n[n.ConstructorMethod=32768]="ConstructorMethod";n[n.Method=65536]="Method";n[n.FunctionExpression=131072]="FunctionExpression";n[n.GetAccessor=262144]="GetAccessor";n[n.SetAccessor=524288]="SetAccessor";n[n.CallSignature=1048576]="CallSignature";n[n.ConstructSignature=2097152]="ConstructSignature";n[n.IndexSignature=4194304]="IndexSignature";n[n.ObjectType=8388608]="ObjectType";n[n.FunctionType=16777216]="FunctionType";n[n.ConstructorType=33554432]="ConstructorType";n[n.EnumMember=67108864]="EnumMember";n[n.WithBlock=134217728]="WithBlock";n[n.CatchBlock=268435456]="CatchBlock";n[n.All=n.Script|n.Global|n.Primitive|n.Container|n.Class|n.Interface|n.DynamicModule|n.Enum|n.TypeAlias|n.ObjectLiteral|n.Variable|n.Parameter|n.Property|n.TypeParameter|n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor|n.CallSignature|n.ConstructSignature|n.IndexSignature|n.ObjectType|n.FunctionType|n.ConstructorType|n.EnumMember|n.WithBlock|n.CatchBlock]="All";n[n.SomeFunction=n.Function|n.ConstructorMethod|n.Method|n.FunctionExpression|n.GetAccessor|n.SetAccessor]="SomeFunction";n[n.SomeValue=n.Variable|n.Parameter|n.Property|n.EnumMember|n.SomeFunction]="SomeValue";n[n.SomeType=n.Script|n.Global|n.Primitive|n.Class|n.Interface|n.Enum|n.ObjectLiteral|n.ObjectType|n.FunctionType|n.ConstructorType|n.TypeParameter]="SomeType";n[n.AcceptableAlias=n.Variable|n.SomeFunction|n.Class|n.Interface|n.Enum|n.Container|n.ObjectType|n.FunctionType|n.ConstructorType]="AcceptableAlias";n[n.SomeContainer=n.Container|n.DynamicModule|n.TypeAlias]="SomeContainer";n[n.SomeSignature=n.CallSignature|n.ConstructSignature|n.IndexSignature]="SomeSignature";n[n.SomeTypeReference=n.Interface|n.ObjectType|n.FunctionType|n.ConstructorType]="SomeTypeReference";n[n.SomeInstantiatableType=n.Class|n.Interface|n.TypeParameter]="SomeInstantiatableType"}(n.PullElementKind||(n.PullElementKind={}));r=n.PullElementKind}(TypeScript||(TypeScript={})),function(n){var h=0,i=[],r=function(){function t(n,t,i,r,u){this.declID=h++;this.flags=0;this.declGroups=null;this.childDecls=null;this.typeParameters=null;this.synthesizedValDecl=null;this.containerDecl=null;this.childDeclTypeCache=null;this.childDeclValueCache=null;this.childDeclNamespaceCache=null;this.childDeclTypeParameterCache=null;this.name=n;this.kind=i;this.flags=r;this.semanticInfoChain=u;t!==this.name&&(this.declDisplayName=t)}return t.prototype.fileName=function(){throw n.Errors.abstract();},t.prototype.getParentPath=function(){throw n.Errors.abstract();},t.prototype.getParentDecl=function(){throw n.Errors.abstract();},t.prototype.isExternalModule=function(){throw n.Errors.abstract();},t.prototype.getEnclosingDecl=function(){throw n.Errors.abstract();},t.prototype._getEnclosingDeclFromParentDecl=function(){for(var t=this;t;){switch(t.kind){default:return t;case 512:case 8192:case 2048:case 128:case 67108864:}t=t.getParentDecl()}n.Debug.fail()},t.prototype.getDisplayName=function(){return this.declDisplayName===undefined?this.name:this.declDisplayName},t.prototype.setSymbol=function(n){this.semanticInfoChain.setSymbolForDecl(this,n)},t.prototype.ensureSymbolIsBound=function(){if(!this.hasBeenBound()&&this.kind!==1){var n=this.semanticInfoChain.getBinder();n.bindDeclToPullSymbol(this)}},t.prototype.getSymbol=function(){return this.kind===1?null:(this.ensureSymbolIsBound(),this.semanticInfoChain.getSymbolForDecl(this))},t.prototype.hasSymbol=function(){var n=this.semanticInfoChain.getSymbolForDecl(this);return!!n},t.prototype.setSignatureSymbol=function(n){this.semanticInfoChain.setSignatureSymbolForDecl(this,n)},t.prototype.getSignatureSymbol=function(){return this.ensureSymbolIsBound(),this.semanticInfoChain.getSignatureSymbolForDecl(this)},t.prototype.hasSignatureSymbol=function(){var n=this.semanticInfoChain.getSignatureSymbolForDecl(this);return!!n},t.prototype.setFlags=function(n){this.flags=n},t.prototype.setFlag=function(n){this.flags|=n},t.prototype.setValueDecl=function(n){this.synthesizedValDecl=n;n.containerDecl=this},t.prototype.getValueDecl=function(){return this.synthesizedValDecl},t.prototype.getContainerDecl=function(){return this.containerDecl},t.prototype.getChildDeclCache=function(t){return t===8192?(this.childDeclTypeParameterCache||(this.childDeclTypeParameterCache=n.createIntrinsicsObject()),this.childDeclTypeParameterCache):n.hasFlag(t,164)?(this.childDeclNamespaceCache||(this.childDeclNamespaceCache=n.createIntrinsicsObject()),this.childDeclNamespaceCache):n.hasFlag(t,58728795)?(this.childDeclTypeCache||(this.childDeclTypeCache=n.createIntrinsicsObject()),this.childDeclTypeCache):(this.childDeclValueCache||(this.childDeclValueCache=n.createIntrinsicsObject()),this.childDeclValueCache)},t.prototype.addChildDecl=function(n){var i,r,t;n.kind===8192?(this.typeParameters||(this.typeParameters=[]),this.typeParameters[this.typeParameters.length]=n):(this.childDecls||(this.childDecls=[]),this.childDecls[this.childDecls.length]=n);i=n.name;n.kind&7340032||(r=this.getChildDeclCache(n.kind),t=r[i],t||(t=[]),t.push(n),r[i]=t)},t.prototype.searchChildDecls=function(n,t){var r=null;return r=t&58728795?this.childDeclTypeCache?this.childDeclTypeCache[n]:null:t&164?this.childDeclNamespaceCache?this.childDeclNamespaceCache[n]:null:this.childDeclValueCache?this.childDeclValueCache[n]:null,r?r:t&58728795&&(r=this.childDeclTypeParameterCache?this.childDeclTypeParameterCache[n]:null,r)?r:i},t.prototype.getChildDecls=function(){return this.childDecls||i},t.prototype.getTypeParameters=function(){return this.typeParameters||i},t.prototype.addVariableDeclToGroup=function(t){this.declGroups||(this.declGroups=n.createIntrinsicsObject());var i=this.declGroups[t.name];i?i.addDecl(t):(i=new u(t.name),i.addDecl(t),this.declGroups[t.name]=i)},t.prototype.getVariableDeclGroups=function(){var n=null,t;if(this.declGroups)for(t in this.declGroups)this.declGroups[t]&&(n===null&&(n=[]),n.push(this.declGroups[t].getDecls()));return n||i},t.prototype.hasBeenBound=function(){return this.hasSymbol()||this.hasSignatureSymbol()},t.prototype.isSynthesized=function(){return!1},t.prototype.ast=function(){return this.semanticInfoChain.getASTForDecl(this)},t.prototype.isRootDecl=function(){throw n.Errors.abstract();},t}(),f,t,e,o,s,u;n.PullDecl=r;f=function(n){function t(t,i,r,u,f,e){n.call(this,t,t,r,u,f);this.semanticInfoChain=f;this._isExternalModule=e;this._fileName=i}return __extends(t,n),t.prototype.fileName=function(){return this._fileName},t.prototype.getParentPath=function(){return[this]},t.prototype.getParentDecl=function(){return null},t.prototype.isExternalModule=function(){return this._isExternalModule},t.prototype.getEnclosingDecl=function(){return this},t.prototype.isRootDecl=function(){return!0},t}(r);n.RootPullDecl=f;t=function(t){function i(i,r,u,f,e,o){typeof o=="undefined"&&(o=!0);t.call(this,i,r,u,f,e?e.semanticInfoChain:null);this.parentDecl=null;this.parentPath=null;this.parentDecl=e;o&&e.addChildDecl(this);this.parentDecl?this._rootDecl=this.parentDecl.isRootDecl()?this.parentDecl:this.parentDecl._rootDecl:(n.Debug.assert(this.isSynthesized()),this._rootDecl=null)}return __extends(i,t),i.prototype.fileName=function(){return this._rootDecl.fileName()},i.prototype.getParentDecl=function(){return this.parentDecl},i.prototype.getParentPath=function(){if(!this.parentPath){for(var t=[this],n=this.parentDecl;n;)!n||t[t.length-1]===n||n.kind&8388864||t.unshift(n),n=n.getParentDecl();this.parentPath=t}return this.parentPath},i.prototype.isExternalModule=function(){return!1},i.prototype.getEnclosingDecl=function(){return this.parentDecl&&this.parentDecl._getEnclosingDeclFromParentDecl()},i.prototype.isRootDecl=function(){return!1},i}(r);n.NormalPullDecl=t;e=function(n){function t(t,i,r){n.call(this,t,i,67108864,4,r);this.constantValue=null}return __extends(t,n),t}(t);n.PullEnumElementDecl=e;o=function(n){function t(t,i,r,u){typeof u=="undefined"&&(u="");n.call(this,"",u,131072,i,r);this.functionExpressionName=t}return __extends(t,n),t.prototype.getFunctionExpressionName=function(){return this.functionExpressionName},t}(t);n.PullFunctionExpressionDecl=o;s=function(n){function t(t,i,r,u,f,e){n.call(this,t,i,r,u,f,!1);this.semanticInfoChain=e}return __extends(t,n),t.prototype.isSynthesized=function(){return!0},t.prototype.fileName=function(){return this._rootDecl?this._rootDecl.fileName():""},t}(t);n.PullSynthesizedDecl=s;u=function(){function n(n){this.name=n;this._decls=[]}return n.prototype.addDecl=function(n){n.name===this.name&&(this._decls[this._decls.length]=n)},n.prototype.getDecls=function(){return this._decls},n}();n.PullDeclGroup=u}(TypeScript||(TypeScript={})),function(n){function f(n,t){for(var u="",f=n.getAllowedToReferenceTypeParameters(),i=0;i<f.length;i++){var o=f[i],s=o.pullSymbolID,r=t[s];r||(r=o);u+=s+":"+e(r)}return u}function e(n){var t;return n.isError()?t="E"+e(n._anyType):n.isNamedTypeSymbol()||(t=y(n)),t||(t=n.pullSymbolID+"#"),t}function y(t){if(t.isResolved){var i=new v;n.PullHelpers.walkPullTypeSymbolStructure(t,i)}return null}var t,i,r,o,s,h,u,c,l,a,v,p;n.pullSymbolID=0;n.sentinelEmptyArray=[];t=function(){function t(t,i){this.pullSymbolID=++n.pullSymbolID;this._container=null;this.type=null;this._declarations=null;this.isResolved=!1;this.isOptional=!1;this.inResolution=!1;this.isSynthesized=!1;this.isVarArg=!1;this.rootSymbol=null;this._enclosingSignature=null;this._docComments=null;this.isPrinting=!1;this.name=t;this.kind=i}return t.prototype.isAny=function(){return!1},t.prototype.isType=function(){return(this.kind&58728795)!=0},t.prototype.isTypeReference=function(){return!1},t.prototype.isSignature=function(){return(this.kind&7340032)!=0},t.prototype.isArrayNamedTypeReference=function(){return!1},t.prototype.isPrimitive=function(){return this.kind===2},t.prototype.isAccessor=function(){return!1},t.prototype.isError=function(){return!1},t.prototype.isInterface=function(){return this.kind===16},t.prototype.isMethod=function(){return this.kind===65536},t.prototype.isProperty=function(){return this.kind===4096},t.prototype.isAlias=function(){return!1},t.prototype.isContainer=function(){return!1},t.prototype.findAliasedType=function(t,i,r,f,e){var y,c,l,p,a,v,o,s,h,w;for(typeof f=="undefined"&&(f=[]),typeof e=="undefined"&&(e=[]),y=t.getDeclarations(),c=[],s=0;s<y.length;s++)if(l=y[s],!n.ArrayUtilities.contains(e,l))for(e.push(l),p=l.getChildDecls(),a=0;a<p.length;a++)if(v=p[a],v.kind===128&&(!r||v.flags&1)){if(o=v.getSymbol(),u.usedAsSymbol(o,this)||this.rootSymbol&&u.usedAsSymbol(o,this.rootSymbol))return f.push(o),f;!i&&this.isExternalModuleReferenceAlias(o)&&(!o.assignedContainer().hasExportAssignment()||o.assignedContainer().getExportAssignedContainerSymbol()&&o.assignedContainer().getExportAssignedContainerSymbol().kind===32)&&c.push(o)}for(s=0;s<c.length;s++){if(h=c[s],f.push(h),w=this.findAliasedType(h.assignedContainer().hasExportAssignment()?h.assignedContainer().getExportAssignedContainerSymbol():h.assignedContainer(),!1,!0,f,e),w)return w;f.pop()}return null},t.prototype.getExternalAliasedSymbols=function(n){var t;return n?(t=n.pathToRoot(),t.length&&t[t.length-1].kind===32)?this.findAliasedType(t[t.length-1]):null:null},t.prototype.isExternalModuleReferenceAlias=function(n){return n?n.assignedValue()?!1:n.assignedType()&&n.assignedType()!==n.assignedContainer()?!1:n.assignedContainer()&&n.assignedContainer().kind!==32?!1:!0:!1},t.prototype.getExportedInternalAliasSymbol=function(t){var u,r,i;if(t&&this.kind!==128)for(u=t.pathToRoot(),r=0;r<u.length;r++)if(i=this.findAliasedType(t,!0,!0),i)return n.Debug.assert(i.length===1),i[0];return null},t.prototype.getAliasSymbolName=function(n,t,i,r){var o,u,f,e,s;if(!r&&(o=this.getExportedInternalAliasSymbol(n),o))return t(o);if(u=this.getExternalAliasedSymbols(n),u&&this.isExternalModuleReferenceAlias(u[u.length-1])){if(f=t(u[0]),!f)return null;for(e=1,s=u.length;e<s;e++)f=f+"."+i(u[e]);return f}return null},t.prototype._getResolver=function(){return n.Debug.assert(this._declarations&&this._declarations.length>0),this._declarations[0].semanticInfoChain.getResolver()},t.prototype._resolveDeclaredSymbol=function(){return this._getResolver().resolveDeclaredSymbol(this)},t.prototype.getName=function(n,t){var i=this.getAliasSymbolName(n,function(i){return i.getName(n,t)},function(n){return n.getName()});return i||this.name},t.prototype.getDisplayName=function(n,t,i){var f=this.getAliasSymbolName(n,function(i){return i.getDisplayName(n,t)},function(n){return n.getDisplayName()},i),u,r;return f?f:(u=this.getDeclarations(),r=u.length&&u[0].getDisplayName(),r&&r.length?r:this.name)},t.prototype.getIsSpecialized=function(){return!1},t.prototype.getRootSymbol=function(){return this.rootSymbol?this.rootSymbol:this},t.prototype.setRootSymbol=function(n){this.rootSymbol=n},t.prototype.setIsSynthesized=function(t){typeof t=="undefined"&&(t=!0);n.Debug.assert(this.rootSymbol==null);this.isSynthesized=t},t.prototype.getIsSynthesized=function(){return this.rootSymbol?this.rootSymbol.getIsSynthesized():this.isSynthesized},t.prototype.setEnclosingSignature=function(n){this._enclosingSignature=n},t.prototype.getEnclosingSignature=function(){return this._enclosingSignature},t.prototype.addDeclaration=function(t){(n.Debug.assert(!!t),this.rootSymbol)||(this._declarations?this._declarations[this._declarations.length]=t:this._declarations=[t])},t.prototype.getDeclarations=function(){return this.rootSymbol?this.rootSymbol.getDeclarations():(this._declarations||(this._declarations=[]),this._declarations)},t.prototype.hasDeclaration=function(t){return this._declarations?n.ArrayUtilities.any(this._declarations,function(n){return n===t}):!1},t.prototype.setContainer=function(n){this.rootSymbol||(this._container=n)},t.prototype.getContainer=function(){return this.rootSymbol?this.rootSymbol.getContainer():this._container},t.prototype.setResolved=function(){this.isResolved=!0;this.inResolution=!1},t.prototype.startResolving=function(){this.inResolution=!0},t.prototype.setUnresolved=function(){this.isResolved=!1;this.inResolution=!1},t.prototype.anyDeclHasFlag=function(t){for(var r=this.getDeclarations(),i=0,u=r.length;i<u;i++)if(n.hasFlag(r[i].flags,t))return!0;return!1},t.prototype.allDeclsHaveFlag=function(t){for(var r=this.getDeclarations(),i=0,u=r.length;i<u;i++)if(!n.hasFlag(r[i].flags,t))return!1;return!0},t.prototype.pathToRoot=function(){for(var t=[],n=this,i,r;n;)if(n.isType()&&(i=n.getAssociatedContainerType(),i&&(n=i)),t[t.length]=n,r=n.kind,r===2048)break;else n=n.getContainer();return t},t.unqualifiedNameReferencesDifferentSymbolInScope=function(n,t,i){for(var f,r,e=t[0].getDeclarations()[0].getParentPath(),u=0,o=e.length-1;u<=i;u++,o--)if(n.isContainer()&&t[u].isContainer()&&((f=t[u],r=f.findContainedNonMemberContainer(n.name,164),r&&r!=n&&r.getDeclarations()[0].getParentDecl()==e[o])||(r=f.findNestedContainer(n.name,164),r&&r!=n)))return!0;return!1},t.prototype.findQualifyingSymbolPathInScopeSymbol=function(i){var r=this.pathToRoot(),f,u,o,e;if(r.length===1)return r;if(i)f=i.pathToRoot();else return r;if(u=n.ArrayUtilities.indexOf(r,function(t){return n.ArrayUtilities.contains(f,t)}),u>0)for(o=r[u],e=n.ArrayUtilities.indexOf(f,function(n){return n===o}),n.Debug.assert(r.length-u==f.length-e);u<r.length;u++,e++)if(!t.unqualifiedNameReferencesDifferentSymbolInScope(r[u-1],f,e))break;return u>=0&&u<r.length?r.slice(0,u):r},t.prototype.toString=function(n){return this.getNameAndTypeName(n)},t.prototype.getNamePartForFullName=function(){return this.getDisplayName(null,!0)},t.prototype.fullName=function(t){var o=this,f=this.pathToRoot(),r="",u=this.getAliasSymbolName(t,function(n){return n.fullName(t)},function(n){return n.getNamePartForFullName()}),i,e;if(u)return u;for(i=1;i<f.length;i++){if(u=f[i].getAliasSymbolName(t,function(n){return n===o?null:n.fullName(t)},function(n){return n.getNamePartForFullName()}),u){r=u+"."+r;break}if(e=f[i].getNamePartForFullName(),f[i].kind===32&&!n.isQuoted(e))break;if(e==="")break;r=e+"."+r}return r+this.getNamePartForFullName()},t.prototype.getScopedName=function(t,i,r,u){var o=this.findQualifyingSymbolPathInScopeSymbol(t),f="",s=this.getAliasSymbolName(t,function(n){return n.getScopedName(t,i,r,u)},function(n){return n.getNamePartForFullName()},u),e,h,c;if(s)return s;for(e=1;e<o.length;e++)if(h=o[e].kind,h===4||h===32){if(s=o[e].getAliasSymbolName(t,function(n){return n.getScopedName(t,i,!1,u)},function(n){return n.getNamePartForFullName()},u),s){f=s+"."+f;break}if(h===4)f=o[e].getDisplayName()+"."+f;else{c=o[e].getDisplayName();n.isQuoted(c)&&(f=c+"."+f);break}}else break;return f+this.getDisplayName(t,r,u)},t.prototype.getScopedNameEx=function(t,i,r,u,f,e){var o=this.getScopedName(t,i,r,e);return n.MemberName.create(o)},t.prototype.getTypeName=function(n,t){var i=this.getTypeNameEx(n,t);return i.toString()},t.prototype.getTypeNameEx=function(t,i){var u=this.type,r;return u?(r=i?this.getTypeNameForFunctionSignature("",t,i):null,r||(r=u.getScopedNameEx(t,!1,!0,i)),r):n.MemberName.create("")},t.prototype.getTypeNameForFunctionSignature=function(t,r,u){var e=this.type,f,o,s;return e&&!e.isNamedTypeSymbol()&&this.kind!==4096&&this.kind!==512&&this.kind!==2048&&(f=e.getCallSignatures(),f.length===1||u&&f.length)?(o=new n.MemberNameArray,s=i.getSignaturesTypeNameEx(f,t,!1,!1,r,u),o.addAll(s),o):null},t.prototype.getNameAndTypeName=function(n){var t=this.getNameAndTypeNameEx(n);return t.toString()},t.prototype.getNameAndTypeNameEx=function(t){var u=this.type,i=this.getDisplayName(t),r,f;return u?(i=i+(this.isOptional?"?":""),r=this.getTypeNameForFunctionSignature(i,t),r||(f=u.getScopedNameEx(t),r=n.MemberName.create(f,i+": ","")),r):n.MemberName.create(i)},t.getTypeParameterString=function(n,i,r){return t.getTypeParameterStringEx(n,i,undefined,r).toString()},t.getTypeParameterStringEx=function(t,i,r,u){var f=new n.MemberNameArray,e;if(f.prefix="",t&&t.length){for(f.add(n.MemberName.create("<")),e=0;e<t.length;e++)e&&f.add(n.MemberName.create(", ")),r&&f.add(new n.MemberName),f.add(t[e].getScopedNameEx(i,!1,u)),r&&f.add(new n.MemberName);f.add(n.MemberName.create(">"))}return f},t.getIsExternallyVisible=function(t,i,r){var u,f;if(r){for(u=0;u<r.length;u++)if(r[u]===t)return!0}else r=[];return i===t?!0:(r.push(i),f=t.isExternallyVisible(r),n.Debug.assert(n.ArrayUtilities.last(r)===i),r.pop(),f)},t.prototype.isExternallyVisible=function(n){var f=this.kind,e,i,o,r,s,h;return f===2?!0:this.rootSymbol?t.getIsExternallyVisible(this.rootSymbol,this,n):this.isType()&&(e=this.getAssociatedContainerType(),e)?t.getIsExternallyVisible(e,this,n):this.anyDeclHasFlag(2)?!1:(i=this.getContainer(),i===null)?(o=this.getDeclarations(),o.length&&(r=o[0].getParentDecl(),r))?(s=r.getSymbol(),!s||r.kind===1)?!0:t.getIsExternallyVisible(s,this,n):!0:(i.kind===32||i.getAssociatedContainerType()&&i.getAssociatedContainerType().kind===32)&&(h=i.kind===32?i:i.getAssociatedContainerType(),u.usedAsSymbol(h,this))?!0:!this.anyDeclHasFlag(1)&&f!==4096&&f!==65536?!1:t.getIsExternallyVisible(i,this,n)},t.prototype.getDocCommentsOfDecl=function(t){var i=t.ast(),r;if(i){if(r=n.ASTHelpers.getEnclosingModuleDeclaration(i),n.ASTHelpers.isLastNameOfModule(r,i))return n.ASTHelpers.docComments(r);if(i.kind()!==130||t.kind!==512)return n.ASTHelpers.docComments(i)}return[]},t.prototype.getDocCommentArray=function(n){var i=[],u,r,t;if(!n)return i;for(u=n.kind===2048,r=n.getDeclarations(),t=0;t<r.length;t++)u&&r[t].kind===4096||(i=i.concat(this.getDocCommentsOfDecl(r[t])));return i},t.getDefaultConstructorSymbolForDocComments=function(n){if(n.getHasDefaultConstructor()){var i=n.getExtendedTypes();if(i.length)return t.getDefaultConstructorSymbolForDocComments(i[0])}return n.type.getConstructSignatures()[0]},t.prototype.getDocCommentText=function(n){for(var i,r=[],t=0;t<n.length;t++)i=this.getDocCommentTextValue(n[t]),i!==""&&r.push(i);return r.join("\n")},t.prototype.getDocCommentTextValue=function(n){return this.cleanJSDocComment(n.fullText())},t.prototype.docComments=function(n){var i=this.getDeclarations(),c,t,l,f,o,r,s,h,u;if(n&&i.length&&i[0].kind===32768)return c=i[0].getParentDecl(),this.getDocCommentText(this.getDocCommentsOfDecl(c));if(this._docComments===null){if(t="",!n&&this.kind===2097152&&i.length&&i[0].kind===8)l=this.returnType,f=l.getExtendedTypes(),t=f.length?f[0].getConstructorMethod().docComments():"";else if(this.kind===2048){var e=[],v=this.getEnclosingSignature(),y=this.getDocCommentArray(v),a=this.getParameterDocCommentText(this.getDisplayName(),y);a!=""&&e.push(a);o=this.getDocCommentText(this.getDocCommentArray(this));o!=""&&e.push(o);t=e.join("\n")}else r=!0,this.kind===16777216&&(s=this.getFunctionSymbol(),s?(t=s._docComments||"",r=!1):(h=this.getDeclarations(),h.length>0&&(t=h[0].getSymbol()._docComments||"",r=!1))),r&&(t=this.getDocCommentText(this.getDocCommentArray(this)),t===""&&this.kind===1048576&&(u=this.functionType,u&&u.getCallSignatures().length===1&&(t=u.docComments())));this._docComments=t}return this._docComments},t.prototype.getParameterDocCommentText=function(n,t){var e,r,i,u,o,s;if(t.length===0||t[0].kind()!==6)return"";for(e=0;e<t.length;e++)for(r=t[e].fullText(),i=r.indexOf("@param",0);0<=i;i=r.indexOf("@param",i))if(i+=6,this.isSpaceChar(r,i)){if(i=this.consumeLeadingSpace(r,i),i===-1)break;if(r.charCodeAt(i)===123){for(i++,u=0,o=1;i<r.length;i++){if(u=r.charCodeAt(i),u===123){o++;continue}if(u===125)if(o--,o===0)break;else continue;if(u===64)break}if(i===r.length)break;if(u===64)continue;if(i=this.consumeLeadingSpace(r,i+1),i===-1)break}if(n===r.substr(i,n.length)&&this.isSpaceChar(r,i+n.length)){if(i=this.consumeLeadingSpace(r,i+n.length),i===-1)return"";var h=r.indexOf("@",i),l=r.substring(i,h<0?r.length:h),c=undefined,f=r.substring(0,i).lastIndexOf("\n")+1;return f!==0&&f<i&&r.charAt(f+1)==="\r"&&f++,s=this.consumeLeadingSpace(r,f),s!==i&&r.charAt(s)==="*"&&(c=i-s-1),this.cleanJSDocComment(l,c)}}return""},t.prototype.cleanJSDocComment=function(n,t){var l=[],h,f,s,r,u,e,o,i,c,a;for(n=n.replace("/**",""),n.length>=2&&n.charAt(n.length-1)==="/"&&n.charAt(n.length-2)==="*"&&(n=n.substring(0,n.length-2)),h=n.split("\n"),f=!1,s=0;s<h.length;s++)if(r=h[s],u=this.cleanDocCommentLine(r,!0,t),u){for(e="",o=u.start,i=r.indexOf("@",u.start);0<=i&&i<u.end;i=r.indexOf("@",i+1))c=f,r.indexOf("param",i+1)===i+1&&this.isSpaceChar(r,i+6)?(c||(e+=r.substring(o,i)),o=i,f=!0):c&&(o=i,f=!1);f||(e+=r.substring(o,u.end));a=this.cleanDocCommentLine(e,!1);a&&(t===undefined&&(t=u.jsDocSpacesRemoved),l.push(e))}return l.join("\n")},t.prototype.consumeLeadingSpace=function(t,i,r){var u=t.length,f;for(r!==undefined&&(u=n.MathPrototype.min(i+r,u));i<u;i++)if(f=t.charCodeAt(i),f!==32&&f!==9)return i;return u!==t.length?u:-1},t.prototype.isSpaceChar=function(n,t){var r=n.length,i;return t<r?(i=n.charCodeAt(t),i===32||i===9):t===r},t.prototype.cleanDocCommentLine=function(n,t,i){var r=this.consumeLeadingSpace(n,0),u,f;if(r!==-1){if(u=r,t&&n.charAt(r)==="*")if(f=r+1,r=this.consumeLeadingSpace(n,f,i),r!==-1)u=r-f;else return null;return{start:r,end:n.charAt(n.length-1)==="\r"?n.length-1:n.length,jsDocSpacesRemoved:u}}return null},t}();n.PullSymbol=t;i=function(i){function r(t,r){typeof r=="undefined"&&(r=!1);i.call(this,"",t);this._isDefinition=r;this._memberTypeParameterNameCache=null;this._stringConstantOverload=undefined;this.parameters=n.sentinelEmptyArray;this._typeParameters=null;this.returnType=null;this.functionType=null;this.hasOptionalParam=!1;this.nonOptionalParamCount=0;this.hasVarArgs=!1;this._allowedToReferenceTypeParameters=null;this._instantiationCache=null;this.hasBeenChecked=!1;this.inWrapCheck=!1;this.inWrapInfiniteExpandingReferenceCheck=!1}return __extends(r,i),r.prototype.isDefinition=function(){return this._isDefinition},r.prototype.isGeneric=function(){var n=this.getTypeParameters();return!!n&&n.length!==0},r.prototype.addParameter=function(t,i){typeof i=="undefined"&&(i=!1);this.parameters===n.sentinelEmptyArray&&(this.parameters=[]);this.parameters[this.parameters.length]=t;this.hasOptionalParam=i;t.getEnclosingSignature()||t.setEnclosingSignature(this);i||this.nonOptionalParamCount++},r.prototype.addTypeParameter=function(t){this._typeParameters||(this._typeParameters=[]);this._memberTypeParameterNameCache||(this._memberTypeParameterNameCache=n.createIntrinsicsObject());this._typeParameters[this._typeParameters.length]=t;this._memberTypeParameterNameCache[t.getName()]=t},r.prototype.addTypeParametersFromReturnType=function(){for(var t=this.returnType.getTypeParameters(),n=0;n<t.length;n++)this.addTypeParameter(t[n])},r.prototype.getTypeParameters=function(){return this._typeParameters||(this._typeParameters=[]),this._typeParameters},r.prototype.findTypeParameter=function(t){var i;if(!this._memberTypeParameterNameCache)for(this._memberTypeParameterNameCache=n.createIntrinsicsObject(),i=0;i<this.getTypeParameters().length;i++)this._memberTypeParameterNameCache[this._typeParameters[i].getName()]=this._typeParameters[i];return this._memberTypeParameterNameCache[t]},r.prototype.getTypeParameterArgumentMap=function(){return null},r.prototype.getAllowedToReferenceTypeParameters=function(){return n.Debug.assert(this.getRootSymbol()==this),this._allowedToReferenceTypeParameters||(this._allowedToReferenceTypeParameters=n.PullInstantiationHelpers.getAllowedToReferenceTypeParametersFromDecl(this.getDeclarations()[0])),this._allowedToReferenceTypeParameters},r.prototype.addSpecialization=function(t,i){n.Debug.assert(this.getRootSymbol()==this);this._instantiationCache||(this._instantiationCache=n.createIntrinsicsObject());this._instantiationCache[f(this,i)]=t},r.prototype.getSpecialization=function(t){if(n.Debug.assert(this.getRootSymbol()==this),!this._instantiationCache)return null;var i=this._instantiationCache[f(this,t)];return i||null},r.prototype.isStringConstantOverloadSignature=function(){var i,n,t;if(this._stringConstantOverload===undefined)for(i=this.parameters,this._stringConstantOverload=!1,n=0;n<i.length;n++)t=i[n].type,t&&t.isPrimitive()&&t.isStringConstant()&&(this._stringConstantOverload=!0);return this._stringConstantOverload},r.prototype.getParameterTypeAtIndex=function(n){if(n<this.parameters.length-1||n<this.parameters.length&&!this.hasVarArgs)return this.parameters[n].type;if(this.hasVarArgs){var t=this.parameters[this.parameters.length-1].type;return t.isArrayNamedTypeReference()&&(t=t.getElementType()),t}return null},r.getSignatureTypeMemberName=function(t,i,u){var f=new n.MemberNameArray,e=r.getSignaturesTypeNameEx(i,"",!1,!1,u,!0,t);return f.addAll(e),f},r.getSignaturesTypeNameEx=function(t,i,r,u,f,e,o){var c=[],h,l,a,v,s,y;if(!t)return c;for(h=t.length,!e&&h>1&&(r=!1),l=!1,o&&o.isDefinition()&&h>1&&(o=null),s=0;s<h;s++){if(h>1&&t[s].isDefinition()){l=!0;continue}if(a=t[s],e&&o&&(a=o),c.push(a.getSignatureTypeNameEx(i,r,u,f)),e)break}if(e&&c.length&&h>1){for(v=c[c.length-1],s=s+1;s<h;s++)if(t[s].isDefinition()){l=!0;break}y=n.getLocalizedText(n.DiagnosticCode._0_overload_s,[l?h-2:h-1]);v.add(n.MemberName.create(y))}return c},r.prototype.toString=function(n,t){return this.getSignatureTypeNameEx(this.getScopedNameEx().toString(),!1,!1,n,undefined,t).toString()},r.prototype.getSignatureTypeNameEx=function(i,r,u,f,e,o){var l=new n.MemberNameArray,s,c,a,h;for(l.add(t.getTypeParameterStringEx(this.getTypeParameters(),f,o,!0)),u?l.add(n.MemberName.create("[")):l.add(n.MemberName.create("(")),s=new n.MemberNameArray,s.prefix=i,o?(s.prefix=i,s.addAll(l.entries)):s.prefix=i+l.toString(),c=this.parameters,a=c.length,h=0;h<a;h++){var v=c[h].type,p=v?": ":"",y=c[h].isVarArg,w=y?"...":"",b=!y&&c[h].isOptional?"?":"";e&&s.add(new n.MemberName);s.add(n.MemberName.create(w+c[h].getScopedNameEx(f).toString()+b+p));v&&s.add(v.getScopedNameEx(f));e&&s.add(new n.MemberName);h<a-1&&s.add(n.MemberName.create(", "))}return r?u?s.add(n.MemberName.create("] => ")):s.add(n.MemberName.create(") => ")):u?s.add(n.MemberName.create("]: ")):s.add(n.MemberName.create("): ")),this.returnType?s.add(this.returnType.getScopedNameEx(f)):s.add(n.MemberName.create("any")),s},r.prototype.forAllParameterTypes=function(n,t){var i,r;for(this.parameters.length<n&&!this.hasVarArgs&&(n=this.parameters.length),i=0;i<n;i++)if(r=this.getParameterTypeAtIndex(i),!t(r,i))return!1;return!0},r.prototype.forAllCorrespondingParameterTypesInThisAndOtherSignature=function(n,t){for(var u,f,r=this.hasVarArgs?n.hasVarArgs?Math.max(this.parameters.length,n.parameters.length):n.parameters.length:n.hasVarArgs?this.parameters.length:Math.min(this.parameters.length,n.parameters.length),i=0;i<r;i++)if(u=this.getParameterTypeAtIndex(i),f=n.getParameterTypeAtIndex(i),!t(u,f,i))return!1;return!0},r.prototype.wrapsSomeTypeParameter=function(n){return this.getWrappingTypeParameterID(n)!==0},r.prototype.getWrappingTypeParameterID=function(t){var r=this,i;return r.inWrapCheck?0:(this._wrapsTypeParameterCache=this._wrapsTypeParameterCache||new n.WrapsTypeParameterCache,i=this._wrapsTypeParameterCache.getWrapsTypeParameter(t),i===undefined&&(i=this.getWrappingTypeParameterIDWorker(t),this._wrapsTypeParameterCache.setWrapsTypeParameter(t,i)),i)},r.prototype.getWrappingTypeParameterIDWorker=function(t){var i=this,u,f,r;for(i.inWrapCheck=!0,n.PullHelpers.resolveDeclaredSymbolToUseType(i),u=i.returnType?i.returnType.getWrappingTypeParameterID(t):0,f=i.parameters,r=0;!u&&r<f.length;r++)n.PullHelpers.resolveDeclaredSymbolToUseType(f[r]),u=f[r].type.getWrappingTypeParameterID(t);return i.inWrapCheck=!1,u},r.prototype._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference=function(n,t){var i=t.valueAt(this.pullSymbolID,n.pullSymbolID);return i!=undefined?i:this.inWrapInfiniteExpandingReferenceCheck?!1:(this.inWrapInfiniteExpandingReferenceCheck=!0,i=this._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceWorker(n,t),t.setValueAt(this.pullSymbolID,n.pullSymbolID,i),this.inWrapInfiniteExpandingReferenceCheck=!1,i)},r.prototype._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceWorker=function(n,t){var r,i;if(this.returnType&&this.returnType._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceRecurse(n,t))return!0;for(r=this.parameters,i=0;i<r.length;i++)if(r[i].type&&r[i].type._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceRecurse(n,t))return!0;return!1},r}(t);n.PullSignatureSymbol=i;r=function(r){function u(t,i){r.call(this,t,i);this._members=n.sentinelEmptyArray;this._enclosedMemberTypes=null;this._enclosedMemberContainers=null;this._typeParameters=null;this._allowedToReferenceTypeParameters=null;this._specializedVersionsOfThisType=null;this._arrayVersionOfThisType=null;this._implementedTypes=null;this._extendedTypes=null;this._typesThatExplicitlyImplementThisType=null;this._typesThatExtendThisType=null;this._callSignatures=null;this._allCallSignatures=null;this._constructSignatures=null;this._indexSignatures=null;this._allIndexSignatures=null;this._allIndexSignaturesOfAugmentedType=null;this._memberNameCache=null;this._enclosedTypeNameCache=null;this._enclosedContainerCache=null;this._typeParameterNameCache=null;this._containedNonMemberNameCache=null;this._containedNonMemberTypeNameCache=null;this._containedNonMemberContainerCache=null;this._simpleInstantiationCache=null;this._complexInstantiationCache=null;this._hasGenericSignature=!1;this._hasGenericMember=!1;this._hasBaseTypeConflict=!1;this._knownBaseTypeCount=0;this._associatedContainerTypeSymbol=null;this._constructorMethod=null;this._hasDefaultConstructor=!1;this._functionSymbol=null;this._inMemberTypeNameEx=!1;this.inSymbolPrivacyCheck=!1;this.inWrapCheck=!1;this.inWrapInfiniteExpandingReferenceCheck=!1;this.typeReference=null;this._widenedType=null;this._isArrayNamedTypeReference=undefined;this.type=this}return __extends(u,r),u.prototype.isArrayNamedTypeReference=function(){return this._isArrayNamedTypeReference===undefined&&(this._isArrayNamedTypeReference=this.computeIsArrayNamedTypeReference()),this._isArrayNamedTypeReference},u.prototype.computeIsArrayNamedTypeReference=function(){var t=this.getTypeArguments(),n;return t&&this.getTypeArguments().length===1&&this.name==="Array"&&(n=this.getDeclarations()[0],n&&n.getParentDecl()&&n.getParentDecl().getParentDecl()===null)?!0:!1},u.prototype.isType=function(){return!0},u.prototype.isClass=function(){return this.kind===8||this._constructorMethod!==null},u.prototype.isFunction=function(){return(this.kind&50331648)!=0},u.prototype.isConstructor=function(){return this.kind===33554432},u.prototype.isTypeParameter=function(){return!1},u.prototype.isTypeVariable=function(){return!1},u.prototype.isError=function(){return!1},u.prototype.isEnum=function(){return this.kind===64},u.prototype.getTypeParameterArgumentMap=function(){return null},u.prototype.isObject=function(){return n.hasFlag(this.kind,58720600)},u.prototype.isFunctionType=function(){return this.getCallSignatures().length>0||this.getConstructSignatures().length>0},u.prototype.getKnownBaseTypeCount=function(){return this._knownBaseTypeCount},u.prototype.resetKnownBaseTypeCount=function(){this._knownBaseTypeCount=0},u.prototype.incrementKnownBaseCount=function(){this._knownBaseTypeCount++},u.prototype.setHasBaseTypeConflict=function(){this._hasBaseTypeConflict=!0},u.prototype.hasBaseTypeConflict=function(){return this._hasBaseTypeConflict},u.prototype.hasMembers=function(){var i,t;if(this._members!==n.sentinelEmptyArray)return!0;for(i=this.getExtendedTypes(),t=0;t<i.length;t++)if(i[t].hasMembers())return!0;return!1},u.prototype.setHasGenericSignature=function(){this._hasGenericSignature=!0},u.prototype.getHasGenericSignature=function(){return this._hasGenericSignature},u.prototype.setHasGenericMember=function(){this._hasGenericMember=!0},u.prototype.getHasGenericMember=function(){return this._hasGenericMember},u.prototype.setAssociatedContainerType=function(n){this._associatedContainerTypeSymbol=n},u.prototype.getAssociatedContainerType=function(){return this._associatedContainerTypeSymbol},u.prototype.getArrayType=function(){return this._arrayVersionOfThisType},u.prototype.getElementType=function(){return null},u.prototype.setArrayType=function(n){this._arrayVersionOfThisType=n},u.prototype.getFunctionSymbol=function(){return this._functionSymbol},u.prototype.setFunctionSymbol=function(n){n&&(this._functionSymbol=n)},u.prototype.findContainedNonMember=function(n){return this._containedNonMemberNameCache?this._containedNonMemberNameCache[n]:null},u.prototype.findContainedNonMemberType=function(t,i){if(typeof i=="undefined"&&(i=0),!this._containedNonMemberTypeNameCache)return null;var r=this._containedNonMemberTypeNameCache[t];return r&&i!==0&&(r=n.hasFlag(r.kind,i)?r:null),r},u.prototype.findContainedNonMemberContainer=function(t,i){if(typeof i=="undefined"&&(i=0),!this._containedNonMemberContainerCache)return null;var r=this._containedNonMemberContainerCache[t];return r&&i!==0&&(r=n.hasFlag(r.kind,i)?r:null),r},u.prototype.addMember=function(t){t&&(t.setContainer(this),this._memberNameCache||(this._memberNameCache=n.createIntrinsicsObject()),this._members===n.sentinelEmptyArray&&(this._members=[]),this._members.push(t),this._memberNameCache[t.name]=t)},u.prototype.addEnclosedMemberType=function(t){t&&(t.setContainer(this),this._enclosedTypeNameCache||(this._enclosedTypeNameCache=n.createIntrinsicsObject()),this._enclosedMemberTypes||(this._enclosedMemberTypes=[]),this._enclosedMemberTypes[this._enclosedMemberTypes.length]=t,this._enclosedTypeNameCache[t.name]=t)},u.prototype.addEnclosedMemberContainer=function(t){t&&(t.setContainer(this),this._enclosedContainerCache||(this._enclosedContainerCache=n.createIntrinsicsObject()),this._enclosedMemberContainers||(this._enclosedMemberContainers=[]),this._enclosedMemberContainers[this._enclosedMemberContainers.length]=t,this._enclosedContainerCache[t.name]=t)},u.prototype.addEnclosedNonMember=function(t){t&&(t.setContainer(this),this._containedNonMemberNameCache||(this._containedNonMemberNameCache=n.createIntrinsicsObject()),this._containedNonMemberNameCache[t.name]=t)},u.prototype.addEnclosedNonMemberType=function(t){t&&(t.setContainer(this),this._containedNonMemberTypeNameCache||(this._containedNonMemberTypeNameCache=n.createIntrinsicsObject()),this._containedNonMemberTypeNameCache[t.name]=t)},u.prototype.addEnclosedNonMemberContainer=function(t){t&&(t.setContainer(this),this._containedNonMemberContainerCache||(this._containedNonMemberContainerCache=n.createIntrinsicsObject()),this._containedNonMemberContainerCache[t.name]=t)},u.prototype.addTypeParameter=function(t){t&&(t.getContainer()||t.setContainer(this),this._typeParameterNameCache||(this._typeParameterNameCache=n.createIntrinsicsObject()),this._typeParameters||(this._typeParameters=[]),this._typeParameters[this._typeParameters.length]=t,this._typeParameterNameCache[t.getName()]=t)},u.prototype.getMembers=function(){return this._members},u.prototype.setHasDefaultConstructor=function(n){typeof n=="undefined"&&(n=!0);this._hasDefaultConstructor=n},u.prototype.getHasDefaultConstructor=function(){return this._hasDefaultConstructor},u.prototype.getConstructorMethod=function(){return this._constructorMethod},u.prototype.setConstructorMethod=function(n){this._constructorMethod=n},u.prototype.getTypeParameters=function(){return this._typeParameters?this._typeParameters:n.sentinelEmptyArray},u.prototype.getAllowedToReferenceTypeParameters=function(){return!!(this.kind&&8216)&&this.isNamedTypeSymbol()&&!this.isTypeParameter()?this.getTypeParameters():(this._allowedToReferenceTypeParameters||(this._allowedToReferenceTypeParameters=n.PullInstantiationHelpers.getAllowedToReferenceTypeParametersFromDecl(this.getDeclarations()[0])),this._allowedToReferenceTypeParameters)},u.prototype.isGeneric=function(){return this._typeParameters&&this._typeParameters.length>0||this._hasGenericSignature||this._hasGenericMember||this.isArrayNamedTypeReference()},u.prototype.canUseSimpleInstantiationCache=function(n){if(this.isTypeParameter())return!0;var t=this.getTypeParameters();return n&&this.isNamedTypeSymbol()&&t.length===1&&n[t[0].pullSymbolID].kind!==8388608},u.prototype.getSimpleInstantiationCacheId=function(n){return this.isTypeParameter()?n[0].pullSymbolID:n[this.getTypeParameters()[0].pullSymbolID].pullSymbolID},u.prototype.addSpecialization=function(t,i){this.canUseSimpleInstantiationCache(i)?(this._simpleInstantiationCache||(this._simpleInstantiationCache=[]),this._simpleInstantiationCache[this.getSimpleInstantiationCacheId(i)]=t):(this._complexInstantiationCache||(this._complexInstantiationCache=n.createIntrinsicsObject()),this._complexInstantiationCache[f(this,i)]=t);this._specializedVersionsOfThisType||(this._specializedVersionsOfThisType=[]);this._specializedVersionsOfThisType.push(t)},u.prototype.getSpecialization=function(n){var t;return this.canUseSimpleInstantiationCache(n)?this._simpleInstantiationCache?(t=this._simpleInstantiationCache[this.getSimpleInstantiationCacheId(n)],t||null):null:this._complexInstantiationCache?this.getAllowedToReferenceTypeParameters().length==0?this:(t=this._complexInstantiationCache[f(this,n)],t||null):null},u.prototype.getKnownSpecializations=function(){return this._specializedVersionsOfThisType?this._specializedVersionsOfThisType:n.sentinelEmptyArray},u.prototype.getTypeArguments=function(){return null},u.prototype.getTypeArgumentsOrTypeParameters=function(){return this.getTypeParameters()},u.prototype.addCallSignaturePrerequisite=function(n){this._callSignatures||(this._callSignatures=[]);n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.appendCallSignature=function(n){this.addCallSignaturePrerequisite(n);this._callSignatures.push(n)},u.prototype.insertCallSignatureAtIndex=function(t,i){this.addCallSignaturePrerequisite(t);n.Debug.assert(i<=this._callSignatures.length);i===this._callSignatures.length?this._callSignatures.push(t):this._callSignatures.splice(i,0,t)},u.prototype.addConstructSignaturePrerequisite=function(n){this._constructSignatures||(this._constructSignatures=[]);n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.appendConstructSignature=function(n){this.addConstructSignaturePrerequisite(n);this._constructSignatures.push(n)},u.prototype.insertConstructSignatureAtIndex=function(t,i){this.addConstructSignaturePrerequisite(t);n.Debug.assert(i<=this._constructSignatures.length);i===this._constructSignatures.length?this._constructSignatures.push(t):this._constructSignatures.splice(i,0,t)},u.prototype.addIndexSignature=function(n){this._indexSignatures||(this._indexSignatures=[]);this._indexSignatures[this._indexSignatures.length]=n;n.isGeneric()&&(this._hasGenericSignature=!0);n.functionType=this},u.prototype.hasOwnCallSignatures=function(){return this._callSignatures!==null},u.prototype.getOwnCallSignatures=function(){return this._callSignatures||n.sentinelEmptyArray},u.prototype.getCallSignatures=function(){var n,t;if(this._allCallSignatures)return this._allCallSignatures;if(n=[],this._callSignatures&&(n=n.concat(this._callSignatures)),this._extendedTypes&&this.kind===16)for(t=0;t<this._extendedTypes.length;t++)this._extendedTypes[t].hasBase(this)||this._getResolver()._addUnhiddenSignaturesFromBaseType(this._callSignatures,this._extendedTypes[t].getCallSignatures(),n);return this._allCallSignatures=n,n},u.prototype.hasOwnConstructSignatures=function(){return this._constructSignatures!==null},u.prototype.getOwnConstructSignatures=function(){return this._constructSignatures||n.sentinelEmptyArray},u.prototype.getConstructSignatures=function(){var t=[],n;if(this._constructSignatures&&(t=t.concat(this._constructSignatures)),this._extendedTypes&&this.kind===16)for(n=0;n<this._extendedTypes.length;n++)this._extendedTypes[n].hasBase(this)||this._getResolver()._addUnhiddenSignaturesFromBaseType(this._constructSignatures,this._extendedTypes[n].getConstructSignatures(),t);return t},u.prototype.hasOwnIndexSignatures=function(){return this._indexSignatures!==null},u.prototype.getOwnIndexSignatures=function(){return this._indexSignatures||n.sentinelEmptyArray},u.prototype.getIndexSignatures=function(){var n,t;if(this._allIndexSignatures)return this._allIndexSignatures;if(n=[],this._indexSignatures&&(n=n.concat(this._indexSignatures)),this._extendedTypes)for(t=0;t<this._extendedTypes.length;t++)this._extendedTypes[t].hasBase(this)||this._getResolver()._addUnhiddenSignaturesFromBaseType(this._indexSignatures,this._extendedTypes[t].getIndexSignatures(),n);return this._allIndexSignatures=n,n},u.prototype.getIndexSignaturesOfAugmentedType=function(n,t,i){var f,o;if(!this._allIndexSignaturesOfAugmentedType){var r=this.getIndexSignatures(),u=!1,e=!1;t&&this.isFunctionType()&&this!==t&&(f=t.getIndexSignatures(),f.length&&(u=!0));i&&this!==i&&(o=i.getIndexSignatures(),o.length&&(e=!0));u||e?(this._allIndexSignaturesOfAugmentedType=r.slice(0),u&&n._addUnhiddenSignaturesFromBaseType(r,f,this._allIndexSignaturesOfAugmentedType),e&&(u&&(r=r.concat(f)),n._addUnhiddenSignaturesFromBaseType(r,o,this._allIndexSignaturesOfAugmentedType))):this._allIndexSignaturesOfAugmentedType=r}return this._allIndexSignaturesOfAugmentedType},u.prototype.addImplementedType=function(n){n&&(this._implementedTypes||(this._implementedTypes=[]),this._implementedTypes[this._implementedTypes.length]=n,n.addTypeThatExplicitlyImplementsThisType(this))},u.prototype.getImplementedTypes=function(){return this._implementedTypes?this._implementedTypes:n.sentinelEmptyArray},u.prototype.addExtendedType=function(n){n&&(this._extendedTypes||(this._extendedTypes=[]),this._extendedTypes[this._extendedTypes.length]=n,n.addTypeThatExtendsThisType(this))},u.prototype.getExtendedTypes=function(){return this._extendedTypes?this._extendedTypes:n.sentinelEmptyArray},u.prototype.addTypeThatExtendsThisType=function(n){n&&(this._typesThatExtendThisType||(this._typesThatExtendThisType=[]),this._typesThatExtendThisType[this._typesThatExtendThisType.length]=n)},u.prototype.getTypesThatExtendThisType=function(){return this._typesThatExtendThisType||(this._typesThatExtendThisType=[]),this._typesThatExtendThisType},u.prototype.addTypeThatExplicitlyImplementsThisType=function(n){n&&(this._typesThatExplicitlyImplementThisType||(this._typesThatExplicitlyImplementThisType=[]),this._typesThatExplicitlyImplementThisType[this._typesThatExplicitlyImplementThisType.length]=n)},u.prototype.getTypesThatExplicitlyImplementThisType=function(){return this._typesThatExplicitlyImplementThisType||(this._typesThatExplicitlyImplementThisType=[]),this._typesThatExplicitlyImplementThisType},u.prototype.hasBase=function(t,i){var u,f,r;if((typeof i=="undefined"&&(i=[]),this===t||this.getRootSymbol()===t||this===t.getRootSymbol())||n.ArrayUtilities.contains(i,this))return!0;for(i.push(this),u=this.getExtendedTypes(),r=0;r<u.length;r++)if(u[r].hasBase(t,i))return!0;for(f=this.getImplementedTypes(),r=0;r<f.length;r++)if(f[r].hasBase(t,i))return!0;return i.pop(),!1},u.prototype.isValidBaseKind=function(n,t){if(n.isError())return!1;var i=this.isClass();if(t){if(i)return n.kind===8}else if(!i)return!1;return!!(n.kind&24)},u.prototype.findMember=function(n,t){var i=null,r;if(this._memberNameCache&&(i=this._memberNameCache[n]),i||!t)return i;if(this._extendedTypes)for(r=0;r<this._extendedTypes.length;r++)if(i=this._extendedTypes[r].findMember(n,t),i)return i;return null},u.prototype.findNestedType=function(t,i){typeof i=="undefined"&&(i=0);var r;return this._enclosedTypeNameCache?(r=this._enclosedTypeNameCache[t],r&&i!==0&&(r=n.hasFlag(r.kind,i)?r:null),r):null},u.prototype.findNestedContainer=function(t,i){typeof i=="undefined"&&(i=0);var r;return this._enclosedContainerCache?(r=this._enclosedContainerCache[t],r&&i!==0&&(r=n.hasFlag(r.kind,i)?r:null),r):null},u.prototype.getAllMembers=function(t,i){var u=[],e,c,f,s,o,l,h,r;if(this._members!==n.sentinelEmptyArray)for(r=0,f=this._members.length;r<f;r++)e=this._members[r],e.kind&t&&(i!==2||!e.anyDeclHasFlag(2))&&(u[u.length]=e);if(this._extendedTypes)for(c=i!==0?2:0,r=0,f=this._extendedTypes.length;r<f;r++)for(s=this._extendedTypes[r].getAllMembers(t,c),o=0,l=s.length;o<l;o++)h=s[o],this._memberNameCache&&this._memberNameCache[h.name]||(u[u.length]=h);if(this.isContainer()){if(this._enclosedMemberTypes)for(r=0;r<this._enclosedMemberTypes.length;r++)u[u.length]=this._enclosedMemberTypes[r];if(this._enclosedMemberContainers)for(r=0;r<this._enclosedMemberContainers.length;r++)u[u.length]=this._enclosedMemberContainers[r]}return u},u.prototype.findTypeParameter=function(n){return this._typeParameterNameCache?this._typeParameterNameCache[n]:null},u.prototype.setResolved=function(){r.prototype.setResolved.call(this)},u.prototype.getNamePartForFullName=function(){var n=r.prototype.getNamePartForFullName.call(this),i=this.getTypeArgumentsOrTypeParameters(),u=t.getTypeParameterString(i,this,!0);return n+u},u.prototype.getScopedName=function(n,t,i,r){return this.getScopedNameEx(n,t,i,!1,!1,r).toString()},u.prototype.isNamedTypeSymbol=function(){var n=this.kind;return n===2||n===8||n===4||n===32||n===128||n===64||n===8192||(n===16||n===8388608)&&this.name!==""?!0:!1},u.prototype.toString=function(n,t){return this.getScopedNameEx(n,!1,t).toString()},u.prototype.getScopedNameEx=function(i,u,f,e,o,s,h){var c,a,l,v;return(typeof h=="undefined"&&(h=!0),this.isArrayNamedTypeReference()&&h)?(c=this.getElementType(),a=c?c.isArrayNamedTypeReference()||c.isNamedTypeSymbol()?c.getScopedNameEx(i,!1,!1,e,o,s):c.getMemberTypeNameEx(!1,i,e):n.MemberName.create("any"),n.MemberName.create(a,"","[]")):this.isNamedTypeSymbol()?u?n.MemberName.create(r.prototype.getScopedName.call(this,i,u,f,s)):(l=new n.MemberNameArray,l.prefix=r.prototype.getScopedName.call(this,i,u,f,s),v=this.getTypeArgumentsOrTypeParameters(),l.add(t.getTypeParameterStringEx(v,i,o,f)),l):this.getMemberTypeNameEx(!0,i,e)},u.prototype.hasOnlyOverloadCallSignatures=function(){var n=this.getMembers(),t=this.getCallSignatures(),i=this.getConstructSignatures();return n.length===0&&i.length===0&&t.length>1},u.prototype.getTypeOfSymbol=function(){var i=this.getAssociatedContainerType(),t;return i&&i.isNamedTypeSymbol()?i:(t=this.getFunctionSymbol(),t&&t.kind===16384&&!n.PullHelpers.isSymbolLocal(t))?n.PullHelpers.isExportedSymbolInClodule(t)?null:t:null},u.prototype.getMemberTypeNameEx=function(t,r,u){var o=this.getMembers(),l=this.getCallSignatures(),a=this.getConstructSignatures(),h=this.getIndexSignatures(),y,b,e,c;if(o.length>0||l.length>0||a.length>0||h.length>0){if(y=this.getTypeOfSymbol(),y)return b=y.getScopedNameEx(r,!0),n.MemberName.create(b,"typeof ","");if(this._inMemberTypeNameEx)return n.MemberName.create("any");this._inMemberTypeNameEx=!0;var f=new n.MemberNameArray,v=!t||h.length!==0,p="; ";for(e=0;e<o.length;e++){if(o[e].kind===65536&&o[e].type.hasOnlyOverloadCallSignatures()){var g=o[e].type.getCallSignatures(),nt=o[e].getDisplayName(r)+(o[e].isOptional?"?":""),tt=i.getSignaturesTypeNameEx(g,nt,!1,!1,r);f.addAll(tt)}else c=o[e].getNameAndTypeNameEx(r),c.isArray()&&c.delim===p?f.addAll(c.entries):f.add(c);v=!0}var k=u&&!v&&this.hasOnlyOverloadCallSignatures(),d=l.length+a.length+h.length,w=!v&&d===1,s;return l.length>0&&(s=i.getSignaturesTypeNameEx(l,"",w,!1,r,k),f.addAll(s)),a.length>0&&(s=i.getSignaturesTypeNameEx(a,"new",w,!1,r),f.addAll(s)),h.length>0&&(s=i.getSignaturesTypeNameEx(h,"",w,!0,r),f.addAll(s)),v||!k&&d>1&&t?(f.prefix="{ ",f.suffix="}",f.delim=p):f.entries.length>1&&(f.delim=p),this._inMemberTypeNameEx=!1,f}return n.MemberName.create("{}")},u.prototype.getGenerativeTypeClassification=function(){return 2},u.prototype.wrapsSomeTypeParameter=function(n,t){return this.getWrappingTypeParameterID(n,t)!=0},u.prototype.getWrappingTypeParameterID=function(t,i){var u=this,f,r;return u.isTypeParameter()?t[u.pullSymbolID]||t[u.getRootSymbol().pullSymbolID]?u.pullSymbolID:(f=u.getConstraint(),r=f?f.getWrappingTypeParameterID(t):0,r):u.inWrapCheck?0:(this._wrapsTypeParameterCache=this._wrapsTypeParameterCache||new n.WrapsTypeParameterCache,r=this._wrapsTypeParameterCache.getWrapsTypeParameter(t),r===undefined&&(r=this.getWrappingTypeParameterIDWorker(t,i),this._wrapsTypeParameterCache.setWrapsTypeParameter(t,r)),r)},u.prototype.getWrappingTypeParameterIDFromSignatures=function(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i].getWrappingTypeParameterID(t),r!==0)return r;return 0},u.prototype.getWrappingTypeParameterIDWorker=function(t,i){var r=this,f=0,e,o,u;if(!i&&(r.inWrapCheck=!0,e=r.getTypeArguments(),r.isGeneric()&&!e&&(e=r.getTypeParameters()),e))for(u=0;!f&&u<e.length;u++)f=e[u].getWrappingTypeParameterID(t);if(i||!(r.kind&8216)||!r.name){for(o=r.getAllMembers(68147712,0),u=0;!f&&u<o.length;u++)n.PullHelpers.resolveDeclaredSymbolToUseType(o[u]),f=o[u].type.getWrappingTypeParameterID(t);f=f||this.getWrappingTypeParameterIDFromSignatures(r.getCallSignatures(),t)||this.getWrappingTypeParameterIDFromSignatures(r.getConstructSignatures(),t)||this.getWrappingTypeParameterIDFromSignatures(r.getIndexSignatures(),t)}return i||(r.inWrapCheck=!1),f},u.prototype.wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference=function(t){n.Debug.assert(this.isNamedTypeSymbol());n.Debug.assert(n.PullHelpers.getRootType(t)==t);var i=n.BitMatrix.getBitMatrix(!0),r=this._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceRecurse(t,i);return i.release(),r},u.prototype._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceRecurse=function(n,t){var i=t.valueAt(this.pullSymbolID,n.pullSymbolID);return i!=undefined?i:this.inWrapInfiniteExpandingReferenceCheck?!1:(this.inWrapInfiniteExpandingReferenceCheck=!0,i=this._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceWorker(n,t),t.setValueAt(this.pullSymbolID,n.pullSymbolID,i),this.inWrapInfiniteExpandingReferenceCheck=!1,i)},u.prototype._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceWorker=function(t,i){var u=n.PullHelpers.getRootType(this),e,o,s,f,r;if(u!=t){if(e=this.isNamedTypeSymbol(),e){if(u.inWrapInfiniteExpandingReferenceCheck)return!1;u.inWrapInfiniteExpandingReferenceCheck=!0}return o=this._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceStructure(t,i),e&&(u.inWrapInfiniteExpandingReferenceCheck=!1),o}for(s=t.getTypeParameters(),f=this.getTypeArguments(),r=0;r<f.length;r++)if(!n.ArrayUtilities.contains(s,f[r])&&f[r].wrapsSomeTypeParameter(this.getTypeParameterArgumentMap()))return!0;return!1},u.prototype._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceStructure=function(n,t){for(var r,u=this.getAllMembers(68147712,0),i=0;i<u.length;i++)if(u[i].type&&u[i].type._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReferenceRecurse(n,t))return!0;for(r=this.getCallSignatures(),i=0;i<r.length;i++)if(r[i]._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference(n,t))return!0;for(r=this.getConstructSignatures(),i=0;i<r.length;i++)if(r[i]._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference(n,t))return!0;for(r=this.getIndexSignatures(),i=0;i<r.length;i++)if(r[i]._wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference(n,t))return!0;return!1},u.prototype.widenedType=function(n,t,i){return this._widenedType||(this._widenedType=n.widenType(this,t,i)),this._widenedType},u}(t);n.PullTypeSymbol=r;o=function(n){function t(t){n.call(this,t,2);this.isResolved=!0}return __extends(t,n),t.prototype.isAny=function(){return!this.isStringConstant()&&this.name==="any"},t.prototype.isNull=function(){return!this.isStringConstant()&&this.name==="null"},t.prototype.isUndefined=function(){return!this.isStringConstant()&&this.name==="undefined"},t.prototype.isStringConstant=function(){return!1},t.prototype.setUnresolved=function(){},t.prototype.getDisplayName=function(){return this.isNull()||this.isUndefined()?"any":n.prototype.getDisplayName.call(this)},t}(r);n.PullPrimitiveTypeSymbol=o;s=function(n){function t(t){n.call(this,t)}return __extends(t,n),t.prototype.isStringConstant=function(){return!0},t}(o);n.PullStringConstantTypeSymbol=s;h=function(t){function i(i,r){t.call(this,r);this._anyType=i;n.Debug.assert(this._anyType);this.isResolved=!0}return __extends(i,t),i.prototype.isError=function(){return!0},i.prototype._getResolver=function(){return this._anyType._getResolver()},i.prototype.getName=function(n,t){return this._anyType.getName(n,t)},i.prototype.getDisplayName=function(n,t){return this._anyType.getName(n,t)},i.prototype.toString=function(n,t){return this._anyType.getName(n,t)},i}(o);n.PullErrorTypeSymbol=h;u=function(n){function t(t,i){n.call(this,t,i);this.instanceSymbol=null;this.assignedValue=null;this.assignedType=null;this.assignedContainer=null}return __extends(t,n),t.prototype.isContainer=function(){return!0},t.prototype.setInstanceSymbol=function(n){this.instanceSymbol=n},t.prototype.getInstanceSymbol=function(){return this.instanceSymbol},t.prototype.setExportAssignedValueSymbol=function(n){this.assignedValue=n},t.prototype.getExportAssignedValueSymbol=function(){return this.assignedValue},t.prototype.setExportAssignedTypeSymbol=function(n){this.assignedType=n},t.prototype.getExportAssignedTypeSymbol=function(){return this.assignedType},t.prototype.setExportAssignedContainerSymbol=function(n){this.assignedContainer=n},t.prototype.getExportAssignedContainerSymbol=function(){return this.assignedContainer},t.prototype.hasExportAssignment=function(){return!!this.assignedValue||!!this.assignedType||!!this.assignedContainer},t.usedAsSymbol=function(n,i){if(!n||!n.isContainer())return!1;if(!n.isAlias()&&n.type===i)return!0;var r=n,f=r.getExportAssignedValueSymbol(),e=r.getExportAssignedTypeSymbol(),u=r.getExportAssignedContainerSymbol();return f||e||u?f===i||e==i||u==i||t.usedAsSymbol(u,i):!1},t.prototype.getInstanceType=function(){return this.instanceSymbol?this.instanceSymbol.type:null},t}(r);n.PullContainerSymbol=u;c=function(t){function i(n){t.call(this,n,128);this._assignedValue=null;this._assignedType=null;this._assignedContainer=null;this._isUsedAsValue=!1;this._typeUsedExternally=!1;this._isUsedInExportAlias=!1;this.retrievingExportAssignment=!1;this.linkedAliasSymbols=null}return __extends(i,t),i.prototype.isUsedInExportedAlias=function(){return this._resolveDeclaredSymbol(),this._isUsedInExportAlias},i.prototype.typeUsedExternally=function(){return this._resolveDeclaredSymbol(),this._typeUsedExternally},i.prototype.isUsedAsValue=function(){return this._resolveDeclaredSymbol(),this._isUsedAsValue},i.prototype.setTypeUsedExternally=function(){this._typeUsedExternally=!0},i.prototype.setIsUsedInExportedAlias=function(){this._isUsedInExportAlias=!0;this.linkedAliasSymbols&&this.linkedAliasSymbols.forEach(function(n){return n.setIsUsedInExportedAlias()})},i.prototype.addLinkedAliasSymbol=function(n){this.linkedAliasSymbols?this.linkedAliasSymbols.push(n):this.linkedAliasSymbols=[n]},i.prototype.setIsUsedAsValue=function(){this._isUsedAsValue=!0;this.linkedAliasSymbols&&this.linkedAliasSymbols.forEach(function(n){return n.setIsUsedAsValue()})},i.prototype.assignedValue=function(){return this._resolveDeclaredSymbol(),this._assignedValue},i.prototype.assignedType=function(){return this._resolveDeclaredSymbol(),this._assignedType},i.prototype.assignedContainer=function(){return this._resolveDeclaredSymbol(),this._assignedContainer},i.prototype.isAlias=function(){return!0},i.prototype.isContainer=function(){return!0},i.prototype.setAssignedValueSymbol=function(n){this._assignedValue=n},i.prototype.getExportAssignedValueSymbol=function(){if(this._assignedValue)return this._assignedValue;if(this.retrievingExportAssignment)return null;if(this._assignedContainer){this.retrievingExportAssignment=!0;var n=this._assignedContainer.getExportAssignedValueSymbol();return this.retrievingExportAssignment=!1,n}return null},i.prototype.setAssignedTypeSymbol=function(n){this._assignedType=n},i.prototype.getExportAssignedTypeSymbol=function(){var n;if(this.retrievingExportAssignment)return null;if(this._assignedType)if(this._assignedType.isAlias())this.retrievingExportAssignment=!0,n=this._assignedType.getExportAssignedTypeSymbol(),this.retrievingExportAssignment=!1;else if(this._assignedType!==this._assignedContainer)return this._assignedType;return this._assignedContainer&&(this.retrievingExportAssignment=!0,n=this._assignedContainer.getExportAssignedTypeSymbol(),this.retrievingExportAssignment=!1,n)?n:this._assignedContainer},i.prototype.setAssignedContainerSymbol=function(n){this._assignedContainer=n},i.prototype.getExportAssignedContainerSymbol=function(){if(this.retrievingExportAssignment)return null;if(this._assignedContainer){this.retrievingExportAssignment=!0;var n=this._assignedContainer.getExportAssignedContainerSymbol();if(this.retrievingExportAssignment=!1,n)return n}return this._assignedContainer},i.prototype.getMembers=function(){return this._assignedType?this._assignedType.getMembers():n.sentinelEmptyArray},i.prototype.getCallSignatures=function(){return this._assignedType?this._assignedType.getCallSignatures():n.sentinelEmptyArray},i.prototype.getConstructSignatures=function(){return this._assignedType?this._assignedType.getConstructSignatures():n.sentinelEmptyArray},i.prototype.getIndexSignatures=function(){return this._assignedType?this._assignedType.getIndexSignatures():n.sentinelEmptyArray},i.prototype.findMember=function(n){return this._assignedType?this._assignedType.findMember(n,!0):null},i.prototype.findNestedType=function(n){return this._assignedType?this._assignedType.findNestedType(n):null},i.prototype.findNestedContainer=function(n){return this._assignedType?this._assignedType.findNestedContainer(n):null},i.prototype.getAllMembers=function(t,i){return this._assignedType?this._assignedType.getAllMembers(t,i):n.sentinelEmptyArray},i}(r);n.PullTypeAliasSymbol=c;l=function(t){function i(n){t.call(this,n,8192);this._constraint=null}return __extends(i,t),i.prototype.isTypeParameter=function(){return!0},i.prototype.setConstraint=function(n){this._constraint=n},i.prototype.getConstraint=function(){return this._constraint},i.prototype.getBaseConstraint=function(t){var i=this.getConstraintRecursively({});return n.Debug.assert(i===null||!i.isTypeParameter()),i||t.emptyTypeSymbol},i.prototype.getConstraintRecursively=function(n){var i=this.getConstraint(),t;if(i)if(i.isTypeParameter()){if(t=i,!n[t.pullSymbolID])return n[t.pullSymbolID]=t,t.getConstraintRecursively(n)}else return i;return null},i.prototype.getDefaultConstraint=function(n){return this._constraint||n.emptyTypeSymbol},i.prototype.getCallSignatures=function(){return this._constraint?this._constraint.getCallSignatures():t.prototype.getCallSignatures.call(this)},i.prototype.getConstructSignatures=function(){return this._constraint?this._constraint.getConstructSignatures():t.prototype.getConstructSignatures.call(this)},i.prototype.getIndexSignatures=function(){return this._constraint?this._constraint.getIndexSignatures():t.prototype.getIndexSignatures.call(this)},i.prototype.isGeneric=function(){return!0},i.prototype.fullName=function(n){var t=this.getDisplayName(n),i=this.getContainer(),r;return i&&(r=i.fullName(n),t=t+" in "+r),t},i.prototype.getName=function(n,i){var r=t.prototype.getName.call(this,n);return this.isPrinting?r:(this.isPrinting=!0,i&&this._constraint&&(r+=" extends "+this._constraint.toString(n)),this.isPrinting=!1,r)},i.prototype.getDisplayName=function(n,i,r){var u=t.prototype.getDisplayName.call(this,n,i,r);return this.isPrinting?u:(this.isPrinting=!0,i&&this._constraint&&(u+=" extends "+this._constraint.toString(n)),this.isPrinting=!1,u)},i.prototype.isExternallyVisible=function(){return!0},i}(r);n.PullTypeParameterSymbol=l;a=function(n){function t(t){n.call(this,t,4096);this._getterSymbol=null;this._setterSymbol=null}return __extends(t,n),t.prototype.isAccessor=function(){return!0},t.prototype.setSetter=function(n){n&&(this._setterSymbol=n)},t.prototype.getSetter=function(){return this._setterSymbol},t.prototype.setGetter=function(n){n&&(this._getterSymbol=n)},t.prototype.getGetter=function(){return this._getterSymbol},t}(t);n.PullAccessorSymbol=a;n.getIDForTypeSubstitutions=f;v=function(){function n(){this.structure=""}return n.prototype.memberSymbolWalk=function(n){return this.structure+=n.name+"@"+e(n.type),!0},n.prototype.callSignatureWalk=function(){return this.structure+="(",!0},n.prototype.constructSignatureWalk=function(){return this.structure+="new(",!0},n.prototype.indexSignatureWalk=function(){return this.structure+="[](",!0},n.prototype.signatureParameterWalk=function(n){return this.structure+=n.name+"@"+e(n.type),!0},n.prototype.signatureReturnTypeWalk=function(n){return this.structure+=")"+e(n),!0},n}(),function(n){n[n.all=0]="all";n[n.internallyVisible=1]="internallyVisible";n[n.externallyVisible=2]="externallyVisible"}(n.GetAllMembersVisiblity||(n.GetAllMembersVisiblity={}));p=n.GetAllMembersVisiblity}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){this.currentSymbols=null}return t.prototype.getEnclosingType=function(){return this.currentSymbols&&this.currentSymbols.length>0?this.currentSymbols[0]:null},t.prototype._canWalkStructure=function(){var n=this.getEnclosingType();return!!n&&n.isGeneric()},t.prototype._getCurrentSymbol=function(){return this.currentSymbols&&this.currentSymbols.length?this.currentSymbols[this.currentSymbols.length-1]:null},t.prototype.getGenerativeClassification=function(){var n,t;return this._canWalkStructure()?(n=this.currentSymbols[this.currentSymbols.length-1],!n)?0:(t=this.getEnclosingType(),n.getGenerativeTypeClassification(t)):2},t.prototype._pushSymbol=function(n){return this.currentSymbols.push(n)},t.prototype._popSymbol=function(){return this.currentSymbols.pop()},t.prototype._setEnclosingTypeOfParentDecl=function(n,t){var r=n.getParentDecl(),i,u;r&&(r.kind&8216?this._setEnclosingTypeWorker(r.getSymbol(),!0):this._setEnclosingTypeOfParentDecl(r,!0),this._canWalkStructure()&&(i=n.getSymbol(),i&&((i.kind==2048||i.kind==4096||i.kind==65536||i.kind==32768||i.kind==131072)&&(i=i.type),this._pushSymbol(i)),t&&(u=n.getSignatureSymbol(),u&&this._pushSymbol(u))))},t.prototype._setEnclosingTypeWorker=function(t,i){var u,r,f;if(t.isType()&&t.isNamedTypeSymbol()){this.currentSymbols=[n.PullHelpers.getRootType(t)];return}for(u=t.getDeclarations(),r=0;r<u.length;r++)if(f=u[r],this._setEnclosingTypeOfParentDecl(f,i),this._canWalkStructure())return},t.prototype.setCurrentSymbol=function(t){n.Debug.assert(this._canWalkStructure());this.currentSymbols[this.currentSymbols.length-1]=t},t.prototype.startWalkingType=function(n){var t=this.currentSymbols,i=!this.getEnclosingType()||n.isNamedTypeSymbol();return i&&(this.currentSymbols=null,this.setEnclosingType(n)),t},t.prototype.endWalkingType=function(n){this.currentSymbols=n},t.prototype.setEnclosingType=function(t){n.Debug.assert(!this.getEnclosingType());this._setEnclosingTypeWorker(t,t.isSignature())},t.prototype.walkMemberType=function(n,t){if(this._canWalkStructure()){var i=this._getCurrentSymbol(),r=i?t._getNamedPropertySymbolOfAugmentedType(n,i):null;this._pushSymbol(r?r.type:null)}},t.prototype.postWalkMemberType=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.walkSignature=function(n,t){if(this._canWalkStructure()){var i=this._getCurrentSymbol(),r;i&&(r=n==1048576?i.getCallSignatures():n==2097152?i.getConstructSignatures():i.getIndexSignatures());this._pushSymbol(r?r[t]:null)}},t.prototype.postWalkSignature=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.walkTypeArgument=function(n){var t,i,r;this._canWalkStructure()&&(t=null,i=this._getCurrentSymbol(),i&&(r=i.getTypeArguments(),t=r?r[n]:null),this._pushSymbol(t))},t.prototype.postWalkTypeArgument=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.walkTypeParameterConstraint=function(t){if(this._canWalkStructure()){var r,i=this._getCurrentSymbol();i&&(i.isSignature()?r=i.getTypeParameters():(n.Debug.assert(i.isType()),r=i.getTypeParameters()));this._pushSymbol(r?r[t].getConstraint():null)}},t.prototype.postWalkTypeParameterConstraint=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.walkReturnType=function(){if(this._canWalkStructure()){var n=this._getCurrentSymbol();this._pushSymbol(n?n.returnType:null)}},t.prototype.postWalkReturnType=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.walkParameterType=function(n){if(this._canWalkStructure()){var t=this._getCurrentSymbol();this._pushSymbol(t?t.getParameterTypeAtIndex(n):null)}},t.prototype.postWalkParameterType=function(){this._canWalkStructure()&&this._popSymbol()},t.prototype.getBothKindOfIndexSignatures=function(n,t,i){if(this._canWalkStructure()){var r=this._getCurrentSymbol();if(r)return n._getBothKindsOfIndexSignatures(r,t,i)}return null},t.prototype.walkIndexSignatureReturnType=function(n,t,i){if(this._canWalkStructure()){var r=n?t?n.stringSignature:n.numericSignature:null;this._pushSymbol(r);i||this._pushSymbol(r?r.returnType:null)}},t.prototype.postWalkIndexSignatureReturnType=function(n){this._canWalkStructure()&&(n||this._popSymbol(),this._popSymbol())},t}();n.PullTypeEnclosingTypeWalker=t}(TypeScript||(TypeScript={})),function(n){var r=function(){function t(){this.typeParameter=null;this._inferredTypeAfterFixing=null;this.inferenceCandidates=[]}return t.prototype.addCandidate=function(n){this._inferredTypeAfterFixing||(this.inferenceCandidates[this.inferenceCandidates.length]=n)},t.prototype.isFixed=function(){return!!this._inferredTypeAfterFixing},t.prototype.fixTypeParameter=function(t,i){var r=this,u,f;this._inferredTypeAfterFixing||(u={getLength:function(){return r.inferenceCandidates.length},getTypeAtIndex:function(n){return r.inferenceCandidates[n].type}},f=t.findBestCommonType(u,i,new n.TypeComparisonInfo),this._inferredTypeAfterFixing=f.widenedType(t,null,i))},t}(),t,u,f,i,e;n.CandidateInferenceInfo=r;t=function(){function t(t,i,r){var f,u;for(this.resolver=t,this.context=i,this.signatureBeingInferred=r,this.inferenceCache=n.BitMatrix.getBitMatrix(!1),this.candidateCache=[],f=r.getTypeParameters(),u=0;u<f.length;u++)this.addInferenceRoot(f[u])}return t.prototype.alreadyRelatingTypes=function(n,t){return this.inferenceCache.valueAt(n.pullSymbolID,t.pullSymbolID)?!0:(this.inferenceCache.setValueAt(n.pullSymbolID,t.pullSymbolID,!0),!1)},t.prototype.resetRelationshipCache=function(){this.inferenceCache.release();this.inferenceCache=n.BitMatrix.getBitMatrix(!1)},t.prototype.addInferenceRoot=function(n){var t=this.candidateCache[n.pullSymbolID];t||(t=new r,t.typeParameter=n,this.candidateCache[n.pullSymbolID]=t)},t.prototype.getInferenceInfo=function(n){return this.candidateCache[n.pullSymbolID]},t.prototype.addCandidateForInference=function(n,t){var i=this.getInferenceInfo(n);i&&t&&i.inferenceCandidates.indexOf(t)<0&&i.addCandidate(t)},t.prototype.inferTypeArguments=function(){throw n.Errors.abstract();},t.prototype.fixTypeParameter=function(n){var t=this.candidateCache[n.pullSymbolID];t&&t.fixTypeParameter(this.resolver,this.context)},t.prototype._finalizeInferredTypeArguments=function(){for(var i,t=[],r=this.signatureBeingInferred.getTypeParameters(),n=0;n<r.length;n++){for(i=this.candidateCache[r[n].pullSymbolID],i.fixTypeParameter(this.resolver,this.context),n=0;n<t.length;n++)t[n].type===i.typeParameter&&(t[n].type=i._inferredTypeAfterFixing);t.push(i._inferredTypeAfterFixing)}return t},t.prototype.isInvocationInferenceContext=function(){throw n.Errors.abstract();},t}();n.TypeArgumentInferenceContext=t;u=function(n){function t(t,i,r,u){n.call(this,t,i,r);this.argumentASTs=u}return __extends(t,n),t.prototype.isInvocationInferenceContext=function(){return!0},t.prototype.inferTypeArguments=function(){var n=this;return this.signatureBeingInferred.forAllParameterTypes(this.argumentASTs.nonSeparatorCount(),function(t,i){var u=n.argumentASTs.nonSeparatorAt(i),r;return n.context.pushInferentialType(t,n),r=n.resolver.resolveAST(u,!0,n.context).type,n.resolver.relateTypeToTypeParametersWithNewEnclosingTypes(r,t,n,n.context),n.context.popAnyContextualType(),!0}),this._finalizeInferredTypeArguments()},t}(t);n.InvocationTypeArgumentInferenceContext=u;f=function(n){function t(t,i,r,u,f){n.call(this,t,i,r);this.contextualSignature=u;this.shouldFixContextualSignatureParameterTypes=f}return __extends(t,n),t.prototype.isInvocationInferenceContext=function(){return!1},t.prototype.inferTypeArguments=function(){var n=this,t=function(t,i){return n.shouldFixContextualSignatureParameterTypes&&(i=n.context.fixAllTypeParametersReferencedByType(i,n.resolver,n)),n.resolver.relateTypeToTypeParametersWithNewEnclosingTypes(i,t,n,n.context),!0};return this.signatureBeingInferred.forAllCorrespondingParameterTypesInThisAndOtherSignature(this.contextualSignature,t),this._finalizeInferredTypeArguments()},t}(t);n.ContextualSignatureInstantiationTypeArgumentInferenceContext=f;i=function(){function n(n,t,i,r){this.contextualType=n;this.provisional=t;this.isInferentiallyTyping=i;this.typeArgumentInferenceContext=r;this.provisionallyTypedSymbols=[];this.hasProvisionalErrors=!1;this.astSymbolMap=[]}return n.prototype.recordProvisionallyTypedSymbol=function(n){this.provisionallyTypedSymbols[this.provisionallyTypedSymbols.length]=n},n.prototype.invalidateProvisionallyTypedSymbols=function(){for(var n=0;n<this.provisionallyTypedSymbols.length;n++)this.provisionallyTypedSymbols[n].setUnresolved()},n.prototype.setSymbolForAST=function(n,t){this.astSymbolMap[n.syntaxID()]=t},n.prototype.getSymbolForAST=function(n){return this.astSymbolMap[n.syntaxID()]},n}();n.PullContextualTypeContext=i;e=function(){function t(t,i,r){typeof i=="undefined"&&(i=!1);typeof r=="undefined"&&(r=null);this.resolver=t;this.inTypeCheck=i;this.fileName=r;this.contextStack=[];this.typeCheckedNodes=null;this.enclosingTypeWalker1=null;this.enclosingTypeWalker2=null;this.inBaseTypeResolution=!1;i&&(n.Debug.assert(r,"A file name must be provided if you are typechecking"),this.typeCheckedNodes=n.BitVector.getBitVector(!1))}return t.prototype.setTypeChecked=function(n){this.inProvisionalResolution()||this.typeCheckedNodes.setValueAt(n.syntaxID(),!0)},t.prototype.canTypeCheckAST=function(n){return this.typeCheck()&&!this.typeCheckedNodes.valueAt(n.syntaxID())&&this.fileName===n.fileName()},t.prototype._pushAnyContextualType=function(n,t,r,u){this.contextStack.push(new i(n,t,r,u))},t.prototype.pushNewContextualType=function(n){this._pushAnyContextualType(n,this.inProvisionalResolution(),!1,null)},t.prototype.propagateContextualType=function(n){this._pushAnyContextualType(n,this.inProvisionalResolution(),this.isInferentiallyTyping(),this.getCurrentTypeArgumentInferenceContext())},t.prototype.pushInferentialType=function(n,t){this._pushAnyContextualType(n,!0,!0,t)},t.prototype.pushProvisionalType=function(n){this._pushAnyContextualType(n,!0,!1,null)},t.prototype.popAnyContextualType=function(){var n=this.contextStack.pop();return n.invalidateProvisionallyTypedSymbols(),n.hasProvisionalErrors&&this.inProvisionalResolution()&&(this.contextStack[this.contextStack.length-1].hasProvisionalErrors=!0),n},t.prototype.hasProvisionalErrors=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].hasProvisionalErrors:!1},t.prototype.getContextualType=function(){var t=this.contextStack.length?this.contextStack[this.contextStack.length-1]:null,n;return t?(n=t.contextualType,!n)?null:n:null},t.prototype.fixAllTypeParametersReferencedByType=function(t,i,r){var r=this.getCurrentTypeArgumentInferenceContext(),e,f,u,o;if(t.wrapsSomeTypeParameter(r.candidateCache)){e=[];for(f in r.candidateCache)u=r.candidateCache[f]&&r.candidateCache[f].typeParameter,u&&(o=[],o[u.pullSymbolID]=u,t.wrapsSomeTypeParameter(o)&&(r.fixTypeParameter(u),n.Debug.assert(r.candidateCache[f]._inferredTypeAfterFixing),e[u.pullSymbolID]=r.candidateCache[f]._inferredTypeAfterFixing));return i.instantiateType(t,e)}return t},t.prototype.getCurrentTypeArgumentInferenceContext=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].typeArgumentInferenceContext:null},t.prototype.isInferentiallyTyping=function(){return this.contextStack.length>0&&this.contextStack[this.contextStack.length-1].isInferentiallyTyping},t.prototype.inProvisionalResolution=function(){return this.contextStack.length?this.contextStack[this.contextStack.length-1].provisional:!1},t.prototype.isInBaseTypeResolution=function(){return this.inBaseTypeResolution},t.prototype.startBaseTypeResolution=function(){var n=this.inBaseTypeResolution;return this.inBaseTypeResolution=!0,n},t.prototype.doneBaseTypeResolution=function(n){this.inBaseTypeResolution=n},t.prototype.setTypeInContext=function(n,t){n.type&&n.type.isError()&&!t.isError()||(n.type=t,this.contextStack.length&&this.inProvisionalResolution()&&this.contextStack[this.contextStack.length-1].recordProvisionallyTypedSymbol(n))},t.prototype.postDiagnostic=function(n){n&&(this.inProvisionalResolution()?this.contextStack[this.contextStack.length-1].hasProvisionalErrors=!0:this.inTypeCheck&&this.resolver&&this.resolver.semanticInfoChain.addDiagnostic(n))},t.prototype.typeCheck=function(){return this.inTypeCheck&&!this.inProvisionalResolution()},t.prototype.setSymbolForAST=function(n,t){this.contextStack[this.contextStack.length-1].setSymbolForAST(n,t)},t.prototype.getSymbolForAST=function(n){for(var i,r,t=this.contextStack.length-1;t>=0;t--){if(i=this.contextStack[t],!i.provisional)break;if(r=i.getSymbolForAST(n),r)return r}return null},t.prototype.startWalkingTypes=function(t,i){var r,u;return this.enclosingTypeWalker1||(this.enclosingTypeWalker1=new n.PullTypeEnclosingTypeWalker),r=this.enclosingTypeWalker1.startWalkingType(t),this.enclosingTypeWalker2||(this.enclosingTypeWalker2=new n.PullTypeEnclosingTypeWalker),u=this.enclosingTypeWalker2.startWalkingType(i),{symbolsWhenStartedWalkingTypes1:r,symbolsWhenStartedWalkingTypes2:u}},t.prototype.endWalkingTypes=function(n){this.enclosingTypeWalker1.endWalkingType(n.symbolsWhenStartedWalkingTypes1);this.enclosingTypeWalker2.endWalkingType(n.symbolsWhenStartedWalkingTypes2)},t.prototype.setEnclosingTypes=function(t,i){this.enclosingTypeWalker1||(this.enclosingTypeWalker1=new n.PullTypeEnclosingTypeWalker);this.enclosingTypeWalker1.setEnclosingType(t);this.enclosingTypeWalker2||(this.enclosingTypeWalker2=new n.PullTypeEnclosingTypeWalker);this.enclosingTypeWalker2.setEnclosingType(i)},t.prototype.walkMemberTypes=function(n){this.enclosingTypeWalker1.walkMemberType(n,this.resolver);this.enclosingTypeWalker2.walkMemberType(n,this.resolver)},t.prototype.postWalkMemberTypes=function(){this.enclosingTypeWalker1.postWalkMemberType();this.enclosingTypeWalker2.postWalkMemberType()},t.prototype.walkSignatures=function(n,t,i){this.enclosingTypeWalker1.walkSignature(n,t);this.enclosingTypeWalker2.walkSignature(n,i==undefined?t:i)},t.prototype.postWalkSignatures=function(){this.enclosingTypeWalker1.postWalkSignature();this.enclosingTypeWalker2.postWalkSignature()},t.prototype.walkTypeParameterConstraints=function(n){this.enclosingTypeWalker1.walkTypeParameterConstraint(n);this.enclosingTypeWalker2.walkTypeParameterConstraint(n)},t.prototype.postWalkTypeParameterConstraints=function(){this.enclosingTypeWalker1.postWalkTypeParameterConstraint();this.enclosingTypeWalker2.postWalkTypeParameterConstraint()},t.prototype.walkTypeArgument=function(n){this.enclosingTypeWalker1.walkTypeArgument(n);this.enclosingTypeWalker2.walkTypeArgument(n)},t.prototype.postWalkTypeArgument=function(){this.enclosingTypeWalker1.postWalkTypeArgument();this.enclosingTypeWalker2.postWalkTypeArgument()},t.prototype.walkReturnTypes=function(){this.enclosingTypeWalker1.walkReturnType();this.enclosingTypeWalker2.walkReturnType()},t.prototype.postWalkReturnTypes=function(){this.enclosingTypeWalker1.postWalkReturnType();this.enclosingTypeWalker2.postWalkReturnType()},t.prototype.walkParameterTypes=function(n){this.enclosingTypeWalker1.walkParameterType(n);this.enclosingTypeWalker2.walkParameterType(n)},t.prototype.postWalkParameterTypes=function(){this.enclosingTypeWalker1.postWalkParameterType();this.enclosingTypeWalker2.postWalkParameterType()},t.prototype.getBothKindOfIndexSignatures=function(n,t){var i=this.enclosingTypeWalker1.getBothKindOfIndexSignatures(this.resolver,this,n),r=this.enclosingTypeWalker2.getBothKindOfIndexSignatures(this.resolver,this,t);return{indexSigs1:i,indexSigs2:r}},t.prototype.walkIndexSignatureReturnTypes=function(n,t,i,r){this.enclosingTypeWalker1.walkIndexSignatureReturnType(n.indexSigs1,t,r);this.enclosingTypeWalker2.walkIndexSignatureReturnType(n.indexSigs2,i,r)},t.prototype.postWalkIndexSignatureReturnTypes=function(n){this.enclosingTypeWalker1.postWalkIndexSignatureReturnType(n);this.enclosingTypeWalker2.postWalkIndexSignatureReturnType(n)},t.prototype.swapEnclosingTypeWalkers=function(){var n=this.enclosingTypeWalker1;this.enclosingTypeWalker1=this.enclosingTypeWalker2;this.enclosingTypeWalker2=n},t.prototype.oneOfClassificationsIsInfinitelyExpanding=function(){var t=this.enclosingTypeWalker1.getGenerativeClassification(),n;return t===3?!0:(n=this.enclosingTypeWalker2.getGenerativeClassification(),n===3)?!0:!1},t.prototype.resetEnclosingTypeWalkers=function(){var n=this.enclosingTypeWalker1,t=this.enclosingTypeWalker2;return this.enclosingTypeWalker1=null,this.enclosingTypeWalker2=null,{enclosingTypeWalker1:n,enclosingTypeWalker2:t}},t.prototype.setEnclosingTypeWalkers=function(n){this.enclosingTypeWalker1=n.enclosingTypeWalker1;this.enclosingTypeWalker2=n.enclosingTypeWalker2},t}();n.PullTypeResolutionContext=e}(TypeScript||(TypeScript={})),function(n){function a(n){var t=n.valueText();return u[t]}function h(t){if(t.kind()===11)return{actualText:t.text(),memberName:t.valueText()};if(t.kind()===14)return{actualText:t.text(),memberName:t.valueText()};if(t.kind()===13)return{actualText:t.text(),memberName:t.valueText()};throw n.Errors.invalidOperation();}function i(n){for(var t,i,r,u;n&&n.parent;){switch(n.parent.kind()){case 244:return!0;case 127:return!1;case 125:if(t=n.parent,t.type===n)return!0;break;case 123:if(i=n.parent,i.type===n)return!0;break;case 239:if(r=n.parent,r.type===n)return!0;break;case 220:return u=n.parent,u.type===n;case 230:case 231:return!0;case 228:return!0;case 131:case 128:case 130:case 129:case 145:case 212:case 242:return!1}n=n.parent}return!1}var f,r,e,s,t;(function(n){n[n.NotAssignable=0]="NotAssignable";n[n.AssignableButWithProvisionalErrors=1]="AssignableButWithProvisionalErrors";n[n.AssignableWithNoProvisionalErrors=2]="AssignableWithNoProvisionalErrors";n[n.Subtype=3]="Subtype"})(f||(f={}));r=function(){function n(){this.targetSymbol=null;this.resolvedSignatures=null;this.candidateSignature=null;this.actualParametersContextTypeSymbols=null;this.diagnosticsFromOverloadResolution=[]}return n}();n.PullAdditionalCallResolutionData=r;e=function(){function n(){this.membersContextTypeSymbols=null}return n}();n.PullAdditionalObjectLiteralResolutionData=e;var c=function(){function n(n,t){this.memberSymbol=n;this.baseOrigin=t}return n}(),o=function(){function n(n,t){this.signature=n;this.baseOrigin=t}return n}(),l=function(){function n(){}return n}(),u;(function(n){n[n._this=1]="_this";n[n._super=2]="_super";n[n.arguments=3]="arguments";n[n._i=4]="_i";n[n.require=5]="require";n[n.exports=6]="exports"})(u||(u={}));s=function(){function u(t,i){this.compilationSettings=t;this.semanticInfoChain=i;this._cachedArrayInterfaceType=null;this._cachedNumberInterfaceType=null;this._cachedStringInterfaceType=null;this._cachedBooleanInterfaceType=null;this._cachedObjectInterfaceType=null;this._cachedFunctionInterfaceType=null;this._cachedIArgumentsInterfaceType=null;this._cachedRegExpInterfaceType=null;this._cachedAnyTypeArgs=null;this.typeCheckCallBacks=[];this.postTypeCheckWorkitems=[];this._cachedFunctionArgumentsSymbol=null;this.assignableCache=n.BitMatrix.getBitMatrix(!0);this.subtypeCache=n.BitMatrix.getBitMatrix(!0);this.identicalCache=n.BitMatrix.getBitMatrix(!0);this.inResolvingOtherDeclsWalker=new n.PullHelpers.OtherPullDeclsWalker}return u.prototype.cachedArrayInterfaceType=function(){return this._cachedArrayInterfaceType||(this._cachedArrayInterfaceType=this.getSymbolFromDeclPath("Array",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedArrayInterfaceType.isResolved||this.resolveDeclaredSymbol(this._cachedArrayInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedArrayInterfaceType},u.prototype.getArrayNamedType=function(){return this.cachedArrayInterfaceType()},u.prototype.cachedNumberInterfaceType=function(){return this._cachedNumberInterfaceType||(this._cachedNumberInterfaceType=this.getSymbolFromDeclPath("Number",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedNumberInterfaceType&&!this._cachedNumberInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedNumberInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedNumberInterfaceType},u.prototype.cachedStringInterfaceType=function(){return this._cachedStringInterfaceType||(this._cachedStringInterfaceType=this.getSymbolFromDeclPath("String",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedStringInterfaceType&&!this._cachedStringInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedStringInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedStringInterfaceType},u.prototype.cachedBooleanInterfaceType=function(){return this._cachedBooleanInterfaceType||(this._cachedBooleanInterfaceType=this.getSymbolFromDeclPath("Boolean",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedBooleanInterfaceType&&!this._cachedBooleanInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedBooleanInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedBooleanInterfaceType},u.prototype.cachedObjectInterfaceType=function(){return this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.getSymbolFromDeclPath("Object",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedObjectInterfaceType||(this._cachedObjectInterfaceType=this.semanticInfoChain.anyTypeSymbol),this._cachedObjectInterfaceType.isResolved||this.resolveDeclaredSymbol(this._cachedObjectInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedObjectInterfaceType},u.prototype.cachedFunctionInterfaceType=function(){return this._cachedFunctionInterfaceType||(this._cachedFunctionInterfaceType=this.getSymbolFromDeclPath("Function",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedFunctionInterfaceType&&!this._cachedFunctionInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedFunctionInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedFunctionInterfaceType},u.prototype.cachedIArgumentsInterfaceType=function(){return this._cachedIArgumentsInterfaceType||(this._cachedIArgumentsInterfaceType=this.getSymbolFromDeclPath("IArguments",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedIArgumentsInterfaceType&&!this._cachedIArgumentsInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedIArgumentsInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedIArgumentsInterfaceType},u.prototype.cachedRegExpInterfaceType=function(){return this._cachedRegExpInterfaceType||(this._cachedRegExpInterfaceType=this.getSymbolFromDeclPath("RegExp",[],16)||this.semanticInfoChain.emptyTypeSymbol),this._cachedRegExpInterfaceType&&!this._cachedRegExpInterfaceType.isResolved&&this.resolveDeclaredSymbol(this._cachedRegExpInterfaceType,new n.PullTypeResolutionContext(this)),this._cachedRegExpInterfaceType},u.prototype.cachedFunctionArgumentsSymbol=function(){if(!this._cachedFunctionArgumentsSymbol){this._cachedFunctionArgumentsSymbol=new n.PullSymbol("arguments",512);this._cachedFunctionArgumentsSymbol.type=this.cachedIArgumentsInterfaceType()||this.semanticInfoChain.anyTypeSymbol;this._cachedFunctionArgumentsSymbol.setResolved();var t=new n.PullSynthesizedDecl("arguments","arguments",2048,0,null,this.semanticInfoChain);t.setSymbol(this._cachedFunctionArgumentsSymbol);this._cachedFunctionArgumentsSymbol.addDeclaration(t)}return this._cachedFunctionArgumentsSymbol},u.prototype.getApparentType=function(n){if(n.isTypeParameter()){var t=n.getBaseConstraint(this.semanticInfoChain);if(t===this.semanticInfoChain.anyTypeSymbol)return this.semanticInfoChain.emptyTypeSymbol;n=t}return n.isPrimitive()?n===this.semanticInfoChain.numberTypeSymbol?this.cachedNumberInterfaceType():n===this.semanticInfoChain.booleanTypeSymbol?this.cachedBooleanInterfaceType():n===this.semanticInfoChain.stringTypeSymbol?this.cachedStringInterfaceType():n:n.isEnum()?this.cachedNumberInterfaceType():n},u.prototype.setTypeChecked=function(n,t){t.setTypeChecked(n)},u.prototype.canTypeCheckAST=function(n,t){return t.canTypeCheckAST(n)},u.prototype.setSymbolForAST=function(n,t,i){i&&i.inProvisionalResolution()?i.setSymbolForAST(n,t):this.semanticInfoChain.setSymbolForAST(n,t)},u.prototype.getSymbolForAST=function(n,t){var i=this.semanticInfoChain.getSymbolForAST(n);return i||t&&t.inProvisionalResolution()&&(i=t.getSymbolForAST(n)),i},u.prototype.getASTForDecl=function(n){return this.semanticInfoChain.getASTForDecl(n)},u.prototype.getNewErrorTypeSymbol=function(t){return typeof t=="undefined"&&(t=null),new n.PullErrorTypeSymbol(this.semanticInfoChain.anyTypeSymbol,t)},u.prototype.getEnclosingDecl=function(n){var t=n.getParentPath();return t.length>1&&t[t.length-1]===n?t[t.length-2]:t[t.length-1]},u.prototype.getExportedMemberSymbol=function(n,t){if(!(n.kind&69632)){var i=(t.kind&36)!=0,r=i?t:t.getAssociatedContainerType();if(i&&r)return n.anyDeclHasFlag(1)?n:null}return n},u.prototype._getNamedPropertySymbolOfAugmentedType=function(n,t){var i=this.getNamedPropertySymbol(n,68147712,t);return i?i:this.cachedFunctionInterfaceType()&&t.isFunctionType()&&(i=this.cachedFunctionInterfaceType().findMember(n,!0),i)?i:this.cachedObjectInterfaceType()?this.cachedObjectInterfaceType().findMember(n,!0):null},u.prototype.getNamedPropertySymbol=function(n,t,i){var r=null,o,s,u,e,f,h,c;if(t&68147712?r=i.findMember(n,!0):t&58728795?r=i.findNestedType(n):t&164&&(r=i.findNestedContainer(n)),r)return this.getExportedMemberSymbol(r,i);if(o=i.getAssociatedContainerType(),o){if(o.isClass())return null;if(i=o,t&68147712?r=i.findMember(n,!0):t&58728795?r=i.findNestedType(n):t&164&&(r=i.findNestedContainer(n)),r)return this.getExportedMemberSymbol(r,i)}if(i.kind&164)for(s=i.getDeclarations(),u=null,e=0;e<s.length;e++){if(u=s[e].searchChildDecls(n,t),u.length)return r=u[0].getSymbol(),r||(r=u[0].getSignatureSymbol()),this.getExportedMemberSymbol(r,i);if(((t&58728795)!=0||(t&68147712)!=0)&&(u=s[e].searchChildDecls(n,128),u.length&&u[0].kind===128&&(f=this.getExportedMemberSymbol(u[0].getSymbol(),i),f))){if((t&58728795)!=0){if(h=f.getExportAssignedTypeSymbol(),h)return h}else if(c=f.getExportAssignedValueSymbol(),c)return f.setIsUsedAsValue(),c;return f}}},u.prototype.getSymbolFromDeclPath=function(t,i,r){var d=this,e=null,u=null,o,w=null,h,a=null,v=null,b=null,f=null,k=36,y,p,c,l,s;for(n.hasFlag(r,67108864)&&(k|=64),y=function(t){var i,u,f,e;if(t.isAlias())if(d.resolveDeclaredSymbol(t),n.hasFlag(r,164)){if(t.assignedContainer()||t.getExportAssignedContainerSymbol())return!0}else if(n.hasFlag(r,58728795)){if((i=t.getExportAssignedTypeSymbol(),i&&i.kind!==32)||(i=t.assignedType(),i&&i.kind!==32))return!0}else if(n.hasFlag(r,1038848))return t.assignedType()&&t.assignedType().isError()?!0:t.assignedValue()||t.getExportAssignedValueSymbol()?!0:(u=t.assignedType(),u&&u.isContainer()&&u.getInstanceType())?!0:(f=t.getDeclarations(),e=f[0].ast(),e.moduleReference.kind()===245);return!1},p=function(n){var r=n.searchChildDecls(t,128),i;return r.length&&(i=r[0].getSymbol(),y(i))?i:null},c=i.length-1;c>=0;c--){if(u=i[c],h=u.kind,u.flags&2097152)return this.semanticInfoChain.anyTypeSymbol;if(h&k){if(o=u.searchChildDecls(t,r),o.length)return o[0].getSymbol();if(s=p(u),s)return s;if(r&68147712){if(v=u.getSymbol().getInstanceSymbol(),v&&(b=v.type,f=this.getNamedPropertySymbol(t,r,b),f&&f.kind&r&&!f.anyDeclHasFlag(16)))return f;a=u.getValueDecl();a&&(u=a)}if(w=u.getSymbol().type,f=this.getNamedPropertySymbol(t,r,w),f&&f.kind&r&&!f.anyDeclHasFlag(16))return f}else if(r&58728959||!(h&8)){if(l=null,h===131072&&t===u.getFunctionExpressionName()&&(l=u.getSymbol()),o=u.searchChildDecls(t,r),o.length)return u.kind&1032192&&u.ensureSymbolIsBound(),o[0].getSymbol();if(l)return l;if(s=p(u),s)return s}}return(e=this.semanticInfoChain.findSymbol([t],r),e)?e:!n.hasFlag(r,128)&&(e=this.semanticInfoChain.findSymbol([t],128),e&&y(e))?e:null},u.prototype.getVisibleDeclsFromDeclPath=function(n,t){for(var e,l,o,p,a,v,s,w,h,b,u,y,k,c,f=[],i=null,d,r=n.length-1;r>=0;r--){i=n[r];d=i.kind;e=i.kind;e!==8&&e!==16&&this.addFilteredDecls(i.getChildDecls(),t,f);switch(e){case 4:case 32:for(l=this.semanticInfoChain.findDeclsFromPath(n.slice(0,r+1),164),o=0,p=l.length;o<p;o++)if(a=l[o],a!==i)for(v=a.getChildDecls(),s=0,w=v.length;s<w;s++)h=v[s],h.flags&1&&h.kind&t&&f.push(h);break;case 8:case 16:u=i.getTypeParameters();u&&u.length&&this.addFilteredDecls(u,t,f);break;case 131072:b=i.getFunctionExpressionName();b&&f.push(i);case 16384:case 32768:case 65536:u=i.getTypeParameters();u&&u.length&&this.addFilteredDecls(u,t,f)}}for(y=this.semanticInfoChain.topLevelDecls(),r=0,k=y.length;r<k;r++)(c=y[r],n.length>0&&c.fileName()===n[0].fileName())||c.isExternalModule()||this.addFilteredDecls(c.getChildDecls(),t,f);return f},u.prototype.addFilteredDecls=function(n,t,i){var r,f,u;if(n.length)for(r=0,f=n.length;r<f;r++)u=n[r],u.kind&t&&i.push(u)},u.prototype.getVisibleDecls=function(n){var t=n.getParentPath();return this.getVisibleDeclsFromDeclPath(t,126876671)},u.prototype.getVisibleContextSymbols=function(n,t){var u=t.getContextualType(),f,i,r;if(!u||this.isAnyOrEquivalent(u))return null;for(f=126876671,i=u.getAllMembers(f,2),r=0;r<i.length;r++)i[r].setUnresolved();return i},u.prototype.getVisibleMembersFromExpression=function(t,r,u){var s=this.resolveAST(t,!1,u),f,h,o,l,y,a,nt,tt,c,e,p,v,w,b,it,k,rt,d,g,ut;if(i(t)&&(s.kind===8||s.kind===16||s.kind===64)||(f=s.type,!f)||(this.resolveDeclaredSymbol(f,u),f.isContainer()&&f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),this.isAnyOrEquivalent(f)))return null;if(h=2,o=f,o.kind===33554432&&(o=o.getConstructSignatures()[0].returnType),o&&o.isClass()&&(l=r.getParentPath(),l&&l.length))for(y=o.getDeclarations(),a=0,nt=y.length;a<nt;a++)if(tt=y[a],n.ArrayUtilities.contains(l,tt)){h=1;break}return c=126876671,e=[],f.isContainer()&&(p=f.getExportAssignedContainerSymbol(),p&&(f=p)),f=this.getApparentType(f),f.isResolved||(v=this.resolveDeclaredSymbol(f,u),v!==f&&(s.isType()||u.setTypeInContext(s,v),f=v)),e=f.getAllMembers(c,h),f.isContainer()?(w=f.getInstanceSymbol(),w&&(b=w.type,this.resolveDeclaredSymbol(b,u),it=b.getAllMembers(c,h),e=e.concat(it)),k=f.getExportAssignedContainerSymbol(),k&&(rt=k.getAllMembers(c,h),e=e.concat(rt))):f.isConstructor()||f.isEnum()||(d=f.getAssociatedContainerType(),d&&(g=d.type,this.resolveDeclaredSymbol(g,u),ut=g.getAllMembers(c,h),e=e.concat(ut))),f.isFunctionType()&&this.cachedFunctionInterfaceType()&&(e=e.concat(this.cachedFunctionInterfaceType().getAllMembers(c,2))),e},u.prototype.isAnyOrEquivalent=function(n){return n===this.semanticInfoChain.anyTypeSymbol||n.isError()},u.prototype.resolveExternalModuleReference=function(t,i){var f=t,u=null,r;if(n.isRelative(f))r=n.getRootFilePath(n.switchToForwardSlashes(i)),u=this.semanticInfoChain.findExternalModule(r+t);else if(t=f,u=this.semanticInfoChain.findAmbientExternalModuleInGlobalContext(n.quoteStr(f)),!u)for(r=n.getRootFilePath(n.switchToForwardSlashes(i));u===null&&r!="";)u=this.semanticInfoChain.findExternalModule(r+t),u===null&&(r==="/"?r="":(r=n.normalizePath(r+".."),r=r&&r!="/"?r+"/":r));return u},u.prototype.resolveDeclaredSymbol=function(t,i){return!t||t.isResolved||t.isTypeReference()?t:(i||(i=new n.PullTypeResolutionContext(this)),this.resolveDeclaredSymbolWorker(t,i))},u.prototype.resolveDeclaredSymbolWorker=function(t,i){var o,e,u,r,s,f;if(!t||t.isResolved)return t;if(t.inResolution)return t.type||t.isType()||(t.type=this.semanticInfoChain.anyTypeSymbol),t;for(o=t.getDeclarations(),e=0;e<o.length;e++){if((u=o[e],r=this.semanticInfoChain.getASTForDecl(u),!r||r.kind()===139&&r.parent.parent.kind()===215||r.kind()===140&&r.parent.parent.kind()===215)||r.parent&&r.parent.kind()===236&&r.parent.identifier===r||r.parent&&r.parent.kind()===219&&r.parent.identifier===r)return t;s=n.ASTHelpers.getEnclosingModuleDeclaration(r);n.ASTHelpers.isAnyNameOfModule(s,r)?f=this.resolveSingleModuleDeclaration(s,r,i):r.kind()===120&&u.kind===32?f=this.resolveModuleSymbol(u.getSymbol(),i,null,null,r):(n.Debug.assert(r.kind()!==11&&r.kind()!==212),f=this.resolveAST(r,!1,i));u.kind===2048&&!t.isResolved&&!t.type&&f&&t.anyDeclHasFlag(75497472)&&(t.type=f.type,t.setResolved())}return t},u.prototype.resolveOtherDecl=function(t,i){var r=this.getASTForDecl(t),u=n.ASTHelpers.getEnclosingModuleDeclaration(r);n.ASTHelpers.isAnyNameOfModule(u,r)?this.resolveSingleModuleDeclaration(u,r,i):this.resolveAST(r,!1,i)},u.prototype.resolveOtherDeclarations=function(n,t){var u=this,i=this.semanticInfoChain.getDeclForAST(n),r=i.getSymbol(),f=r.getDeclarations();this.inResolvingOtherDeclsWalker.walkOtherPullDecls(i,r.getDeclarations(),function(n){return u.resolveOtherDecl(n,t)})},u.prototype.resolveSourceUnit=function(n,t){var r=this.getEnclosingDeclForAST(n),i=r.getSymbol();return this.ensureAllSymbolsAreBound(i),this.resolveFirstExportAssignmentStatement(n.moduleElements,t),this.resolveAST(n.moduleElements,!1,t),this.canTypeCheckAST(n,t)&&this.typeCheckSourceUnit(n,t),i},u.prototype.typeCheckSourceUnit=function(n,t){var i=this;this.setTypeChecked(n,t);this.resolveAST(n.moduleElements,!1,t);this.typeCheckCallBacks.push(function(){return i.verifyUniquenessOfImportNamesInSourceUnit(n)})},u.prototype.verifyUniquenessOfImportNamesInSourceUnit=function(n){var t=this,i=this.semanticInfoChain.getDeclForAST(n),r=function(n){var i=t.semanticInfoChain.findTopLevelSymbol(n,128,null);return i&&i.isAlias()};this.checkUniquenessOfImportNames([i],r)},u.prototype.resolveEnumDeclaration=function(n,t){var o=this.semanticInfoChain.getDeclForAST(n),i=o.getSymbol(),f,r,e,u;if(i.isResolved||i.inResolution)return i;for(i.inResolution=!0,f=i.getDeclarations(),r=0;r<f.length;r++)for(e=f[r].getChildDecls(),u=0;u<e.length;u++)e[u].ensureSymbolIsBound();return i.setResolved(),this.resolveOtherDeclarations(n,t),this.canTypeCheckAST(n,t)&&this.typeCheckEnumDeclaration(n,t),i},u.prototype.typeCheckEnumDeclaration=function(t,i){var u=this,r;this.setTypeChecked(t,i);this.resolveAST(t.enumElements,!1,i);r=this.semanticInfoChain.getDeclForAST(t);this.validateVariableDeclarationGroups(r,i);this.typeCheckCallBacks.push(function(n){return u.checkInitializersInEnumDeclarations(r,n)});n.ASTHelpers.enumIsElided(t)||this.checkNameForCompilerGeneratedDeclarationCollision(t,!0,t.identifier,i)},u.prototype.postTypeCheckEnumDeclaration=function(n,t){this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.checkInitializersInEnumDeclarations=function(t){var s=t.getSymbol(),r=s.getDeclarations(),u,i,o,f,e;if(t===r[0])for(u=!1,i=0;i<r.length;++i)(o=r[i],f=o.ast(),f.enumElements.nonSeparatorCount()!==0)&&(e=f.enumElements.nonSeparatorAt(0),e.equalsValueClause||(u?this.semanticInfoChain.addDiagnosticFromAST(e,n.DiagnosticCode.In_enums_with_multiple_declarations_only_one_declaration_can_omit_an_initializer_for_the_first_enum_element):u=!0))},u.prototype.resolveModuleDeclaration=function(t,i){var u,f,r,e;if(t.stringLiteral)u=this.resolveSingleModuleDeclaration(t,t.stringLiteral,i);else for(f=n.getModuleNames(t.name),r=0,e=f.length;r<e;r++)u=this.resolveSingleModuleDeclaration(t,f[r],i);return this.canTypeCheckAST(t,i)&&this.typeCheckModuleDeclaration(t,i),u},u.prototype.ensureAllSymbolsAreBound=function(n){var r,t,u,i;if(n)for(r=n.getDeclarations(),t=0;t<r.length;t++)for(u=r[t].getChildDecls(),i=0;i<u.length;i++)u[i].ensureSymbolIsBound()},u.prototype.resolveModuleSymbol=function(t,i,r,u,f){var e,o;return t.isResolved||t.inResolution?t:(t.inResolution=!0,this.ensureAllSymbolsAreBound(t),e=t.getInstanceSymbol(),e&&this.resolveDeclaredSymbol(e,i),o=n.ASTHelpers.isLastNameOfModule(r,u),o?this.resolveFirstExportAssignmentStatement(r.moduleElements,i):f&&this.resolveFirstExportAssignmentStatement(f.moduleElements,i),t.setResolved(),u&&this.resolveOtherDeclarations(u,i),t)},u.prototype.resolveFirstExportAssignmentStatement=function(n,t){for(var r,i=0,u=n.childCount();i<u;i++)if(r=n.childAt(i),r.kind()===134){this.resolveExportAssignmentStatement(r,t);return}},u.prototype.resolveSingleModuleDeclaration=function(n,t,i){var r=this.semanticInfoChain.getDeclForAST(t),u=r.getSymbol();return this.resolveModuleSymbol(u,i,n,t,null)},u.prototype.typeCheckModuleDeclaration=function(t,i){var u,r,f;if(t.stringLiteral)this.typeCheckSingleModuleDeclaration(t,t.stringLiteral,i);else for(u=n.getModuleNames(t.name),r=0,f=u.length;r<f;r++)this.typeCheckSingleModuleDeclaration(t,u[r],i)},u.prototype.typeCheckSingleModuleDeclaration=function(t,i,r){var f=this,u;this.setTypeChecked(t,r);n.ASTHelpers.isLastNameOfModule(t,i)&&this.resolveAST(t.moduleElements,!1,r);u=this.semanticInfoChain.getDeclForAST(i);this.validateVariableDeclarationGroups(u,r);t.stringLiteral&&n.isRelative(t.stringLiteral.valueText())&&this.semanticInfoChain.addDiagnosticFromAST(t.stringLiteral,n.DiagnosticCode.Ambient_external_module_declaration_cannot_specify_relative_module_name);n.ASTHelpers.moduleIsElided(t)||t.stringLiteral||this.checkNameForCompilerGeneratedDeclarationCollision(i,!0,i,r);this.typeCheckCallBacks.push(function(){return f.verifyUniquenessOfImportNamesInModule(u)})},u.prototype.verifyUniquenessOfImportNamesInModule=function(n){var i=n.getSymbol(),t;i&&(t=i.getDeclarations(),t[0]===n)&&this.checkUniquenessOfImportNames(t)},u.prototype.checkUniquenessOfImportNames=function(t,i){for(var e,f,o,s=this,r,u=0;u<t.length;++u)for(e=t[u].getChildDecls(),f=0;f<e.length;++f)o=e[f],o.kind===128&&(r=r||n.createIntrinsicsObject(),r[o.name]=!0);if(r||i)for(u=0;u<t.length;++u)this.scanVariableDeclarationGroups(t[u],function(t){var u=r&&r[t.name];u||(u=i&&i(t.name),u&&(r=r||n.createIntrinsicsObject(),r[t.name]=!0));u&&s.semanticInfoChain.addDiagnosticFromAST(t.ast(),n.DiagnosticCode.Variable_declaration_cannot_have_the_same_name_as_an_import_declaration)})},u.prototype.scanVariableDeclarationGroups=function(n,t,i){for(var u,c,h,e,o,f=n.getVariableDeclGroups(),r=0;r<f.length;r++)for(u=null,c=null,n.kind===1&&f[r].length&&(h=f[r][0].name,e=this.semanticInfoChain.findTopLevelSymbol(h,512,n),e&&e.isResolved&&(e.anyDeclHasFlag(118784)||(u=e))),o=0;o<f[r].length;o++){var s=f[r][o],h=s.name,l=s.getSymbol();if(o===0){if(t(s),!i)break;if(!u||!u.type){u=l;continue}}i(s,u)}},u.prototype.postTypeCheckModuleDeclaration=function(n,t){this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.isTypeRefWithoutTypeArgs=function(n){if(n.kind()===11)return!0;if(n.kind()===121){var t=n;if(t.right.kind()===11)return!0}return!1},u.prototype.createInstantiatedType=function(t,i){var u,f,r;if(!t.isGeneric())return t;for(u=t.getTypeArgumentsOrTypeParameters(),f=[],r=0;r<u.length;r++)f[u[r].pullSymbolID]=i[r]||new n.PullErrorTypeSymbol(this.semanticInfoChain.anyTypeSymbol,u[r].name);return n.PullInstantiatedTypeReferenceSymbol.create(this,t,f)},u.prototype.resolveReferenceTypeDeclaration=function(t,i,r,u){var k=this,d=this.semanticInfoChain.getDeclForAST(t),rt=this.getEnclosingDecl(d),f=d.getSymbol(),g=t.kind()===131,nt=this.getSymbolForAST(t,u)!==null,it,v,y,p,w,o,s,b,h,l,a,e,tt,c;if(f.isResolved&&nt||f.inResolution&&!u.isInBaseTypeResolution())return f;for(it=f.inResolution,f.startResolving(),v=f.getDeclarations(),e=0;e<v.length;e++)for(y=v[e].getChildDecls(),h=0;h<y.length;h++)y[h].ensureSymbolIsBound();if(!f.isResolved)for(p=f.getTypeParameters(),e=0;e<p.length;e++)this.resolveDeclaredSymbol(p[e],u);if(w=u.startBaseTypeResolution(),g||nt||f.resetKnownBaseTypeCount(),o=n.ASTHelpers.getExtendsHeritageClause(r),o)for(e=f.getKnownBaseTypeCount();e<o.typeNames.nonSeparatorCount();e=f.getKnownBaseTypeCount())if(f.incrementKnownBaseCount(),s=this.resolveTypeReference(o.typeNames.nonSeparatorAt(e),u),f.isValidBaseKind(s,!0)){if(this.setSymbolForAST(o.typeNames.nonSeparatorAt(e),s,null),!f.hasBase(s)&&!s.hasBase(f))for(f.addExtendedType(s),b=f.getKnownSpecializations(),h=0;h<b.length;h++)b[h].addExtendedType(s)}else s&&!this.getSymbolForAST(o.typeNames.nonSeparatorAt(e),u)&&this.setSymbolForAST(o.typeNames.nonSeparatorAt(e),s,null);if(l=n.ASTHelpers.getImplementsHeritageClause(r),l&&g)for(a=o?o.typeNames.nonSeparatorCount():0,e=f.getKnownBaseTypeCount();e-a>=0&&e-a<l.typeNames.nonSeparatorCount();e=f.getKnownBaseTypeCount())f.incrementKnownBaseCount(),tt=l.typeNames.nonSeparatorAt(e-a),c=this.resolveTypeReference(tt,u),f.isValidBaseKind(c,!1)?(this.setSymbolForAST(l.typeNames.nonSeparatorAt(e-a),c,null),f.hasBase(c)||c.hasBase(f)||f.addImplementedType(c)):c&&!this.getSymbolForAST(l.typeNames.nonSeparatorAt(e-a),u)&&this.setSymbolForAST(l.typeNames.nonSeparatorAt(e-a),c,null);return(u.doneBaseTypeResolution(w),w)?(f.inResolution=!1,this.typeCheckCallBacks.push(function(n){t.kind()===131?k.resolveClassDeclaration(t,n):k.resolveInterfaceDeclaration(t,n)}),f):(this.setSymbolForAST(i,f,u),this.setSymbolForAST(t,f,u),f.setResolved(),f)},u.prototype.resolveClassDeclaration=function(t,i){var v=this.semanticInfoChain.getDeclForAST(t),f=v.getSymbol(),o,d,r,c,y,s,u,l,a,h,p,w;if(!f.isResolved){this.resolveReferenceTypeDeclaration(t,t.identifier,t.heritageClauses,i);var b=f.getConstructorMethod(),k=f.getExtendedTypes(),e=k.length?k[0]:null;if(b){if(o=b.type,d=o.getConstructSignatures(),!d.length)if(c=e?e.getConstructorMethod():null,c)for(this.resolveDeclaredSymbol(c,i),y=c.type,s=y.getConstructSignatures(),s.length||(u=new n.PullSignatureSymbol(2097152),u.returnType=e,u.addTypeParametersFromReturnType(),y.appendConstructSignature(u),u.addDeclaration(e.getDeclarations()[0]),s=[u]),a=0;a<s.length;a++){for(u=s[a],l=u.parameters,r=new n.PullSignatureSymbol(2097152,u.isDefinition()),r.returnType=f,r.addTypeParametersFromReturnType(),h=0;h<l.length;h++)r.addParameter(l[h],l[h].isOptional);o.appendConstructSignature(r);r.addDeclaration(v)}else r=new n.PullSignatureSymbol(2097152),r.returnType=f,r.addTypeParametersFromReturnType(),o.appendConstructSignature(r),r.addDeclaration(v);if(!f.isResolved)return f;e&&(p=e.getConstructorMethod(),p&&(w=p.type,o.hasBase(w)||o.addExtendedType(w)))}this.resolveOtherDeclarations(t,i)}return this.canTypeCheckAST(t,i)&&this.typeCheckClassDeclaration(t,i),f},u.prototype.typeCheckTypeParametersOfTypeDeclaration=function(n,t){var h=this,u=n.kind()==131?n.typeParameterList:n.typeParameterList,e,o,i,r,s,f;if(u)for(e=this.semanticInfoChain.getDeclForAST(n),o=e.getSymbol(),i=0;i<u.typeParameters.nonSeparatorCount();i++)r=u.typeParameters.nonSeparatorAt(i),this.resolveTypeParameterDeclaration(r,t),s=this.semanticInfoChain.getDeclForAST(r),f=s.getSymbol(),this.checkSymbolPrivacy(o,f,function(i){return h.typeParameterOfTypeDeclarationPrivacyErrorReporter(n,r,f,i,t)})},u.prototype.typeCheckClassDeclaration=function(n,t){this.setTypeChecked(n,t);var r=this.semanticInfoChain.getDeclForAST(n),i=r.getSymbol();this.checkNameForCompilerGeneratedDeclarationCollision(n,!0,n.identifier,t);this.resolveAST(n.classElements,!1,t);this.typeCheckTypeParametersOfTypeDeclaration(n,t);this.typeCheckBases(n,n.identifier,n.heritageClauses,i,this.getEnclosingDecl(r),t);i.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(i,r,t);this.checkTypeForDuplicateIndexSignatures(i)},u.prototype.postTypeCheckClassDeclaration=function(n,t){this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.resolveTypeSymbolSignatures=function(n,t){for(var r,u,f=n.getCallSignatures(),i=0;i<f.length;i++)this.resolveDeclaredSymbol(f[i],t);for(r=n.getConstructSignatures(),i=0;i<r.length;i++)this.resolveDeclaredSymbol(r[i],t);for(u=n.getIndexSignatures(),i=0;i<u.length;i++)this.resolveDeclaredSymbol(u[i],t)},u.prototype.resolveInterfaceDeclaration=function(n,t){this.resolveReferenceTypeDeclaration(n,n.identifier,n.heritageClauses,t);var r=this.semanticInfoChain.getDeclForAST(n),i=r.getSymbol();return this.resolveTypeSymbolSignatures(i,t),i.isResolved&&(this.resolveOtherDeclarations(n,t),this.canTypeCheckAST(n,t)&&this.typeCheckInterfaceDeclaration(n,t)),i},u.prototype.typeCheckInterfaceDeclaration=function(t,i){var u,r,f;this.setTypeChecked(t,i);u=this.semanticInfoChain.getDeclForAST(t);r=u.getSymbol();this.resolveAST(t.body.typeMembers,!1,i);this.typeCheckTypeParametersOfTypeDeclaration(t,i);this.typeCheckBases(t,t.identifier,t.heritageClauses,r,this.getEnclosingDecl(u),i);r.hasBaseTypeConflict()||this.typeCheckMembersAgainstIndexer(r,u,i);f=r.getDeclarations();u===f[f.length-1]&&this.checkTypeForDuplicateIndexSignatures(r);this.checkInterfaceDeclForIdenticalTypeParameters(t,i)||this.semanticInfoChain.addDiagnosticFromAST(t.identifier,n.DiagnosticCode.All_declarations_of_an_interface_must_have_identical_type_parameters)},u.prototype.checkInterfaceDeclForIdenticalTypeParameters=function(n,t){var f=this.semanticInfoChain.getDeclForAST(n),c=f.getSymbol(),e,r,o,i,u,s,l;if(!c.isGeneric()||(e=c.getDeclarations()[0],e==f))return!0;if(r=f.getTypeParameters(),o=e.getTypeParameters(),r.length!=o.length)return!1;for(i=0;i<r.length;i++){if(u=r[i],s=o[i],u.name!=s.name)return!1;var a=u.getSymbol(),h=this.semanticInfoChain.getASTForDecl(u),v=this.semanticInfoChain.getASTForDecl(s);if(!!h.constraint!=!!v.constraint||h.constraint&&(l=this.resolveAST(h.constraint,!1,t),!this.typesAreIdenticalWithNewEnclosingTypes(l,a.getConstraint(),t)))return!1}return!0},u.prototype.checkTypeForDuplicateIndexSignatures=function(t){for(var i,r,o=t.getOwnIndexSignatures(),u=null,f=null,e=0;e<o.length;e++)if(i=o[e],r=i.parameters[0].type,n.Debug.assert(r),r===this.semanticInfoChain.stringTypeSymbol){if(u){this.semanticInfoChain.addDiagnosticFromAST(i.getDeclarations()[0].ast(),n.DiagnosticCode.Duplicate_string_index_signature,null,[this.semanticInfoChain.locationFromAST(u.getDeclarations()[0].ast())]);return}u=i}else if(r===this.semanticInfoChain.numberTypeSymbol){if(f){this.semanticInfoChain.addDiagnosticFromAST(i.getDeclarations()[0].ast(),n.DiagnosticCode.Duplicate_number_index_signature,null,[this.semanticInfoChain.locationFromAST(f.getDeclarations()[0].ast())]);return}f=i}},u.prototype.filterSymbol=function(n,t,i,r){if(n){if(n.kind&t)return n;if(n.isAlias()){this.resolveDeclaredSymbol(n,r);var u=n;if(t&164)return u.getExportAssignedContainerSymbol();if(t&58728795)return u.getExportAssignedTypeSymbol();if(t&68147712)return u.getExportAssignedValueSymbol()}}return null},u.prototype.getMemberSymbolOfKind=function(n,t,i,r,u){var f=this.getNamedPropertySymbol(n,t,i);return{symbol:this.filterSymbol(f,t,r,u),aliasSymbol:f&&f.isAlias()?f:null}},u.prototype.resolveIdentifierOfInternalModuleReference=function(t,i,r,u,f){var c=i.valueText();if(c.length===0)return null;var a=r.type,o=this.getMemberSymbolOfKind(c,164,a,u,f),e=o.symbol,h=null,s=null,l=null,v=!0;if(e&&(v=(e.kind&59753052)!=0,l=o.aliasSymbol),!v&&e&&e.kind===128){this.resolveDeclaredSymbol(e,f);var y=e.getExportAssignedValueSymbol(),p=e.getExportAssignedTypeSymbol(),w=e.getExportAssignedContainerSymbol();(y||p||w)&&(l=e,h=y,s=p,e=w,v=!0)}return v?(h||a.getInstanceSymbol()&&(o=this.getMemberSymbolOfKind(c,68147712,a.getInstanceSymbol().type,u,f),h=o.symbol,h&&o.aliasSymbol&&(l=o.aliasSymbol)),s||(o=this.getMemberSymbolOfKind(c,58728795,a,u,f),s=o.symbol,s&&o.aliasSymbol&&(l=o.aliasSymbol)),!h&&!s&&!e)?(this.semanticInfoChain.addDiagnosticFromAST(i,n.DiagnosticCode.Could_not_find_symbol_0_in_module_1,[c,r.toString()]),null):(!s&&e&&(s=e),{valueSymbol:h,typeSymbol:s,containerSymbol:e,aliasSymbol:l}):(this.semanticInfoChain.addDiagnosticFromAST(i,n.DiagnosticCode.Import_declaration_referencing_identifier_from_internal_module_can_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules),null)},u.prototype.resolveModuleReference=function(t,i,r,u,f){var e,c,s,h,l,a,o,v;return n.Debug.assert(i.kind()===121||i.kind()===11||i.kind()===14,"resolving module reference should always be either name or member reference"),e=null,i.kind()===121?(s=i,h=this.resolveModuleReference(t,s.left,r,u,f),h&&(c=s.right.valueText(),e=this.getMemberSymbolOfKind(c,4,h.type,r,u).symbol,e||this.semanticInfoChain.addDiagnosticFromAST(s.right,n.DiagnosticCode.Could_not_find_module_0_in_module_1,[c,h.toString()]))):(l=i.kind()===11?i.valueText():i.valueText(),a=i.kind()===11?i.text():i.text(),a.length>0&&(o=this.getSymbolFromDeclPath(l,f,4),e=this.filterSymbol(o,4,r,u),e?(this.semanticInfoChain.setSymbolForAST(i,e),o.isAlias()&&(this.semanticInfoChain.setAliasSymbolForAST(i,o),v=t.getSymbol(),v.addLinkedAliasSymbol(o))):this.semanticInfoChain.addDiagnosticFromAST(i,n.DiagnosticCode.Unable_to_resolve_module_reference_0,[l]))),e},u.prototype.resolveInternalModuleReference=function(t,i){var s=this.semanticInfoChain.getDeclForAST(t),e=this.getEnclosingDecl(s),h=t.moduleReference,r=h.kind()===245?h.stringLiteral:h.moduleName,a=e.getParentPath(),u=null,c=s.getSymbol(),y,v,f,o;if(r.kind()===11||r.kind()===14)if(f=this.resolveModuleReference(s,r,e,i,a),f){if(u=f.type,this.semanticInfoChain.setAliasSymbolForAST(h,this.semanticInfoChain.getAliasSymbolForAST(r)),u.anyDeclHasFlag(32768)){var p=r.kind()===11?r.valueText():r.valueText(),l=this.getSymbolFromDeclPath(p,a,68147712),w=u.getInstanceSymbol();l&&(w!=l||l.type===u)?(y=r.kind()===11?r.text():r.text(),i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.Internal_module_reference_0_in_import_declaration_does_not_reference_module_instance_for_1,[y,f.type.toString(e?e.getSymbol():null)]))):c.setAssignedValueSymbol(l)}}else u=this.getNewErrorTypeSymbol();else if(r.kind()===121&&(v=r,f=this.resolveModuleReference(s,v.left,e,i,a),f&&(o=this.resolveIdentifierOfInternalModuleReference(s,v.right,f,e,i),o)))return c.setAssignedValueSymbol(o.valueSymbol),c.setAssignedTypeSymbol(o.typeSymbol),c.setAssignedContainerSymbol(o.containerSymbol),this.semanticInfoChain.setAliasSymbolForAST(h,o.aliasSymbol),null;return u||c.setAssignedTypeSymbol(this.getNewErrorTypeSymbol()),u},u.prototype.resolveImportDeclaration=function(t,i){var f=this.semanticInfoChain.getDeclForAST(t),s=this.getEnclosingDecl(f),u=f.getSymbol(),r=null,e,h,o;return u.isResolved?u:(u.startResolving(),t.moduleReference.kind()===245?(e=t.moduleReference.stringLiteral.valueText(),h=s.getParentPath(),r=this.resolveExternalModuleReference(e,f.fileName()),r||(o=t.moduleReference.stringLiteral.text(),this.semanticInfoChain.addDiagnosticFromAST(t,n.DiagnosticCode.Unable_to_resolve_external_module_0,[o]),r=this.getNewErrorTypeSymbol())):r=this.resolveInternalModuleReference(t,i),r&&(r.isContainer()||(this.semanticInfoChain.addDiagnosticFromAST(t,n.DiagnosticCode.Module_cannot_be_aliased_to_a_non_module_type),r.isError()||(r=this.getNewErrorTypeSymbol())),r.isContainer()&&u.setAssignedContainerSymbol(r),u.setAssignedTypeSymbol(r),this.setSymbolForAST(t.moduleReference,r,null)),u.setResolved(),this.resolveDeclaredSymbol(u.assignedValue(),i),this.resolveDeclaredSymbol(u.assignedType(),i),this.resolveDeclaredSymbol(u.assignedContainer(),i),r&&u.anyDeclHasFlag(1)&&(u.setIsUsedInExportedAlias(),r.isContainer()&&r.getExportAssignedValueSymbol()&&u.setIsUsedAsValue()),this.canTypeCheckAST(t,i)&&this.typeCheckImportDeclaration(t,i),u)},u.prototype.typeCheckImportDeclaration=function(t,i){var e=this,l,o,s,f,h;this.setTypeChecked(t,i);var c=this.semanticInfoChain.getDeclForAST(t),r=this.getEnclosingDecl(c),u=c.getSymbol();if(t.moduleReference.kind()===245&&(this.compilationSettings.noResolve()&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Import_declaration_cannot_refer_to_external_module_reference_when_noResolve_option_is_set,null)),l=t.moduleReference.stringLiteral.valueText(),r.kind===32&&(o=n.ASTHelpers.getEnclosingModuleDeclaration(this.getASTForDecl(r)),o&&o.kind()===130&&n.isRelative(l)&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Import_declaration_in_an_ambient_external_module_declaration_cannot_reference_external_module_through_relative_external_module_name)))),t.moduleReference.kind()===245?(f=u.getExportAssignedContainerSymbol(),h=f?f.getContainer():null,h&&h.kind===32&&(s=!0)):s=!0,s){var a=u.getExportAssignedTypeSymbol(),f=u.getExportAssignedContainerSymbol(),v=u.getExportAssignedValueSymbol();this.checkSymbolPrivacy(u,f,function(f){var o=n.DiagnosticCode.Exported_import_declaration_0_is_assigned_container_that_is_or_is_using_inaccessible_module_1,s=[u.getScopedName(r?r.getSymbol():null),f.getScopedName(r?r.getSymbol():null,!1,!1,!0)];i.postDiagnostic(e.semanticInfoChain.diagnosticFromAST(t,o,s))});a!==f&&this.checkSymbolPrivacy(u,a,function(f){var o=f.isContainer()&&!f.isEnum()?n.DiagnosticCode.Exported_import_declaration_0_is_assigned_type_that_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_import_declaration_0_is_assigned_type_that_has_or_is_using_private_type_1,s=[u.getScopedName(r?r.getSymbol():null),f.getScopedName(r?r.getSymbol():null,!1,!1,!0)];i.postDiagnostic(e.semanticInfoChain.diagnosticFromAST(t,o,s))});v&&this.checkSymbolPrivacy(u,v.type,function(f){var o=f.isContainer()&&!f.isEnum()?n.DiagnosticCode.Exported_import_declaration_0_is_assigned_value_with_type_that_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_import_declaration_0_is_assigned_value_with_type_that_has_or_is_using_private_type_1,s=[u.getScopedName(r?r.getSymbol():null),f.getScopedName(r?r.getSymbol():null,!1,!1,!0)];i.postDiagnostic(e.semanticInfoChain.diagnosticFromAST(t,o,s))})}this.checkNameForCompilerGeneratedDeclarationCollision(t,!0,t.identifier,i)},u.prototype.postTypeCheckImportDeclaration=function(n,t){var r=this.semanticInfoChain.getDeclForAST(n),i=r.getSymbol(),u=i.isUsedAsValue(),f=n.moduleReference.kind()!==245&&i.getExportAssignedValueSymbol()!==null;(u||f)&&this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.resolveExportAssignmentStatement=function(t,i){var e=t.identifier.valueText(),c,s;if(e.length===0)return this.semanticInfoChain.anyTypeSymbol;var u=null,f=null,r=null,l=this.getEnclosingDeclForAST(t),o=l.getSymbol();if(!o.isType()&&o.isContainer())return this.semanticInfoChain.addDiagnosticFromAST(t,n.DiagnosticCode.Export_assignments_may_only_be_used_at_the_top_level_of_external_modules),this.semanticInfoChain.anyTypeSymbol;if(c=l!==null?[l]:[],r=this.getSymbolFromDeclPath(e,c,164),s=!0,r&&(s=(r.kind&59753052)!=0),!s&&r&&r.kind===128){this.resolveDeclaredSymbol(r,i);var h=r,a=h.getExportAssignedValueSymbol(),v=h.getExportAssignedTypeSymbol(),y=h.getExportAssignedContainerSymbol();(a||v||y)&&(u=a,f=v,r=y,h.setTypeUsedExternally(),u&&h.setIsUsedAsValue(),s=!0)}return s?(u||(u=this.getSymbolFromDeclPath(e,c,68147712)),f||(f=this.getSymbolFromDeclPath(e,c,58728795)),!u&&!f&&!r)?(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Could_not_find_symbol_0,[e])),this.semanticInfoChain.voidTypeSymbol):(u&&o.setExportAssignedValueSymbol(u),f&&o.setExportAssignedTypeSymbol(f),r&&o.setExportAssignedContainerSymbol(r),this.resolveDeclaredSymbol(u,i),this.resolveDeclaredSymbol(f,i),this.resolveDeclaredSymbol(r,i),this.semanticInfoChain.voidTypeSymbol):(this.semanticInfoChain.addDiagnosticFromAST(t,n.DiagnosticCode.Export_assignments_may_only_be_made_with_variables_functions_classes_interfaces_enums_and_internal_modules),this.semanticInfoChain.voidTypeSymbol)},u.prototype.resolveAnyFunctionTypeSignature=function(t,i,r,u,f){var s=this.semanticInfoChain.getDeclForAST(t),o,h,e;if(n.Debug.assert(s),o=s.getSymbol(),h=o.kind===33554432?o.getConstructSignatures()[0]:o.getCallSignatures()[0],u&&(h.returnType=this.resolveTypeReference(u,f)),i)for(e=0;e<i.typeParameters.nonSeparatorCount();e++)this.resolveTypeParameterDeclaration(i.typeParameters.nonSeparatorAt(e),f);if(r)for(e=0;e<r.parameters.nonSeparatorCount();e++)this.resolveFunctionTypeSignatureParameter(r.parameters.nonSeparatorAt(e),h,s,f);return o.setResolved(),this.canTypeCheckAST(t,f)&&(this.setTypeChecked(t,f),this.typeCheckFunctionOverloads(t,f)),o},u.prototype.resolveFunctionTypeSignatureParameter=function(t,r,u,f){var s=this.semanticInfoChain.getDeclForAST(t),e=s.getSymbol(),o;t.typeAnnotation?(o=this.resolveTypeReference(n.ASTHelpers.getType(t),f),e.isVarArg&&!o.isArrayNamedTypeReference()&&(f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Rest_parameters_must_be_array_types)),o=this.getNewErrorTypeSymbol()),f.setTypeInContext(e,o)):(e.isVarArg?this.cachedArrayInterfaceType()?f.setTypeInContext(e,this.createInstantiatedType(this.cachedArrayInterfaceType(),[this.semanticInfoChain.anyTypeSymbol])):f.setTypeInContext(e,this.semanticInfoChain.anyTypeSymbol):f.setTypeInContext(e,this.semanticInfoChain.anyTypeSymbol),this.compilationSettings.noImplicitAny()&&f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Parameter_0_of_function_type_implicitly_has_an_any_type,[t.identifier.text()])));n.hasFlag(s.flags,128)&&t.equalsValueClause&&i(t)&&f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Default_arguments_are_only_allowed_in_implementation));e.setResolved()},u.prototype.resolveFunctionExpressionParameter=function(i,r,u,f,e,o,s){var d=this.semanticInfoChain.getDeclForAST(i),c=d.getSymbol(),h=e&&e.type,v=!1,y,nt,b,p,l,w,g,a,k;u&&(y=this.resolveTypeReference(u,s),c.isVarArg&&!y.isArrayNamedTypeReference()&&(nt=s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Rest_parameters_must_be_array_types)),y=this.getNewErrorTypeSymbol()),h=y||h);h?(s.isInferentiallyTyping()&&(h=s.fixAllTypeParametersReferencedByType(h,this)),s.setTypeInContext(c,h)):c.isVarArg&&(this.cachedArrayInterfaceType()?s.setTypeInContext(c,this.createInstantiatedType(this.cachedArrayInterfaceType(),[this.semanticInfoChain.anyTypeSymbol])):s.setTypeInContext(c,this.semanticInfoChain.anyTypeSymbol),v=!0);b=this.canTypeCheckAST(i,s);f&&(b||!h)&&(h&&s.propagateContextualType(h),p=this.resolveAST(f,h!==null,s),h&&s.popAnyContextualType(),p&&p.type?(l=this.getInstanceTypeForAssignment(i,p.type,s),h?(w=new t,g=this.sourceIsAssignableToTarget(l,h,i,s,w),g||(a=this.getEnclosingSymbolForAST(i),w.message?s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[l.toString(a),h.toString(a),w.message])):s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1,[l.toString(a),h.toString(a)])))):(s.setTypeInContext(c,l.widenedType(this,f,s)),v=l!==c.type)):(s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Unable_to_resolve_type_of_0,[r.text()])),h||s.setTypeInContext(c,this.getNewErrorTypeSymbol(c.name))));h||c.isVarArg||l||(s.setTypeInContext(c,this.semanticInfoChain.anyTypeSymbol),v=!0);v&&this.compilationSettings.noImplicitAny()&&(k=d.getParentDecl().getFunctionExpressionName(),k?s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[r.text(),k])):s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Parameter_0_of_lambda_function_implicitly_has_an_any_type,[r.text()])));b&&this.checkNameForCompilerGeneratedDeclarationCollision(i,!0,r,s);c.setResolved()},u.prototype.checkNameForCompilerGeneratedDeclarationCollision=function(n,t,i,r){var u=a(i);switch(u){case 1:this.postTypeCheckWorkitems.push(n);return;case 2:this.checkSuperCaptureVariableCollides(n,t,r);return;case 3:this.checkArgumentsCollides(n,r);return;case 4:this.checkIndexOfRestArgumentInitializationCollides(n,t,r);return;case 5:case 6:t&&this.checkExternalModuleRequireExportsCollides(n,i,r);return}},u.prototype.hasRestParameterCodeGen=function(t){var i=this.getASTForDecl(t),r=i.kind(),u,f,e,o,s;return r===129?(u=i,!n.hasFlag(t.kind===65536?t.getParentDecl().flags:t.flags,8)&&u.block&&n.lastParameterIsRest(u.callSignature.parameterList)):r===135?(f=i,!n.hasFlag(t.kind===65536?t.getParentDecl().flags:t.flags,8)&&f.block&&n.lastParameterIsRest(f.callSignature.parameterList)):r===137?(e=i,!n.hasFlag(t.getParentDecl().flags,8)&&e.block&&n.lastParameterIsRest(e.callSignature.parameterList)):r===218?(o=i,n.lastParameterIsRest(o.callSignature.parameterList)):r===222?(s=i,n.lastParameterIsRest(s.callSignature.parameterList)):!1},u.prototype.checkArgumentsCollides=function(t,i){if(t.kind()===242){var r=this.getEnclosingDeclForAST(t);n.hasFlag(r.kind,1032192)&&this.hasRestParameterCodeGen(r)&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Duplicate_identifier_arguments_Compiler_uses_arguments_to_initialize_rest_parameters))}},u.prototype.checkIndexOfRestArgumentInitializationCollides=function(t,i,r){var f,e;if(!i||t.kind()===242){var o=this.getEnclosingDeclForAST(t),h=i?[o]:o?o.getParentPath():[],u=null,s;for(f=h.length-1;f>=0;f--){if(e=h[f],!i){if(!u){if(u=this.resolveNameExpression(t,r),u.isError())return;s=u.getContainer()}if(s&&n.ArrayUtilities.contains(s.getDeclarations(),e))break}n.hasFlag(e.kind,1032192)&&this.hasRestParameterCodeGen(e)&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,i?n.DiagnosticCode.Duplicate_identifier_i_Compiler_uses_i_to_initialize_rest_parameter:n.DiagnosticCode.Expression_resolves_to_variable_declaration_i_that_compiler_uses_to_initialize_rest_parameter))}}},u.prototype.checkExternalModuleRequireExportsCollides=function(t,i,r){var u=this.getEnclosingDeclForAST(t),e=n.ASTHelpers.getEnclosingModuleDeclaration(i),o,f;n.ASTHelpers.isAnyNameOfModule(e,i)&&(u=this.getEnclosingDeclForAST(e));u&&u.kind===32&&(o=this.semanticInfoChain.getDeclForAST(t),n.hasFlag(o.flags,8)||(f=i.valueText(),r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Duplicate_identifier_0_Compiler_reserves_name_1_in_top_level_scope_of_an_external_module,[f,f]))))},u.prototype.resolveObjectTypeTypeReference=function(t,i){var h=this.semanticInfoChain.getDeclForAST(t),r,u;if(n.Debug.assert(h),r=h.getSymbol(),n.Debug.assert(r),t.typeMembers){var f=null,e=null,o=null,s=t.typeMembers;for(u=0;u<s.nonSeparatorCount();u++)f=this.semanticInfoChain.getDeclForAST(s.nonSeparatorAt(u)),e=f.kind&7340032?f.getSignatureSymbol():f.getSymbol(),this.resolveAST(s.nonSeparatorAt(u),!1,i),o=e.type,(o&&o.isGeneric()||e.isSignature()&&e.isGeneric())&&r.setHasGenericMember()}return r.setResolved(),this.canTypeCheckAST(t,i)&&this.typeCheckObjectTypeTypeReference(t,i),r},u.prototype.typeCheckObjectTypeTypeReference=function(n,t){this.setTypeChecked(n,t);var i=this.semanticInfoChain.getDeclForAST(n),r=i.getSymbol();this.typeCheckMembersAgainstIndexer(r,i,t);this.checkTypeForDuplicateIndexSignatures(r)},u.prototype.resolveTypeAnnotation=function(n,t){return this.resolveTypeReference(n.type,t)},u.prototype.resolveTypeReference=function(t,i){var u,r,e,f;return t===null?null:(n.Debug.assert(t.kind()!==244),u=null,r=this.computeTypeReferenceSymbol(t,i),r.kind===4&&(e=r,f=e.getInstanceSymbol(),f&&(f.anyDeclHasFlag(16384)||f.kind===32768)&&(r=f.type.getAssociatedContainerType())),r&&r.isAlias()&&(u=r,r=u.getExportAssignedTypeSymbol()),r&&!r.isGeneric()&&u&&this.semanticInfoChain.setAliasSymbolForAST(t,u),r&&!r.isError()&&(r.kind&58728795)==0&&(r.kind&164?i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_reference_cannot_refer_to_container_0,[u?u.toString():r.toString()])):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_reference_must_refer_to_type))),this.canTypeCheckAST(t,i)&&this.setTypeChecked(t,i),r)},u.prototype.getArrayType=function(n){var t=n.getArrayType();return t||(t=this.createInstantiatedType(this.cachedArrayInterfaceType(),[n]),t||(t=this.semanticInfoChain.anyTypeSymbol),n.setArrayType(t)),t},u.prototype.computeTypeReferenceSymbol=function(t,i){var r,f,e,s,h,c,o,a,v;switch(t.kind()){case 60:return this.semanticInfoChain.anyTypeSymbol;case 61:return this.semanticInfoChain.booleanTypeSymbol;case 67:return this.semanticInfoChain.numberTypeSymbol;case 69:return this.semanticInfoChain.stringTypeSymbol;case 41:return this.semanticInfoChain.voidTypeSymbol}if(r=null,t.kind()===11)r=this.resolveTypeNameExpression(t,i);else if(t.kind()===123)f=t,r=this.resolveAnyFunctionTypeSignature(f,f.typeParameterList,f.parameterList,f.type,i);else if(t.kind()===125)e=t,r=this.resolveAnyFunctionTypeSignature(e,e.typeParameterList,e.parameterList,e.type,i);else if(t.kind()===122)r=this.resolveObjectTypeTypeReference(t,i);else if(t.kind()===126)r=this.resolveGenericTypeReference(t,i);else if(t.kind()===121)r=this.resolveQualifiedName(t,i);else if(t.kind()===14)s=t,h=this.getEnclosingDeclForAST(t),r=new n.PullStringConstantTypeSymbol(s.text()),c=new n.PullSynthesizedDecl(s.text(),s.text(),r.kind,null,h,h.semanticInfoChain),r.addDeclaration(c);else if(t.kind()===127){var y=t,l=y.name,u=this.resolveAST(l,!1,i);u&&u.isAlias()&&(u.assignedValue()?u=u.assignedValue():(o=u.getExportAssignedContainerSymbol(),u=o&&o.isContainer()&&!o.isEnum()?o.getInstanceSymbol():null));r=u?u.type.widenedType(this,l,i):this.getNewErrorTypeSymbol()}else if(t.kind()===124)a=t,v=this.resolveTypeReference(a.type,i),r=this.getArrayType(v);else throw n.Errors.invalidOperation("unknown type");return r?r.isError()?r:(this.genericTypeIsUsedWithoutRequiredTypeArguments(r,t,i)&&(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Generic_type_references_must_include_all_type_arguments)),r=this.instantiateTypeToAny(r,i)),r):(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Unable_to_resolve_type)),this.getNewErrorTypeSymbol())},u.prototype.genericTypeIsUsedWithoutRequiredTypeArguments=function(n,t,i){return n?n.isAlias()?this.genericTypeIsUsedWithoutRequiredTypeArguments(n.getExportAssignedTypeSymbol(),t,i):n.isNamedTypeSymbol()&&n.isGeneric()&&!n.isTypeParameter()&&(n.isResolved||n.inResolution)&&!n.getIsSpecialized()&&n.getTypeParameters().length&&n.getTypeArguments()===null&&this.isTypeRefWithoutTypeArgs(t):!1},u.prototype.resolveMemberVariableDeclaration=function(t,i){return this.resolveVariableDeclaratorOrParameterOrEnumElement(t,t.modifiers,t.variableDeclarator.propertyName,n.ASTHelpers.getType(t.variableDeclarator),t.variableDeclarator.equalsValueClause,i)},u.prototype.resolvePropertySignature=function(t,i){return this.resolveVariableDeclaratorOrParameterOrEnumElement(t,n.sentinelEmptyArray,t.propertyName,n.ASTHelpers.getType(t),null,i)},u.prototype.resolveVariableDeclarator=function(t,i){return this.resolveVariableDeclaratorOrParameterOrEnumElement(t,n.ASTHelpers.getVariableDeclaratorModifiers(t),t.propertyName,n.ASTHelpers.getType(t),t.equalsValueClause,i)},u.prototype.resolveParameterList=function(n,t){return this.resolveSeparatedList(n.parameters,t)},u.prototype.resolveParameter=function(t,i){return this.resolveVariableDeclaratorOrParameterOrEnumElement(t,t.modifiers,t.identifier,n.ASTHelpers.getType(t),t.equalsValueClause,i)},u.prototype.getEnumTypeSymbol=function(n,t){var r=n.parent.parent,u=this.semanticInfoChain.getDeclForAST(r),i=u.getSymbol();return this.resolveDeclaredSymbol(i,t),i},u.prototype.resolveEnumElement=function(t,i){return this.resolveVariableDeclaratorOrParameterOrEnumElement(t,n.sentinelEmptyArray,t.propertyName,null,t.equalsValueClause,i)},u.prototype.typeCheckEnumElement=function(t,i){this.typeCheckVariableDeclaratorOrParameterOrEnumElement(t,n.sentinelEmptyArray,t.propertyName,null,t.equalsValueClause,i)},u.prototype.resolveEqualsValueClause=function(n,t,i){return this.canTypeCheckAST(n,i)&&this.setTypeChecked(n,i),this.resolveAST(n.value,t,i)},u.prototype.resolveVariableDeclaratorOrParameterOrEnumElement=function(n,t,i,r,u,f){var a=r!==null||n.kind()===243,v=this.getEnclosingDeclForAST(n),o=this.semanticInfoChain.getDeclForAST(n),e,s,y,l,h,p,c;if(v&&o.kind===2048&&v.ensureSymbolIsBound(),e=o.getSymbol(),s=o.getValueDecl()?o.getValueDecl().getSymbol():null,e.isResolved)y=e.type,l=o.getValueDecl(),l&&(h=l.getSymbol(),h&&!h.isResolved&&(h.type=y,h.setResolved()));else{if(e.inResolution)return e.type=this.semanticInfoChain.anyTypeSymbol,e.setResolved(),e;e.type&&e.type.isError()||(e.startResolving(),p=this.resolveAndTypeCheckVariableDeclarationTypeExpr(n,i,r,f),a||this.resolveAndTypeCheckVariableDeclaratorOrParameterInitExpr(n,i,r,u,f,p),a||u||(c=this.semanticInfoChain.anyTypeSymbol,e.isVarArg&&this.cachedArrayInterfaceType()&&(c=this.createInstantiatedType(this.cachedArrayInterfaceType(),[c])),f.setTypeInContext(e,c),s&&(s.type=c)),e.setResolved(),s&&s.setResolved())}return this.canTypeCheckAST(n,f)&&this.typeCheckVariableDeclaratorOrParameterOrEnumElement(n,t,i,r,u,f),e},u.prototype.resolveAndTypeCheckVariableDeclarationTypeExpr=function(t,i,r,u){var v=this.getEnclosingDeclForAST(t),s=this.semanticInfoChain.getDeclForAST(t),e=s.getSymbol(),o=s.getValueDecl()?s.getValueDecl().getSymbol():null,c,l,f,a,h;return t.kind()===243?(c=this.getEnumTypeSymbol(t,u),e.type=c,c):r?(l=this.getEnclosingDecl(s),l=l||v,f=this.resolveTypeReference(r,u),f?f.isError()?(u.setTypeInContext(e,f),o&&u.setTypeInContext(o,f)):(f===this.semanticInfoChain.anyTypeSymbol&&s.setFlag(16777216),f.isContainer()?(a=f.getExportAssignedTypeSymbol(),a?f=a:(f=f.type,f.isAlias()&&(f=f.getExportAssignedTypeSymbol()),f&&f.isContainer()&&!f.isEnum()&&(h=f.getInstanceSymbol(),f=h&&n.PullHelpers.symbolIsEnum(h)?h.type:this.getNewErrorTypeSymbol()))):!e.isVarArg||f.isArrayNamedTypeReference()||f===this.cachedArrayInterfaceType()||(u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Rest_parameters_must_be_array_types)),f=this.getNewErrorTypeSymbol()),u.setTypeInContext(e,f),o&&(o.type=f),f.kind!==16777216||f.getFunctionSymbol()||f.setFunctionSymbol(e)):(u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Unable_to_resolve_type_of_0,[i.text()])),e.type=this.getNewErrorTypeSymbol(),o&&u.setTypeInContext(o,this.semanticInfoChain.anyTypeSymbol)),f):null},u.prototype.resolveAndTypeCheckVariableDeclaratorOrParameterInitExpr=function(t,i,r,u,f,e){var l,a,c,o;if(!u)return null;l=r!==null||t.kind()===243;e&&f.pushNewContextualType(e);var p=this.getEnclosingDeclForAST(t),s=this.semanticInfoChain.getDeclForAST(t),v=s.getSymbol(),h=s.getValueDecl()?s.getValueDecl().getSymbol():null,y=this.getEnclosingDecl(s);if(y=y||p,a=this.resolveAST(u,e!==null,f),e&&f.popAnyContextualType(),a){if(c=a.type,!l)return o=c.widenedType(this,u.value,f),f.setTypeInContext(v,o),h&&f.setTypeInContext(h,o),this.compilationSettings.noImplicitAny()&&o!==c&&o===this.semanticInfoChain.anyTypeSymbol&&f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[i.text()])),o}else f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Unable_to_resolve_type_of_0,[i.text()])),l||(f.setTypeInContext(v,this.getNewErrorTypeSymbol()),h&&f.setTypeInContext(h,this.semanticInfoChain.anyTypeSymbol));return c},u.prototype.typeCheckPropertySignature=function(t,i){this.typeCheckVariableDeclaratorOrParameterOrEnumElement(t,n.sentinelEmptyArray,t.propertyName,n.ASTHelpers.getType(t),null,i)},u.prototype.typeCheckMemberVariableDeclaration=function(t,i){this.typeCheckVariableDeclaratorOrParameterOrEnumElement(t,t.modifiers,t.variableDeclarator.propertyName,n.ASTHelpers.getType(t),t.variableDeclarator.equalsValueClause,i)},u.prototype.typeCheckVariableDeclarator=function(t,i){this.typeCheckVariableDeclaratorOrParameterOrEnumElement(t,n.ASTHelpers.getVariableDeclaratorModifiers(t),t.propertyName,n.ASTHelpers.getType(t),t.equalsValueClause,i)},u.prototype.typeCheckParameter=function(t,i){this.typeCheckVariableDeclaratorOrParameterOrEnumElement(t,t.modifiers,t.identifier,n.ASTHelpers.getType(t),t.equalsValueClause,i)},u.prototype.typeCheckVariableDeclaratorOrParameterOrEnumElement=function(i,r,u,f,e,o){var nt=this,w,b,y,g,v,h,k,d;this.setTypeChecked(i,o);var tt=f!==null||i.kind()===243,a=this.getEnclosingDeclForAST(i),p=this.semanticInfoChain.getDeclForAST(i),c=p.getSymbol(),s=this.resolveAndTypeCheckVariableDeclarationTypeExpr(i,u,f,o),l=this.resolveAndTypeCheckVariableDeclaratorOrParameterInitExpr(i,u,f,e,o,s);tt||e?(s&&s.isAlias()&&(s=s.getExportAssignedTypeSymbol()),s&&s.kind===32&&(w=s.getExportAssignedTypeSymbol(),w?s=w:(b=s.getInstanceType(),b?s=b:(o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Tried_to_set_variable_type_to_uninitialized_module_type_0,[s.toString()])),s=null))),l=this.getInstanceTypeForAssignment(i,l,o),l&&s&&(y=new t,g=this.sourceIsAssignableToTarget(l,s,i,o,y),g||(v=this.getEnclosingSymbolForAST(i),y.message?o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[l.toString(v),s.toString(v),y.message])):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1,[l.toString(v),s.toString(v)]))))):i.kind()!==243&&this.compilationSettings.noImplicitAny()&&!this.isForInVariableDeclarator(i)&&(h=this.getEnclosingDecl(p),h=h||a,h.kind===16384||h.kind===32768||h.kind===2097152?o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[u.text(),a.name])):h.kind===65536?(k=h.getParentDecl(),n.hasFlag(k.flags,8)?n.hasFlag(k.flags,8)&&!n.hasFlag(h.flags,2)&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[u.text(),a.name])):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Parameter_0_of_1_implicitly_has_an_any_type,[u.text(),a.name]))):p.kind!==4096||c.getContainer().isNamedTypeSymbol()?h.kind!==268435456&&(n.hasFlag(h.flags,8)?n.hasFlag(h.flags,8)&&!n.hasModifier(r,2)&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[u.text()])):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Variable_0_implicitly_has_an_any_type,[u.text()]))):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Member_0_of_object_type_implicitly_has_an_any_type,[u.text()])));e&&i.kind()===242&&(d=a.getSignatureSymbol(),d&&!d.isDefinition()&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Default_arguments_are_only_allowed_in_implementation)));c.kind!==2048&&(c.kind!==4096||c.getContainer().isNamedTypeSymbol())&&this.checkSymbolPrivacy(c,c.type,function(n){return nt.variablePrivacyErrorReporter(i,c,n,o)});(c.kind!==4096&&c.kind!==67108864||c.anyDeclHasFlag(8388608))&&this.checkNameForCompilerGeneratedDeclarationCollision(i,!0,u,o)},u.prototype.isForInVariableDeclarator=function(n){return n.kind()===225&&n.parent&&n.parent.parent&&n.parent.parent.parent&&n.parent.kind()===2&&n.parent.parent.kind()===224&&n.parent.parent.parent.kind()===155&&n.parent.parent.parent.variableDeclaration===n.parent.parent},u.prototype.checkSuperCaptureVariableCollides=function(t,i,r){var e=this.getEnclosingDeclForAST(t),f=this.getContextualClassSymbolForEnclosingDecl(t,e),u,o,s;if(f&&!f.anyDeclHasFlag(8)){if(t.kind()===242&&(u=this.getASTForDecl(e),u.kind()!==218&&u.kind()!==219&&(o=e.kind===65536?u.block:u.block,!o)))return;this.resolveDeclaredSymbol(f,r);s=f.getExtendedTypes();s.length&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,i?n.DiagnosticCode.Duplicate_identifier_super_Compiler_uses_super_to_capture_base_class_reference:n.DiagnosticCode.Expression_resolves_to_super_that_compiler_uses_to_capture_base_class_reference))}},u.prototype.checkThisCaptureVariableCollides=function(t,i,r){var o,s,h,e,f,u;if(!i||(f=this.semanticInfoChain.getDeclForAST(t),!n.hasFlag(f.flags,8)))for(o=this.getEnclosingDeclForAST(t),s=n.ASTHelpers.getEnclosingModuleDeclaration(t),n.ASTHelpers.isAnyNameOfModule(s,t)&&(o=this.getEnclosingDeclForAST(s)),h=o.getParentPath(),e=h.length-1;e>=0;e--)if((f=h[e],u=f.kind,u!==131072||!n.hasFlag(f.flags,8192))&&(u===16384||u===65536||u===32768||u===262144||u===524288||u===131072||u===8||u===4||u===32||u===1)){n.hasFlag(f.flags,262144)&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,i?n.DiagnosticCode.Duplicate_identifier_this_Compiler_uses_variable_declaration_this_to_capture_this_reference:n.DiagnosticCode.Expression_resolves_to_variable_declaration_this_that_compiler_uses_to_capture_this_reference));break}},u.prototype.postTypeCheckVariableDeclaratorOrParameter=function(n,t){this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.resolveTypeParameterDeclaration=function(n,t){var r=this.semanticInfoChain.getDeclForAST(n),i=r.getSymbol();return this.resolveFirstTypeParameterDeclaration(i,t),i.isResolved&&this.canTypeCheckAST(n,t)&&this.typeCheckTypeParameterDeclaration(n,t),i},u.prototype.resolveFirstTypeParameterDeclaration=function(n,t){var u=n.getDeclarations()[0],r=this.semanticInfoChain.getASTForDecl(u),i;n.isResolved||n.inResolution||(n.startResolving(),r.constraint&&(i=this.resolveTypeReference(r.constraint.type,t),i&&n.setConstraint(i)),n.setResolved())},u.prototype.typeCheckTypeParameterDeclaration=function(t,i){var u,f,e,r;if(this.setTypeChecked(t,i),u=this.resolveAST(t.constraint,!1,i),u){for(f=t.parent,e=[],r=0;r<f.nonSeparatorCount();r++){var s=f.nonSeparatorAt(r),h=this.semanticInfoChain.getDeclForAST(s),o=this.semanticInfoChain.getSymbolForDecl(h);e[o.pullSymbolID]=o}u.wrapsSomeTypeParameter(e)&&this.semanticInfoChain.addDiagnosticFromAST(t,n.DiagnosticCode.Constraint_of_a_type_parameter_cannot_reference_any_type_parameter_from_the_same_type_parameter_list)}},u.prototype.resolveConstraint=function(n,t){return this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),this.resolveTypeReference(n.type,t)},u.prototype.resolveFunctionBodyReturnTypes=function(i,r,u,f,e,o,s){var nt=this,a=[],v=[o],tt=function(n,t){var i=!0,r;switch(n.kind()){case 129:case 219:case 218:case 222:case 215:i=!1;break;case 150:r=n;o.setFlag(4194304);a.push({expression:r.expression,enclosingDecl:v[v.length-1]});i=!1;break;case 236:case 163:v[v.length]=nt.semanticInfoChain.getDeclForAST(n)}return t.options.goChildren=i,n},it=function(n,t){switch(n.kind()){case 236:case 163:v.length--}return t.options.goChildren=!0,n},c,b,p,l,h,g,w,y;if(r?n.getAstWalkerFactory().walk(r,tt,it):(a.push({expression:u,enclosingDecl:o}),o.setFlag(4194304)),a.length){for(c=[],b=[],p=0;p<a.length;p++)if(l=a[p].expression,l){if(h=this.resolveAST(l,e,s).type,h.isError()){f.returnType=h;return}l.parent.kind()===150&&this.setSymbolForAST(l.parent,h,s);c.push(h);b.push(l)}if(c.length){var rt={getLength:function(){return c.length},getTypeAtIndex:function(n){return c[n].type}},d=this.findBestCommonType(rt,s,new t),h=d,l=b[c.indexOf(h)],ut=this.semanticInfoChain.getDeclForAST(i),k=ut.getSymbol();h&&(g=h,w=h.widenedType(this,l,s),f.returnType=w,n.ArrayUtilities.contains(c,d)||s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Could_not_find_the_best_common_type_of_types_of_all_return_statement_expressions)),this.compilationSettings.noImplicitAny()&&g!==w&&w===this.semanticInfoChain.anyTypeSymbol&&(y=o.name,y===""&&(y=o.getFunctionExpressionName()),y!=""?s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[y])):s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type))));!k.type&&k.isAccessor()&&(k.type=f.returnType)}else f.returnType=this.semanticInfoChain.voidTypeSymbol}else f.returnType=this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckConstructorDeclaration=function(t,i){var e=this,r,u,f;for(this.setTypeChecked(t,i),r=this.semanticInfoChain.getDeclForAST(t),u=0;u<t.callSignature.parameterList.parameters.nonSeparatorCount();u++)this.resolveAST(t.callSignature.parameterList.parameters.nonSeparatorAt(u),!1,i);this.resolveAST(t.block,!1,i);r.getSignatureSymbol()&&r.getSignatureSymbol().isDefinition()&&this.enclosingClassIsDerived(r.getParentDecl())&&(this.constructorHasSuperCall(t)?this.superCallMustBeFirstStatementInConstructor(r)&&(f=this.getFirstStatementOfBlockOrNull(t.block),f&&this.isSuperInvocationExpressionStatement(f)||i.postDiagnostic(new n.Diagnostic(t.fileName(),this.semanticInfoChain.lineMap(t.fileName()),t.start(),11,n.DiagnosticCode.A_super_call_must_be_the_first_statement_in_the_constructor_when_a_class_contains_initialized_properties_or_has_parameter_properties))):i.postDiagnostic(new n.Diagnostic(t.fileName(),this.semanticInfoChain.lineMap(t.fileName()),t.start(),11,n.DiagnosticCode.Constructors_for_derived_classes_must_contain_a_super_call)));this.validateVariableDeclarationGroups(r,i);this.checkFunctionTypePrivacy(t,!1,null,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),null,t.block,i);this.typeCheckCallBacks.push(function(n){e.typeCheckFunctionOverloads(t,n)})},u.prototype.constructorHasSuperCall=function(t){var u=this,i,r;return t.block?(i=!1,r=function(n,t){switch(n.kind()){case 129:case 219:case 218:case 222:case 215:t.options.goChildren=!1;default:u.isSuperInvocationExpression(n)&&(i=!0,t.options.stopWalking=!0)}},n.getAstWalkerFactory().walk(t.block,r),i):!1},u.prototype.typeCheckFunctionExpression=function(t,i,r){this.typeCheckAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),t.callSignature.typeAnnotation,t.block,null,i,r)},u.prototype.typeCheckCallSignature=function(t,i){this.typeCheckAnyFunctionDeclaration(t,!1,null,t.typeParameterList,t.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.typeCheckConstructSignature=function(t,i){this.typeCheckAnyFunctionDeclaration(t,!1,null,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.typeCheckMethodSignature=function(t,i){this.typeCheckAnyFunctionDeclaration(t,!1,t.propertyName,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.typeCheckMemberFunctionDeclaration=function(t,i){this.typeCheckAnyFunctionDeclaration(t,n.hasModifier(t.modifiers,16),t.propertyName,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),t.block,i)},u.prototype.containsSingleThrowStatement=function(n){return n!==null&&n.statements.childCount()===1&&n.statements.childAt(0).kind()===157},u.prototype.typeCheckAnyFunctionDeclaration=function(t,i,r,u,f,e,o,s){var l=this,h,c,a;if(this.setTypeChecked(t,s),h=this.semanticInfoChain.getDeclForAST(t),u)for(c=0;c<u.typeParameters.nonSeparatorCount();c++)this.resolveTypeParameterDeclaration(u.typeParameters.nonSeparatorAt(c),s);this.resolveAST(f,!1,s);this.resolveAST(o,!1,s);a=this.getEnclosingDecl(h);this.resolveReturnTypeAnnotationOfFunctionDeclaration(t,e,s);this.validateVariableDeclarationGroups(h,s);this.checkFunctionTypePrivacy(t,i,u,n.ASTHelpers.parametersFromParameterList(f),e,o,s);this.checkThatNonVoidFunctionHasReturnExpressionOrThrowStatement(h,e,h.getSignatureSymbol().returnType,o,s);h.kind===16384&&this.checkNameForCompilerGeneratedDeclarationCollision(t,!0,r,s);this.typeCheckCallBacks.push(function(n){l.typeCheckFunctionOverloads(t,n)})},u.prototype.checkThatNonVoidFunctionHasReturnExpressionOrThrowStatement=function(t,i,r,u,f){var o=n.hasFlag(t.flags,4194304),e,s;u===null||i===null||o||(e=this.isAnyOrEquivalent(r)||r===this.semanticInfoChain.voidTypeSymbol,e||this.containsSingleThrowStatement(u)||(s=t.getDisplayName()||n.getLocalizedText(n.DiagnosticCode.expression,null),f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Function_declared_a_non_void_return_type_but_has_no_return_expression))))},u.prototype.typeCheckIndexSignature=function(i,r){var u=this,f,o,e;this.setTypeChecked(i,r);f=this.semanticInfoChain.getDeclForAST(i);this.resolveAST(i.parameter,!1,r);o=this.getEnclosingDecl(f);this.resolveReturnTypeAnnotationOfFunctionDeclaration(i,n.ASTHelpers.getType(i),r);this.validateVariableDeclarationGroups(f,r);this.checkFunctionTypePrivacy(i,!1,null,n.ASTHelpers.parametersFromParameter(i.parameter),n.ASTHelpers.getType(i),null,r);e=f.getSignatureSymbol();this.typeCheckCallBacks.push(function(r){var y=f.getSignatureSymbol().getContainer(),w=u.getBothKindsOfIndexSignaturesExcludingAugmentedType(y,r),l=w.stringSignature,h=w.numericSignature,b=h===e,a,s,o,p,v,c;for(h&&l&&(b||l.getDeclarations()[0].getParentDecl()!==h.getDeclarations()[0].getParentDecl())&&(c=new t,u.sourceIsAssignableToTarget(h.returnType,l.returnType,i,r,c)||(a=u.getEnclosingSymbolForAST(i),c.message?r.postDiagnostic(u.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Numeric_indexer_type_0_must_be_assignable_to_string_indexer_type_1_NL_2,[h.returnType.toString(a),l.returnType.toString(a),c.message])):r.postDiagnostic(u.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Numeric_indexer_type_0_must_be_assignable_to_string_indexer_type_1,[h.returnType.toString(a),l.returnType.toString(a)])))),s=y.type.getAllMembers(536869887,0),o=0;o<s.length;o++)if(p=s[o],v=p.name,(v||p.kind===4096&&v==="")&&(s[o].isResolved||u.resolveDeclaredSymbol(s[o],r),y!==s[o].getContainer())){var k=n.PullHelpers.isNameNumeric(v),d=b===k,g=!h;(d||g)&&(c=new t,u.sourceIsAssignableToTarget(s[o].type,e.returnType,i,r,c,!1)||u.reportErrorThatMemberIsNotSubtypeOfIndexer(s[o],e,i,r,c))}})},u.prototype.postTypeCheckFunctionDeclaration=function(n,t){this.checkThisCaptureVariableCollides(n,!0,t)},u.prototype.resolveReturnTypeAnnotationOfFunctionDeclaration=function(t,i,r){var u=null,e,f;return i&&(e=this.semanticInfoChain.getDeclForAST(t),u=this.resolveTypeReference(i,r),u?(f=t.kind()===137||t.kind()===143,f&&u===this.semanticInfoChain.voidTypeSymbol&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Constructors_cannot_have_a_return_type_of_void))):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_resolve_return_type_reference))),u},u.prototype.resolveMemberFunctionDeclaration=function(t,i){return this.resolveFunctionDeclaration(t,n.hasModifier(t.modifiers,16),t.propertyName,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),t.block,i)},u.prototype.resolveCallSignature=function(t,i){return this.resolveFunctionDeclaration(t,!1,null,t.typeParameterList,t.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.resolveConstructSignature=function(t,i){return this.resolveFunctionDeclaration(t,!1,null,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.resolveMethodSignature=function(t,i){return this.resolveFunctionDeclaration(t,!1,t.propertyName,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),null,i)},u.prototype.resolveAnyFunctionDeclaration=function(t,i){return this.resolveFunctionDeclaration(t,n.hasModifier(t.modifiers,16),t.identifier,t.callSignature.typeParameterList,t.callSignature.parameterList,n.ASTHelpers.getType(t),t.block,i)},u.prototype.resolveFunctionExpression=function(t,i,r){return this.resolveAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),n.ASTHelpers.getType(t),t.block,null,i,r)},u.prototype.resolveSimpleArrowFunctionExpression=function(t,i,r){return this.resolveAnyFunctionExpression(t,null,n.ASTHelpers.parametersFromIdentifier(t.identifier),null,t.block,t.expression,i,r)},u.prototype.resolveParenthesizedArrowFunctionExpression=function(t,i,r){return this.resolveAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),n.ASTHelpers.getType(t),t.block,t.expression,i,r)},u.prototype.getEnclosingClassDeclaration=function(n){while(n){if(n.kind()===131)return n;n=n.parent}return null},u.prototype.resolveConstructorDeclaration=function(n,t){var s=this.semanticInfoChain.getDeclForAST(n),i=s.getSymbol(),r=s.getSignatureSymbol(),e,h,u,o,c,f;if(r){if(r.isResolved)return this.canTypeCheckAST(n,t)&&this.typeCheckConstructorDeclaration(n,t),i;if(r.inResolution||(e=this.getEnclosingClassDeclaration(n),e&&(h=this.semanticInfoChain.getDeclForAST(e),u=h.getSymbol(),u.isResolved||u.inResolution||this.resolveDeclaredSymbol(u,t))),o=i&&i.type,r.inResolution)return r.returnType=this.semanticInfoChain.anyTypeSymbol,i&&(i.setUnresolved(),i.type===this.semanticInfoChain.anyTypeSymbol&&(i.type=o)),r.setResolved(),i;for(i&&i.startResolving(),r.startResolving(),c=t.inTypeCheck,t.inTypeCheck=!1,f=0;f<n.callSignature.parameterList.parameters.nonSeparatorCount();f++)this.resolveParameter(n.callSignature.parameterList.parameters.nonSeparatorAt(f),t);t.inTypeCheck=c;r.isGeneric()&&i&&i.type.setHasGenericSignature();!1||(i&&(i.setUnresolved(),i.type===this.semanticInfoChain.anyTypeSymbol&&(i.type=o)),r.setResolved())}return i&&this.resolveOtherDeclarations(n,t),this.canTypeCheckAST(n,t)&&this.typeCheckConstructorDeclaration(n,t),i},u.prototype.resolveIndexMemberDeclaration=function(n,t){return this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),this.resolveIndexSignature(n.indexSignature,t)},u.prototype.resolveIndexSignature=function(t,i){var s=this.semanticInfoChain.getDeclForAST(t),r=s.getSymbol(),u=s.getSignatureSymbol(),e=!1,o,f,h;if(u){if(u.isResolved)return this.canTypeCheckAST(t,i)&&this.typeCheckIndexSignature(t,i),r;if(o=r&&r.type,u.inResolution)return t.typeAnnotation?(f=this.resolveTypeReference(n.ASTHelpers.getType(t),i),f?u.returnType=f:(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(n.ASTHelpers.getType(t),n.DiagnosticCode.Cannot_resolve_return_type_reference)),u.returnType=this.getNewErrorTypeSymbol(),e=!0)):u.returnType=this.semanticInfoChain.anyTypeSymbol,r&&(r.setUnresolved(),r.type===this.semanticInfoChain.anyTypeSymbol&&(r.type=o)),u.setResolved(),r;r&&r.startResolving();u.startResolving();t.parameter&&(h=i.inTypeCheck,i.inTypeCheck=!1,this.resolveParameter(t.parameter,i),i.inTypeCheck=h);t.typeAnnotation?(f=this.resolveReturnTypeAnnotationOfFunctionDeclaration(t,n.ASTHelpers.getType(t),i),f?u.returnType=f:(u.returnType=this.getNewErrorTypeSymbol(),e=!0)):u.returnType=this.semanticInfoChain.anyTypeSymbol;e||(r&&(r.setUnresolved(),r.type===this.semanticInfoChain.anyTypeSymbol&&(r.type=o)),u.setResolved())}return r&&this.resolveOtherDeclarations(t,i),this.canTypeCheckAST(t,i)&&this.typeCheckIndexSignature(t,i),r},u.prototype.resolveFunctionDeclaration=function(t,i,r,u,f,e,o,s){var l=this.semanticInfoChain.getDeclForAST(t),h=l.getSymbol(),c=l.getSignatureSymbol(),w=!1,g=t.kind()===143,b,nt,y,k,v,tt,a,p,it,d;if(c){if(c.isResolved)return this.canTypeCheckAST(t,s)&&this.typeCheckAnyFunctionDeclaration(t,i,r,u,f,e,o,s),h;if(g&&!c.inResolution&&(b=this.getEnclosingClassDeclaration(t),b&&(nt=this.semanticInfoChain.getDeclForAST(b),y=nt.getSymbol(),y.isResolved||y.inResolution||this.resolveDeclaredSymbol(y,s))),k=h&&h.type,c.inResolution)return e?(v=this.resolveTypeReference(e,s),v?(c.returnType=v,g&&v===this.semanticInfoChain.voidTypeSymbol&&s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Constructors_cannot_have_a_return_type_of_void))):(s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(e,n.DiagnosticCode.Cannot_resolve_return_type_reference)),c.returnType=this.getNewErrorTypeSymbol(),w=!0)):c.returnType=this.semanticInfoChain.anyTypeSymbol,h&&(h.setUnresolved(),h.type===this.semanticInfoChain.anyTypeSymbol&&(h.type=k)),c.setResolved(),h;if(h&&h.startResolving(),c.startResolving(),u)for(a=0;a<u.typeParameters.nonSeparatorCount();a++)this.resolveTypeParameterDeclaration(u.typeParameters.nonSeparatorAt(a),s);if(f){for(tt=s.inTypeCheck,s.inTypeCheck=!1,a=0;a<f.parameters.nonSeparatorCount();a++)this.resolveParameter(f.parameters.nonSeparatorAt(a),s);s.inTypeCheck=tt}e?(v=this.resolveReturnTypeAnnotationOfFunctionDeclaration(t,e,s),v?c.returnType=v:(c.returnType=this.getNewErrorTypeSymbol(),w=!0)):l.kind!==2097152?n.hasFlag(l.flags,2048)?(c.returnType=this.semanticInfoChain.anyTypeSymbol,p=0,(n.hasFlag(l.kind,65536)||n.hasFlag(l.kind,32768))&&(it=l.getParentDecl(),p=it.flags),this.compilationSettings.noImplicitAny()&&(!n.hasFlag(p,8)||n.hasFlag(p,8)&&!n.hasFlag(l.flags,2))&&(d=r,d?s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[d.text()])):s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Lambda_Function_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)))):this.resolveFunctionBodyReturnTypes(t,o,null,c,!1,l,s):l.kind===2097152&&(c.returnType=this.semanticInfoChain.anyTypeSymbol,this.compilationSettings.noImplicitAny()&&s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Constructor_signature_which_lacks_return_type_annotation_implicitly_has_an_any_return_type)));w||(h&&(h.setUnresolved(),h.type===this.semanticInfoChain.anyTypeSymbol&&(h.type=k)),c.setResolved())}return h&&this.resolveOtherDeclarations(t,s),this.canTypeCheckAST(t,s)&&this.typeCheckAnyFunctionDeclaration(t,i,r,u,f,e,o,s),h},u.prototype.resolveGetterReturnTypeAnnotation=function(t,i,r){return t&&t.typeAnnotation?this.resolveTypeReference(n.ASTHelpers.getType(t),r):null},u.prototype.resolveSetterArgumentTypeAnnotation=function(t,i,r){if(t&&t.parameterList&&t.parameterList.parameters.nonSeparatorCount()>0){var u=t.parameterList.parameters.nonSeparatorAt(0);return this.resolveTypeReference(n.ASTHelpers.getType(u),r)}return null},u.prototype.resolveAccessorDeclaration=function(t,i){var l=this.semanticInfoChain.getDeclForAST(t),r=l.getSymbol(),h;if(r.inResolution)return r.type=this.semanticInfoChain.anyTypeSymbol,r.setResolved(),r;if(r.isResolved)r.type||(r.type=this.semanticInfoChain.anyTypeSymbol);else{var u=r.getGetter(),e=u?u.getDeclarations()[0].ast():null,b=u!==null,f=r.getSetter(),a=f?f.getDeclarations()[0].ast():null,v=f!==null,g=this.resolveGetterReturnTypeAnnotation(e,l,i),y=g!==null,k=this.resolveSetterArgumentTypeAnnotation(a,l,i),p=k!==null;if(r.startResolving(),b&&(u=this.resolveGetAccessorDeclaration(e,e.parameterList,n.ASTHelpers.getType(e),e.block,k,i)),v&&(f=this.resolveSetAccessorDeclaration(a,a.parameterList,i)),b&&v){var d=f.type.getCallSignatures()[0],o=d.parameters,w=o.length>0,h=u.type.getCallSignatures()[0],c=w?o[0].type:null,s=h.returnType;p&&!y?(s=c,h.returnType=c):(!y||p)&&(y||p)||(c=s,w&&(o[0].type=s));r.type=this.typesAreIdentical(c,s,i)?s:this.getNewErrorTypeSymbol()}else if(v){var d=f.type.getCallSignatures()[0],o=d.parameters,w=o.length>0;r.type=w?o[0].type:this.semanticInfoChain.anyTypeSymbol}else h=u.type.getCallSignatures()[0],r.type=h.returnType;r.setResolved()}return this.canTypeCheckAST(t,i)&&this.typeCheckAccessorDeclaration(t,i),r},u.prototype.typeCheckAccessorDeclaration=function(n,t){var r,u;this.setTypeChecked(n,t);var f=this.semanticInfoChain.getDeclForAST(n),i=f.getSymbol(),e=i.getGetter(),s=i.getSetter(),o=n.kind()===139;o?(r=n,t.pushNewContextualType(e.type),this.typeCheckGetAccessorDeclaration(r,t),t.popAnyContextualType()):(u=n,this.typeCheckSetAccessorDeclaration(u,t))},u.prototype.resolveGetAccessorDeclaration=function(n,t,i,r,u,f){var h=this.semanticInfoChain.getDeclForAST(n),l=h.getSymbol(),o=l.getGetter(),a=o.type,e=a.getCallSignatures()[0],c=!1,s;if(e){if(e.isResolved)return o;if(e.inResolution)return e.returnType=this.semanticInfoChain.anyTypeSymbol,e.setResolved(),o;e.startResolving();i?(s=this.resolveReturnTypeAnnotationOfFunctionDeclaration(n,i,f),s?e.returnType=s:(e.returnType=this.getNewErrorTypeSymbol(),c=!0)):u?e.returnType=u:this.resolveFunctionBodyReturnTypes(n,r,null,e,!1,h,f);c||e.setResolved()}return o},u.prototype.checkIfGetterAndSetterTypeMatch=function(t,i){var h=this.semanticInfoChain.getDeclForAST(t),r=h.getSymbol(),f=r.getGetter(),e=r.getSetter(),o,s;if(f&&e&&(o=f.getDeclarations()[0].ast(),s=e.getDeclarations()[0].ast(),o.typeAnnotation&&u.hasSetAccessorParameterTypeAnnotation(s))){var c=e.type.getCallSignatures()[0],l=c.parameters,f=r.getGetter(),a=f.type.getCallSignatures()[0],v=l[0].type,y=a.returnType;this.typesAreIdentical(v,y,i)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.get_and_set_accessor_must_have_the_same_type))}},u.prototype.typeCheckGetAccessorDeclaration=function(t,i){var r=this.semanticInfoChain.getDeclForAST(t),e=r.getSymbol(),u;this.resolveReturnTypeAnnotationOfFunctionDeclaration(t,n.ASTHelpers.getType(t),i);this.resolveAST(t.block,!1,i);this.validateVariableDeclarationGroups(r,i);var l=this.getEnclosingDecl(r),o=(r.flags&4196352)!=0,f=t.propertyName;if(o||this.containsSingleThrowStatement(t.block)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(f,n.DiagnosticCode.Getters_must_return_a_value)),u=e.getSetter(),u){var s=u.getDeclarations()[0],h=n.hasFlag(s.flags,2),c=n.hasModifier(t.modifiers,2);c!==h&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(f,n.DiagnosticCode.Getter_and_setter_accessors_do_not_agree_in_visibility));this.checkIfGetterAndSetterTypeMatch(t,i)}this.checkFunctionTypePrivacy(t,n.hasModifier(t.modifiers,16),null,n.ASTHelpers.parametersFromParameterList(t.parameterList),n.ASTHelpers.getType(t),t.block,i)},u.hasSetAccessorParameterTypeAnnotation=function(n){return n.parameterList&&n.parameterList.parameters.nonSeparatorCount()>0&&n.parameterList.parameters.nonSeparatorAt(0).typeAnnotation!==null},u.prototype.resolveSetAccessorDeclaration=function(n,t,i){var e=this.semanticInfoChain.getDeclForAST(n),o=e.getSymbol(),u=o.getSetter(),s=u.type,r=e.getSignatureSymbol(),f;if(r){if(r.isResolved)return u;if(r.inResolution)return r.returnType=this.semanticInfoChain.voidTypeSymbol,r.setResolved(),u;if(r.startResolving(),t)for(f=0;f<t.parameters.nonSeparatorCount();f++)this.resolveParameter(t.parameters.nonSeparatorAt(f),i);r.returnType=this.semanticInfoChain.voidTypeSymbol;!1||r.setResolved()}return u},u.prototype.typeCheckSetAccessorDeclaration=function(t,i){var f=this.semanticInfoChain.getDeclForAST(t),o=f.getSymbol(),r,e;if(t.parameterList)for(r=0;r<t.parameterList.parameters.nonSeparatorCount();r++)this.resolveParameter(t.parameterList.parameters.nonSeparatorAt(r),i);this.resolveAST(t.block,!1,i);this.validateVariableDeclarationGroups(f,i);var v=(f.flags&4196352)!=0,s=o.getGetter(),h=t.propertyName;if(s){var c=s.getDeclarations()[0],l=n.hasFlag(c.flags,2),a=n.hasModifier(t.modifiers,2);l!==a&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(h,n.DiagnosticCode.Getter_and_setter_accessors_do_not_agree_in_visibility));this.checkIfGetterAndSetterTypeMatch(t,i)}else this.compilationSettings.noImplicitAny()&&(e=t,u.hasSetAccessorParameterTypeAnnotation(e)||o.type!==this.semanticInfoChain.anyTypeSymbol||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode._0_which_lacks_get_accessor_and_parameter_type_annotation_on_set_accessor_implicitly_has_an_any_type,[e.propertyName.text()])));this.checkFunctionTypePrivacy(t,n.hasModifier(t.modifiers,16),null,n.ASTHelpers.parametersFromParameterList(t.parameterList),null,t.block,i)},u.prototype.resolveList=function(n,t){if(this.canTypeCheckAST(n,t)){this.setTypeChecked(n,t);for(var i=0,r=n.childCount();i<r;i++)this.resolveAST(n.childAt(i),!1,t)}return this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveSeparatedList=function(n,t){if(this.canTypeCheckAST(n,t)){this.setTypeChecked(n,t);for(var i=0,r=n.nonSeparatorCount();i<r;i++)this.resolveAST(n.nonSeparatorAt(i),!1,t)}return this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveVoidExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)),this.semanticInfoChain.undefinedTypeSymbol},u.prototype.resolveLogicalOperation=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckLogicalOperation(n,t),this.semanticInfoChain.booleanTypeSymbol},u.prototype.typeCheckLogicalOperation=function(i,r){var e;this.setTypeChecked(i,r);var u=this.resolveAST(i.left,!1,r).type,f=this.resolveAST(i.right,!1,r).type,o=new t;this.sourceIsAssignableToTarget(u,f,i,r,o)||this.sourceIsAssignableToTarget(f,u,i,r,o)||(e=this.getEnclosingSymbolForAST(i),r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Operator_0_cannot_be_applied_to_types_1_and_2,[n.SyntaxFacts.getText(n.SyntaxFacts.getOperatorTokenFromBinaryExpression(i.kind())),u.toString(e),f.toString(e)])))},u.prototype.resolveLogicalNotExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.operand,!1,t)),this.semanticInfoChain.booleanTypeSymbol},u.prototype.resolveUnaryArithmeticOperation=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckUnaryArithmeticOperation(n,t),this.semanticInfoChain.numberTypeSymbol},u.prototype.resolvePostfixUnaryExpression=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckPostfixUnaryExpression(n,t),this.semanticInfoChain.numberTypeSymbol},u.prototype.isAnyOrNumberOrEnum=function(t){return this.isAnyOrEquivalent(t)||t===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(t)},u.prototype.typeCheckUnaryArithmeticOperation=function(t,i){var r,u,f;(this.setTypeChecked(t,i),r=t.kind(),u=this.resolveAST(t.operand,!1,i),r!==164&&r!=165&&r!=166)&&(n.Debug.assert(r===168||r===169),f=u.type,this.isAnyOrNumberOrEnum(f)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.operand,n.DiagnosticCode.The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type_any_number_or_an_enum_type)),this.isReference(t.operand,u)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.operand,n.DiagnosticCode.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer)))},u.prototype.typeCheckPostfixUnaryExpression=function(t,i){var r,u,f;this.setTypeChecked(t,i);r=t.kind();u=this.resolveAST(t.operand,!1,i);n.Debug.assert(r===210||r===211);f=u.type;this.isAnyOrNumberOrEnum(f)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.operand,n.DiagnosticCode.The_type_of_a_unary_arithmetic_operation_operand_must_be_of_type_any_number_or_an_enum_type));this.isReference(t.operand,u)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.operand,n.DiagnosticCode.The_operand_of_an_increment_or_decrement_operator_must_be_a_variable_property_or_indexer))},u.prototype.resolveBinaryArithmeticExpression=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckBinaryArithmeticExpression(n,t),this.semanticInfoChain.numberTypeSymbol},u.prototype.typeCheckBinaryArithmeticExpression=function(t,i){var f,e;this.setTypeChecked(t,i);var o=this.resolveAST(t.left,!1,i),r=o.type,u=this.resolveAST(t.right,!1,i).type;if((r===this.semanticInfoChain.nullTypeSymbol||r===this.semanticInfoChain.undefinedTypeSymbol)&&(r=u),(u===this.semanticInfoChain.nullTypeSymbol||u===this.semanticInfoChain.undefinedTypeSymbol)&&(u=r),f=this.isAnyOrNumberOrEnum(r),e=this.isAnyOrNumberOrEnum(u),e||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.right,n.DiagnosticCode.The_right_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type)),f||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.The_left_hand_side_of_an_arithmetic_operation_must_be_of_type_any_number_or_an_enum_type)),f&&e)switch(t.kind()){case 183:case 184:case 185:case 176:case 177:case 178:case 179:case 182:case 180:case 181:this.isReference(t.left,o)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression));this.checkAssignability(t.left,u,r,i)}},u.prototype.resolveTypeOfExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)),this.semanticInfoChain.stringTypeSymbol},u.prototype.resolveThrowStatement=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveDeleteExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)),this.semanticInfoChain.booleanTypeSymbol},u.prototype.resolveInstanceOfExpression=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckInstanceOfExpression(n,t),this.semanticInfoChain.booleanTypeSymbol},u.prototype.typeCheckInstanceOfExpression=function(t,i){this.setTypeChecked(t,i);var r=this.resolveAST(t.left,!1,i).type,u=this.resolveAST(t.right,!1,i).type,o=this.getEnclosingSymbolForAST(t),f=this.isAnyOrEquivalent(r)||r.isObject()||r.isTypeParameter(),e=this.isAnyOrEquivalent(u)||this.typeIsAssignableToFunction(u,t,i);f||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.The_left_hand_side_of_an_instanceof_expression_must_be_of_type_any_an_object_type_or_a_type_parameter));e||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.right,n.DiagnosticCode.The_right_hand_side_of_an_instanceof_expression_must_be_of_type_any_or_of_a_type_assignable_to_the_Function_interface_type))},u.prototype.resolveCommaExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.left,!1,t)),this.resolveAST(n.right,!1,t).type},u.prototype.resolveInExpression=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckInExpression(n,t),this.semanticInfoChain.booleanTypeSymbol},u.prototype.typeCheckInExpression=function(t,i){this.setTypeChecked(t,i);var r=this.resolveAST(t.left,!1,i).type,u=this.resolveAST(t.right,!1,i).type,f=this.isAnyOrEquivalent(r.type)||r.type===this.semanticInfoChain.stringTypeSymbol||r.type===this.semanticInfoChain.numberTypeSymbol,e=this.isAnyOrEquivalent(u)||u.isObject()||u.isTypeParameter();f||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.The_left_hand_side_of_an_in_expression_must_be_of_types_any_string_or_number));e||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.right,n.DiagnosticCode.The_right_hand_side_of_an_in_expression_must_be_of_type_any_an_object_type_or_a_type_parameter))},u.prototype.resolveForStatement=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.variableDeclaration,!1,t),this.resolveAST(n.initializer,!1,t),this.resolveAST(n.condition,!1,t),this.resolveAST(n.incrementor,!1,t),this.resolveAST(n.statement,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveForInStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckForInStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckForInStatement=function(t,i){var u,e,f,o,r,s;this.setTypeChecked(t,i);t.variableDeclaration?(u=t.variableDeclaration,u.declarators.nonSeparatorCount()===1&&(e=u.declarators.nonSeparatorAt(0),e.typeAnnotation&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u,n.DiagnosticCode.Variable_declarations_of_a_for_statement_cannot_use_a_type_annotation)))):(f=this.resolveAST(t.left,!1,i),o=f.type===this.semanticInfoChain.stringTypeSymbol||this.isAnyOrEquivalent(f.type),o||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.Variable_declarations_of_a_for_statement_must_be_of_types_string_or_any)));r=this.resolveAST(t.expression,!1,i).type;s=r&&(this.isAnyOrEquivalent(r)||r.isObject()||r.isTypeParameter());s||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.expression,n.DiagnosticCode.The_right_hand_side_of_a_for_in_statement_must_be_of_type_any_an_object_type_or_a_type_parameter));this.resolveAST(t.statement,!1,i)},u.prototype.resolveWhileStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckWhileStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckWhileStatement=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.condition,!1,t);this.resolveAST(n.statement,!1,t)},u.prototype.resolveDoStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckDoStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckDoStatement=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.condition,!1,t);this.resolveAST(n.statement,!1,t)},u.prototype.resolveIfStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckIfStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckIfStatement=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.condition,!1,t);this.resolveAST(n.statement,!1,t);this.resolveAST(n.elseClause,!1,t)},u.prototype.resolveElseClause=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckElseClause(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckElseClause=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.statement,!1,t)},u.prototype.resolveBlock=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.statements,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveVariableStatement=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.declaration,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveVariableDeclarationList=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.declarators,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveWithStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckWithStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckWithStatement=function(t,i){this.setTypeChecked(t,i);var r=t;i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r.condition,n.DiagnosticCode.All_symbols_within_a_with_block_will_be_resolved_to_any))},u.prototype.resolveTryStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckTryStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckTryStatement=function(n,t){this.setTypeChecked(n,t);var i=n;this.resolveAST(i.block,!1,t);this.resolveAST(i.catchClause,!1,t);this.resolveAST(i.finallyClause,!1,t)},u.prototype.resolveCatchClause=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckCatchClause(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckCatchClause=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.block,!1,t);var i=this.semanticInfoChain.getDeclForAST(n);this.validateVariableDeclarationGroups(i,t)},u.prototype.resolveFinallyClause=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckFinallyClause(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckFinallyClause=function(n,t){this.setTypeChecked(n,t);this.resolveAST(n.block,!1,t)},u.prototype.getEnclosingFunctionDeclaration=function(n){for(var t=this.getEnclosingDeclForAST(n);t;){if(t.kind&1032192)return t;t=t.getParentDecl()}return null},u.prototype.resolveReturnExpression=function(t,i,r){var f,s,e,o,u,c;if(i&&i.setFlag(4194304),f=!1,i)if(s=this.getASTForDecl(i),e=n.ASTHelpers.getType(s),e)o=this.resolveTypeReference(e,r),o&&(f=!0,r.pushNewContextualType(o));else if(u=r.getContextualType(),u&&u.isFunction()){var l=u.kind==33554432?u.getConstructSignatures():u.getCallSignatures(),a=l[0],h=a.returnType;h&&(f=!0,r.propagateContextualType(h))}return c=this.resolveAST(t,f,r).type,f&&r.popAnyContextualType(),c},u.prototype.typeCheckReturnExpression=function(i,r,u,f){var c,l,a,v,y,o,e,p,h,s;u&&u.kind===32768&&(c=u.getParentDecl(),c&&(l=c.getSymbol(),this.resolveDeclaredSymbol(l,f),e=new t,h=this.sourceIsAssignableToTarget(r,l.type,i,f,e),h||f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Return_type_of_constructor_signature_must_be_assignable_to_the_instance_type_of_the_class))));u&&u.kind===524288&&f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Setters_cannot_return_a_value));u&&(a=this.getASTForDecl(u),v=n.ASTHelpers.getType(a),(v||u.kind===262144)&&(y=u.getSignatureSymbol(),o=y.returnType,r&&o&&(e=new t,p=null,this.resolveDeclaredSymbol(r,f),this.resolveDeclaredSymbol(o,f),h=this.sourceIsAssignableToTarget(r,o,i,f,e),h||(s=this.getEnclosingSymbolForAST(i),e.message?f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[r.toString(s),o.toString(s),e.message])):f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1,[r.toString(s),o.toString(s)]))))))},u.prototype.resolveReturnStatement=function(n,t){var u=this.getEnclosingFunctionDeclaration(n),r,e,i,f;return u&&u.setFlag(4194304),r=this.getSymbolForAST(n,t),e=this.canTypeCheckAST(n,t),(!r||e)&&(i=n.expression,f=i===null?this.semanticInfoChain.voidTypeSymbol:this.resolveReturnExpression(i,u,t),r||(r=f,this.setSymbolForAST(n,f,t)),i&&e&&(this.setTypeChecked(i,t),this.typeCheckReturnExpression(i,f,u,t))),r},u.prototype.resolveSwitchStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckSwitchStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckSwitchStatement=function(i,r){var f,h,l,c,u,e,o,s,a;for(this.setTypeChecked(i,r),f=this.resolveAST(i.expression,!1,r).type,h=0,l=i.switchClauses.childCount();h<l;h++)c=i.switchClauses.childAt(h),c.kind()===233?(u=c,e=this.resolveAST(u.expression,!1,r).type,this.resolveAST(u.statements,!1,r),o=new t,this.sourceIsAssignableToTarget(f,e,u.expression,r,o)||this.sourceIsAssignableToTarget(e,f,u.expression,r,o)||(s=this.getEnclosingSymbolForAST(u.expression),o.message?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u.expression,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[e.toString(s),f.toString(s),o.message])):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u.expression,n.DiagnosticCode.Cannot_convert_0_to_1,[e.toString(s),f.toString(s)])))):(a=c,this.resolveAST(a.statements,!1,r))},u.prototype.resolveLabeledStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckLabeledStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckLabeledStatement=function(t,i){this.setTypeChecked(t,i);var r=t.identifier.valueText(),f=this.getEnclosingLabels(t,!0,!1),u=n.ArrayUtilities.firstOrDefault(f,function(n){return n.identifier.valueText()===r});u&&i.postDiagnostic(this.semanticInfoChain.duplicateIdentifierDiagnosticFromAST(t.identifier,r,u));this.resolveAST(t.statement,!1,i)},u.prototype.labelIsOnContinuableConstruct=function(n){switch(n.kind()){case 160:return this.labelIsOnContinuableConstruct(n.statement);case 158:case 154:case 155:case 161:return!0;default:return!1}},u.prototype.resolveContinueStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckContinueStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.isIterationStatement=function(n){switch(n.kind()){case 154:case 155:case 158:case 161:return!0}return!1},u.prototype.isAnyFunctionExpressionOrDeclaration=function(n){switch(n.kind()){case 219:case 218:case 222:case 129:case 135:case 241:case 137:case 139:case 140:return!0}return!1},u.prototype.inSwitchStatement=function(n){while(n){if(n.kind()===151)return!0;if(this.isAnyFunctionExpressionOrDeclaration(n))return!1;n=n.parent}return!1},u.prototype.inIterationStatement=function(n,t){while(n){if(this.isIterationStatement(n))return!0;if(!t&&this.isAnyFunctionExpressionOrDeclaration(n))return!1;n=n.parent}return!1},u.prototype.getEnclosingLabels=function(n,t,i){var u=[],r;for(n=n.parent;n;){if(n.kind()===160&&(r=n,t?u.push(r):this.labelIsOnContinuableConstruct(r.statement)&&u.push(r)),!i&&this.isAnyFunctionExpressionOrDeclaration(n))break;n=n.parent}return u},u.prototype.typeCheckContinueStatement=function(t,i){var r;this.setTypeChecked(t,i);this.inIterationStatement(t,!1)?t.identifier&&(r=this.getEnclosingLabels(t,!1,!1),n.ArrayUtilities.any(r,function(n){return n.identifier.valueText()===t.identifier.valueText()})||(r=this.getEnclosingLabels(t,!1,!0),n.ArrayUtilities.any(r,function(n){return n.identifier.valueText()===t.identifier.valueText()})?i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_cannot_cross_function_boundary)):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_not_found)))):this.inIterationStatement(t,!0)?i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_cannot_cross_function_boundary)):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.continue_statement_can_only_be_used_within_an_enclosing_iteration_statement))},u.prototype.resolveBreakStatement=function(n,t){return this.canTypeCheckAST(n,t)&&this.typeCheckBreakStatement(n,t),this.semanticInfoChain.voidTypeSymbol},u.prototype.typeCheckBreakStatement=function(t,i){var r;this.setTypeChecked(t,i);t.identifier?(r=this.getEnclosingLabels(t,!0,!1),n.ArrayUtilities.any(r,function(n){return n.identifier.valueText()===t.identifier.valueText()})||(r=this.getEnclosingLabels(t,!0,!0),n.ArrayUtilities.any(r,function(n){return n.identifier.valueText()===t.identifier.valueText()})?i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_cannot_cross_function_boundary)):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_not_found)))):this.inIterationStatement(t,!1)||this.inSwitchStatement(t)||(this.inIterationStatement(t,!0)?i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Jump_target_cannot_cross_function_boundary)):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.break_statement_can_only_be_used_within_an_enclosing_iteration_or_switch_statement)))},u.prototype.resolveAST=function(t,r,u){var f,e;if(t){if(f=this.getSymbolForAST(t,u),f&&f.isResolved)return this.typeCheckAST(t,r,u),f;if(t.isExpression()&&!i(t))return this.resolveExpressionAST(t,r,u);e=t.kind();switch(e){case 124:case 126:case 122:case 127:case 125:case 123:return this.resolveTypeReference(t,u);case 1:return this.resolveList(t,u);case 2:return this.resolveSeparatedList(t,u);case 120:return this.resolveSourceUnit(t,u);case 132:return this.resolveEnumDeclaration(t,u);case 130:return this.resolveModuleDeclaration(t,u);case 128:return this.resolveInterfaceDeclaration(t,u);case 131:return this.resolveClassDeclaration(t,u);case 224:return this.resolveVariableDeclarationList(t,u);case 136:return this.resolveMemberVariableDeclaration(t,u);case 225:return this.resolveVariableDeclarator(t,u);case 141:return this.resolvePropertySignature(t,u);case 227:return this.resolveParameterList(t,u);case 242:return this.resolveParameter(t,u);case 243:return this.resolveEnumElement(t,u);case 232:return this.resolveEqualsValueClause(t,r,u);case 238:return this.resolveTypeParameterDeclaration(t,u);case 239:return this.resolveConstraint(t,u);case 133:return this.resolveImportDeclaration(t,u);case 240:return this.resolveSimplePropertyAssignment(t,r,u);case 241:return this.resolveFunctionPropertyAssignment(t,r,u);case 11:return n.Debug.assert(i(t)),this.resolveTypeNameExpression(t,u);case 121:return this.resolveQualifiedName(t,u);case 137:return this.resolveConstructorDeclaration(t,u);case 139:case 140:return this.resolveAccessorDeclaration(t,u);case 138:return this.resolveIndexMemberDeclaration(t,u);case 144:return this.resolveIndexSignature(t,u);case 135:return this.resolveMemberFunctionDeclaration(t,u);case 142:return this.resolveCallSignature(t,u);case 143:return this.resolveConstructSignature(t,u);case 145:return this.resolveMethodSignature(t,u);case 129:return this.resolveAnyFunctionDeclaration(t,u);case 244:return this.resolveTypeAnnotation(t,u);case 134:return this.resolveExportAssignmentStatement(t,u);case 157:return this.resolveThrowStatement(t,u);case 149:return this.resolveExpressionStatement(t,u);case 154:return this.resolveForStatement(t,u);case 155:return this.resolveForInStatement(t,u);case 158:return this.resolveWhileStatement(t,u);case 161:return this.resolveDoStatement(t,u);case 147:return this.resolveIfStatement(t,u);case 235:return this.resolveElseClause(t,u);case 146:return this.resolveBlock(t,u);case 148:return this.resolveVariableStatement(t,u);case 163:return this.resolveWithStatement(t,u);case 159:return this.resolveTryStatement(t,u);case 236:return this.resolveCatchClause(t,u);case 237:return this.resolveFinallyClause(t,u);case 150:return this.resolveReturnStatement(t,u);case 151:return this.resolveSwitchStatement(t,u);case 153:return this.resolveContinueStatement(t,u);case 152:return this.resolveBreakStatement(t,u);case 160:return this.resolveLabeledStatement(t,u)}return this.semanticInfoChain.anyTypeSymbol}},u.prototype.resolveExpressionAST=function(n,t,i){var r=this.resolveExpressionWorker(n,t,i);return t&&i.isInferentiallyTyping()?this.alterPotentialGenericFunctionTypeToInstantiatedFunctionTypeForTypeArgumentInference(r,i):r},u.prototype.resolveExpressionWorker=function(t,i,r){switch(t.kind()){case 215:return this.resolveObjectLiteralExpression(t,i,r);case 11:return this.resolveNameExpression(t,r);case 212:return this.resolveMemberAccessExpression(t,r);case 222:return this.resolveFunctionExpression(t,i,r);case 219:return this.resolveSimpleArrowFunctionExpression(t,i,r);case 218:return this.resolveParenthesizedArrowFunctionExpression(t,i,r);case 214:return this.resolveArrayLiteralExpression(t,i,r);case 35:return this.resolveThisExpression(t,r);case 50:return this.resolveSuperExpression(t,r);case 213:return this.resolveInvocationExpression(t,r);case 216:return this.resolveObjectCreationExpression(t,r);case 220:return this.resolveCastExpression(t,r);case 13:return this.semanticInfoChain.numberTypeSymbol;case 14:return this.semanticInfoChain.stringTypeSymbol;case 32:return this.semanticInfoChain.nullTypeSymbol;case 37:case 24:return this.semanticInfoChain.booleanTypeSymbol;case 172:return this.resolveVoidExpression(t,r);case 174:return this.resolveAssignmentExpression(t,r);case 167:return this.resolveLogicalNotExpression(t,r);case 193:case 192:case 194:case 195:case 196:case 198:case 199:case 197:return this.resolveLogicalOperation(t,r);case 208:case 175:return this.resolveBinaryAdditionOperation(t,r);case 164:case 165:case 166:case 168:case 169:return this.resolveUnaryArithmeticOperation(t,r);case 210:case 211:return this.resolvePostfixUnaryExpression(t,r);case 209:case 205:case 206:case 207:case 189:case 191:case 202:case 203:case 204:case 190:case 181:case 183:case 184:case 185:case 176:case 177:case 178:case 179:case 182:case 180:return this.resolveBinaryArithmeticExpression(t,r);case 221:return this.resolveElementAccessExpression(t,r);case 187:return this.resolveLogicalOrExpression(t,i,r);case 188:return this.resolveLogicalAndExpression(t,r);case 171:return this.resolveTypeOfExpression(t,r);case 170:return this.resolveDeleteExpression(t,r);case 186:return this.resolveConditionalExpression(t,i,r);case 12:return this.resolveRegularExpressionLiteral();case 217:return this.resolveParenthesizedExpression(t,r);case 200:return this.resolveInstanceOfExpression(t,r);case 173:return this.resolveCommaExpression(t,r);case 201:return this.resolveInExpression(t,r);case 223:return this.semanticInfoChain.undefinedTypeSymbol}n.Debug.fail("resolveExpressionASTWorker: Missing expression kind: "+n.SyntaxKind[t.kind()])},u.prototype.typeCheckAST=function(t,r,u){var e,f;if(this.canTypeCheckAST(t,u)){e=t.kind();switch(e){case 120:this.typeCheckSourceUnit(t,u);return;case 132:this.typeCheckEnumDeclaration(t,u);return;case 130:this.typeCheckModuleDeclaration(t,u);return;case 128:this.typeCheckInterfaceDeclaration(t,u);return;case 131:this.typeCheckClassDeclaration(t,u);return;case 243:this.typeCheckEnumElement(t,u);return;case 136:this.typeCheckMemberVariableDeclaration(t,u);return;case 225:this.typeCheckVariableDeclarator(t,u);return;case 141:this.typeCheckPropertySignature(t,u);return;case 242:this.typeCheckParameter(t,u);return;case 133:this.typeCheckImportDeclaration(t,u);return;case 215:this.resolveObjectLiteralExpression(t,r,u);return;case 241:this.typeCheckFunctionPropertyAssignment(t,r,u);return;case 11:i(t)?this.resolveTypeNameExpression(t,u):this.resolveNameExpression(t,u);return;case 212:this.resolveMemberAccessExpression(t,u);return;case 121:this.resolveQualifiedName(t,u);return;case 222:this.typeCheckFunctionExpression(t,r,u);return;case 137:this.typeCheckConstructorDeclaration(t,u);return;case 139:case 140:this.typeCheckAccessorDeclaration(t,u);return;case 135:this.typeCheckMemberFunctionDeclaration(t,u);return;case 145:this.typeCheckMethodSignature(t,u);return;case 144:this.typeCheckIndexSignature(t,u);break;case 142:this.typeCheckCallSignature(t,u);return;case 143:this.typeCheckConstructSignature(t,u);return;case 129:f=t;this.typeCheckAnyFunctionDeclaration(f,n.hasModifier(f.modifiers,16),f.identifier,f.callSignature.typeParameterList,f.callSignature.parameterList,n.ASTHelpers.getType(f),f.block,u);return;case 219:this.typeCheckSimpleArrowFunctionExpression(t,r,u);return;case 218:this.typeCheckParenthesizedArrowFunctionExpression(t,r,u);return;case 214:this.resolveArrayLiteralExpression(t,r,u);return;case 213:this.typeCheckInvocationExpression(t,u);return;case 216:this.typeCheckObjectCreationExpression(t,u);return;case 150:this.resolveReturnStatement(t,u);return;default:n.Debug.assert(!1,"Failure nodeType: "+n.SyntaxKind[t.kind()]+". Implement typeCheck when symbol is set for the ast as part of resolution.")}}},u.prototype.processPostTypeCheckWorkItems=function(n){while(this.postTypeCheckWorkitems.length){var t=this.postTypeCheckWorkitems.pop();this.postTypeCheck(t,n)}},u.prototype.postTypeCheck=function(t,i){var r=t.kind();switch(r){case 242:case 225:this.postTypeCheckVariableDeclaratorOrParameter(t,i);return;case 131:this.postTypeCheckClassDeclaration(t,i);return;case 129:this.postTypeCheckFunctionDeclaration(t,i);return;case 130:this.postTypeCheckModuleDeclaration(t,i);return;case 132:this.postTypeCheckEnumDeclaration(t,i);return;case 133:this.postTypeCheckImportDeclaration(t,i);return;case 11:this.postTypeCheckNameExpression(t,i);return;default:n.Debug.assert(!1,"Implement postTypeCheck clause to handle the postTypeCheck work, nodeType: "+n.SyntaxKind[t.kind()])}},u.prototype.resolveRegularExpressionLiteral=function(){return this.cachedRegExpInterfaceType()?this.cachedRegExpInterfaceType():this.semanticInfoChain.anyTypeSymbol},u.prototype.postTypeCheckNameExpression=function(n,t){this.checkThisCaptureVariableCollides(n,!1,t)},u.prototype.typeCheckNameExpression=function(n,t){this.setTypeChecked(n,t);this.checkNameForCompilerGeneratedDeclarationCollision(n,!1,n,t)},u.prototype.resolveNameExpression=function(n,t){var i=this.getSymbolForAST(n,t),r=i!==null;return(!r||this.canTypeCheckAST(n,t))&&(this.canTypeCheckAST(n,t)&&this.typeCheckNameExpression(n,t),i=this.computeNameExpression(n,t)),this.resolveDeclaredSymbol(i,t),i&&(i.type!==this.semanticInfoChain.anyTypeSymbol||i.anyDeclHasFlag(16777217))&&this.setSymbolForAST(n,i,t),i},u.prototype.isInEnumDecl=function(n){var i,r,t,n;if(n.kind&64)return!0;for(i=n.getParentPath(),r=58728959,t=i.length-1;t>=0;t--){if(n=i[t],n.kind&64)return!0;if(n.kind&r)return!1}return!1},u.prototype.getSomeInnermostFunctionScopeDecl=function(n){for(var i,t=n.length-1;t>=0;t--)if(i=n[t],i.kind&1032192)return i;return null},u.prototype.isFromFunctionScope=function(t,i){var r=this;return n.ArrayUtilities.any(t.getDeclarations(),function(n){return r.getSomeInnermostFunctionScopeDecl(n.getParentPath())===i})},u.prototype.findConstructorDeclOfEnclosingType=function(t){for(var i=t,r;i;){if(n.hasFlag(i.kind,4096)&&(r=i.getParentDecl(),n.hasFlag(r.kind,8)))return n.ArrayUtilities.lastOrDefault(r.getChildDecls(),function(t){return n.hasFlag(t.kind,32768)});if(n.hasFlag(i.kind,164))return null;i=i.getParentDecl()}return null},u.prototype.checkNameAsPartOfInitializerExpressionForInstanceMemberVariable=function(t){var f=t.valueText(),u,i,r,e,o;return f.length===0?null:(u=n.ASTHelpers.getEnclosingMemberVariableDeclaration(t),u&&(i=this.semanticInfoChain.getDeclForAST(u),!n.hasFlag(i.flags,16)&&(r=this.findConstructorDeclOfEnclosingType(i),r&&(e=r.searchChildDecls(f,68147712),e.length))))?(o=i.getSymbol(),this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Initializer_of_instance_member_variable_0_cannot_reference_identifier_1_declared_in_the_constructor,[o.getScopedName(r.getSymbol()),t.text()])):null},u.prototype.computeNameExpression=function(t,i){var u=t.valueText(),e,s,y,p,h,r,w,d,o,b,a,v,f,k;if(u.length===0)return this.semanticInfoChain.anyTypeSymbol;if(r=null,e=this.getEnclosingDeclForAST(t),n.hasFlag(e.flags,8388608)&&(s=e.getValueDecl(),s&&n.hasFlag(s.kind,2048)&&(e=s)),y=this.checkNameAsPartOfInitializerExpressionForInstanceMemberVariable(t),n.ASTHelpers.isDeclarationASTOrDeclarationNameAST(t)&&(r=this.semanticInfoChain.getDeclForAST(t.parent).getSymbol()),p=e.getParentPath(),r||(h=68147712,this.isInEnumDecl(e)||(h=h&-67108865),r=this.getSymbolFromDeclPath(u,p,h)),u==="arguments"&&(w=this.getSomeInnermostFunctionScopeDecl(p),w&&(r&&this.isFromFunctionScope(r,w)||(r=this.cachedFunctionArgumentsSymbol(),this.resolveDeclaredSymbol(this.cachedIArgumentsInterfaceType(),i)))),r){if(y)return i.postDiagnostic(y),this.getNewErrorTypeSymbol(u)}else return i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Could_not_find_symbol_0,[t.text()])),this.getNewErrorTypeSymbol(u);if(d=r.getDeclarations()[0],o=d.getParentDecl(),o&&o.kind&1032192&&o.flags&33554432){var g=this.semanticInfoChain.getASTForDecl(o),c=this.getCurrentParameterIndexForFunction(t,g),l=n.ASTHelpers.getParameterList(g);if(c>=0){if(l)for(a=0;a<=c;a++)if(v=l.parameters.nonSeparatorAt(a),v&&v.identifier.valueText()===u){b=v;break}if(b){if(b===n.ASTHelpers.getEnclosingParameterForInitializer(t))return i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Parameter_0_cannot_be_referenced_in_its_initializer,[l.parameters.nonSeparatorAt(c).identifier.text()])),this.getNewErrorTypeSymbol(u)}else return i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Initializer_of_parameter_0_cannot_reference_identifier_1_declared_after_it,[l.parameters.nonSeparatorAt(c).identifier.text(),t.text()])),this.getNewErrorTypeSymbol(u)}}return f=null,r.isType()&&r.isAlias()&&(f=r,this.inTypeQuery(t)||f.setIsUsedAsValue(),this.resolveDeclaredSymbol(r,i),this.resolveDeclaredSymbol(f.assignedValue(),i),this.resolveDeclaredSymbol(f.assignedContainer(),i),k=r.getExportAssignedValueSymbol(),k?r=k:f=null),f&&this.semanticInfoChain.setAliasSymbolForAST(t,f),r},u.prototype.getCurrentParameterIndexForFunction=function(t,i){var r=n.ASTHelpers.getParameterList(i);if(r)while(t&&t.parent){if(t.parent.parent===r)return r.parameters.nonSeparatorIndexOf(t);t=t.parent}return-1},u.prototype.resolveMemberAccessExpression=function(n,t){return this.resolveDottedNameExpression(n,n.expression,n.name,t)},u.prototype.resolveDottedNameExpression=function(n,t,i,r){var u=this.getSymbolForAST(n,r),e=u!==null,f;return(!e||this.canTypeCheckAST(n,r))&&(f=this.canTypeCheckAST(n,r),f&&this.setTypeChecked(n,r),u=this.computeDottedNameExpression(t,i,r,f)),this.resolveDeclaredSymbol(u,r),u&&(u.type!==this.semanticInfoChain.anyTypeSymbol||u.anyDeclHasFlag(16777217))&&(this.setSymbolForAST(n,u,r),this.setSymbolForAST(i,u,r)),u},u.prototype.computeDottedNameExpression=function(n,t,i,r){var f=t.valueText(),u;return f.length===0?this.semanticInfoChain.anyTypeSymbol:(u=this.resolveAST(n,!1,i),this.computeDottedNameExpressionFromLHS(u,n,t,i,r))},u.prototype.computeDottedNameExpressionFromLHS=function(t,i,r,u,f){var s=r.valueText(),e,l,h,a,p,o,w,v,b,c,y;return s.length===0?this.semanticInfoChain.anyTypeSymbol:(e=t.type,t.isAlias()&&(l=t,this.inTypeQuery(i)||l.setIsUsedAsValue(),e=l.getExportAssignedTypeSymbol()),e.isAlias()&&(e=e.getExportAssignedTypeSymbol()),!e)?(u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.Could_not_find_enclosing_symbol_for_dotted_name_0,[r.text()])),this.getNewErrorTypeSymbol()):(e.isResolved||(h=this.resolveDeclaredSymbol(e,u),h!==e&&(t.isType()||u.setTypeInContext(t,h),e=h)),!e.isContainer()||e.isAlias()||e.isEnum()||(a=e.getInstanceSymbol(),a&&(e=a.type)),p=e,e=this.getApparentType(e).widenedType(this,i,u),this.isAnyOrEquivalent(e))?e:(o=this._getNamedPropertySymbolOfAugmentedType(s,e),!o&&(e.kind===32?(w=e,v=w.getInstanceSymbol(),v&&(b=v.type,o=this.getNamedPropertySymbol(s,68147712,b))):(c=e.getAssociatedContainerType(),c&&!c.isClass()&&(o=this.getNamedPropertySymbol(s,68147712,c))),!o))?(y=this.getEnclosingDeclForAST(i),u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.The_property_0_does_not_exist_on_value_of_type_1,[r.text(),p.toString(y?y.getSymbol():null)])),this.getNewErrorTypeSymbol(s)):(f&&(this.checkForSuperMemberAccess(i,r,o,u)||this.checkForPrivateMemberAccess(r,e,o,u)),o)},u.prototype.resolveTypeNameExpression=function(n,t){var i=this.getSymbolForAST(n,t);return i&&i.isType()&&!this.canTypeCheckAST(n,t)||(this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),i=this.computeTypeNameExpression(n,t),this.setSymbolForAST(n,i,t)),this.resolveDeclaredSymbol(i,t),i},u.prototype.computeTypeNameExpression=function(t,i){var u=t.valueText(),f,h,c;if(u.length===0)return this.semanticInfoChain.anyTypeSymbol;var e=this.getEnclosingDeclForAST(t),o=e.getParentPath(),s=this.isLeftSideOfQualifiedName(t),l=s?164:58728795,a=s?58728795:164,r=this.getSymbolFromDeclPath(u,o,l);return(r||(r=this.getSymbolFromDeclPath(u,o,a)),!r)?(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Could_not_find_symbol_0,[t.text()])),this.getNewErrorTypeSymbol(u)):(f=null,r.isAlias()&&(f=r,this.resolveDeclaredSymbol(r,i),h=f.getExportAssignedTypeSymbol(),this.resolveDeclaredSymbol(h,i)),r.isTypeParameter()&&this.isInStaticMemberContext(e)&&(c=r.getDeclarations()[0].getParentDecl(),c.kind===8))?(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Static_members_cannot_reference_class_type_parameters)),this.getNewErrorTypeSymbol()):(!r.isGeneric()&&(r.isClass()||r.isInterface())&&(r=n.PullTypeReferenceSymbol.createTypeReference(r)),r)},u.prototype.isInStaticMemberContext=function(t){while(t){if(n.hasFlag(t.kind,1036288)&&n.hasFlag(t.flags,16))return!0;if(n.hasFlag(t.kind,164))return!1;t=t.getParentDecl()}return!1},u.prototype.isLeftSideOfQualifiedName=function(n){return n&&n.parent&&n.parent.kind()===121&&n.parent.left===n},u.prototype.resolveGenericTypeReference=function(t,i){var r=this.resolveAST(t.name,!1,i).type,f,e,p,l,u,b,c,o,y;if(r.isError())return r;if(r.inResolution||r.isResolved||this.resolveDeclaredSymbol(r,i),r.isAlias()&&(this.inClassExtendsHeritageClause(t)&&!this.inTypeArgumentList(t)&&r.setIsUsedAsValue(),r=r.getExportAssignedTypeSymbol()),f=r.getTypeParameters(),f.length===0)return i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_0_does_not_have_type_parameters,[r.toString()])),this.getNewErrorTypeSymbol();if(e=[],t.typeArgumentList&&t.typeArgumentList.typeArguments.nonSeparatorCount())for(u=0;u<t.typeArgumentList.typeArguments.nonSeparatorCount();u++)e[u]=this.resolveTypeReference(t.typeArgumentList.typeArguments.nonSeparatorAt(u),i),e[u].isError()&&(e[u]=this.semanticInfoChain.anyTypeSymbol);if(e.length&&e.length!==f.length)return i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Generic_type_0_requires_1_type_argument_s,[r.toString(),r.getTypeParameters().length])),this.getNewErrorTypeSymbol();if(!r.isResolved)for(p=r.getDeclarations(),l=null,u=0;u<p.length;u++)for(l=p[u].getChildDecls(),o=0;o<l.length;o++)l[o].ensureSymbolIsBound();var a=this.createInstantiatedType(r,e),s=null,w=null;f=a.getTypeParameters();var v=[],h=null,k=a.getTypeParameterArgumentMap();for(u=0;u<f.length;u++)v[f[u].pullSymbolID]=f[u];for(b in k)v[b]=k[b];for(c=0;c<e.length&&c<f.length;c++)if(h=e[c],s=f[c].getConstraint(),v[f[c].pullSymbolID]=h,s){if(s.isTypeParameter())for(o=0;o<f.length&&o<e.length;o++)f[o]===s&&(s=e[o]);else s.isGeneric()&&(s=this.instantiateType(s,v));if(h.isTypeParameter()&&(w=h.getConstraint(),w&&(h=w)),h.inResolution||h.isTypeReference()&&h.referencedTypeSymbol.inResolution)return a;this.sourceIsAssignableToTarget(h,s,t,i)||(y=this.getEnclosingSymbolForAST(t),i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[h.toString(y,!0),s.toString(y,!0),f[c].toString(y,!0)])))}return a},u.prototype.resolveQualifiedName=function(n,t){var i,r;return this.inTypeQuery(n)?this.resolveDottedNameExpression(n,n.left,n.right,t).type:(i=this.getSymbolForAST(n,t),(!i||this.canTypeCheckAST(n,t))&&(r=this.canTypeCheckAST(n,t),r&&this.setTypeChecked(n,t),i=this.computeQualifiedName(n,t),this.setSymbolForAST(n,i,t)),this.resolveDeclaredSymbol(i,t),i)},u.prototype.isLastNameOfModuleNameModuleReference=function(n){return n.kind()===11&&n.parent&&n.parent.kind()===121&&n.parent.right===n&&n.parent.parent&&n.parent.parent.kind()===246},u.prototype.computeQualifiedName=function(t,i){var e=t.right.valueText(),c,f,a;if(e.length===0)return this.semanticInfoChain.anyTypeSymbol;var s=this.getEnclosingDeclForAST(t),o=this.resolveAST(t.left,!1,i),r=o.isAlias()?o.getExportAssignedContainerSymbol():o.type;if(this.inClassExtendsHeritageClause(t)&&!this.inTypeArgumentList(t)&&o.isAlias()&&o.setIsUsedAsValue(),!r)return this.getNewErrorTypeSymbol();if(this.isAnyOrEquivalent(r))return r;var v=this.isLeftSideOfQualifiedName(t),l=t.parent.kind()===130&&t.parent.name===t,h=v||l?164:58728795,u=this.getNamedPropertySymbol(e,h,r);if(u||l||!this.isLastNameOfModuleNameModuleReference(t.right)||(u=this.getNamedPropertySymbol(e,68147712,r)),!u&&r.isContainer()&&(c=r.getExportAssignedContainerSymbol(),c&&(u=this.getNamedPropertySymbol(e,h,c))),!u&&s){for(f=s;f;){if(f.kind&164)break;f=f.getParentDecl()}f&&(a=f.getSymbol().type,a===r&&(u=this.getNamedPropertySymbol(e,h,r)))}return u?u:(i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.right,n.DiagnosticCode.The_property_0_does_not_exist_on_value_of_type_1,[t.right.text(),r.toString(s?s.getSymbol():null)])),this.getNewErrorTypeSymbol(e))},u.prototype.shouldContextuallyTypeAnyFunctionExpression=function(n,t,i,r,u){var f,s,e,o,h,c;if(t&&t.typeParameters.nonSeparatorCount()>0||r)return!1;if(i)for(f=0,s=i.length;f<s;f++)if(i.typeAt(f))return!1;return(e=u.getContextualType(),e)?(this.resolveDeclaredSymbol(e,u),o=e.getCallSignatures(),h=o&&o.length===1,!h)?!1:(c=o[0].getTypeParameters().length>0,!c):!1},u.prototype.resolveAnyFunctionExpression=function(t,i,r,u,f,e,o,s){var h=null,c=this.semanticInfoChain.getDeclForAST(t),y,l,a,v,p,w;if(n.Debug.assert(c),c&&c.hasSymbol()&&(h=c.getSymbol(),h.isResolved||h.inResolution))return h;if(h=c.getSymbol(),n.Debug.assert(h),y=h.type,l=y.getCallSignatures()[0],h.startResolving(),i)for(a=0;a<i.typeParameters.nonSeparatorCount();a++)this.resolveTypeParameterDeclaration(i.typeParameters.nonSeparatorAt(a),s);return v=null,o&&this.shouldContextuallyTypeAnyFunctionExpression(t,i,r,u,s)&&(v=s.getContextualType().getCallSignatures()[0]),this.resolveAnyFunctionExpressionParameters(t,i,r,u,o,s),u?l.returnType=this.resolveTypeReference(u,s):v?(p=v.returnType,p?(s.propagateContextualType(p),this.resolveFunctionBodyReturnTypes(t,f,e,l,!0,c,s),s.popAnyContextualType()):(l.returnType=this.semanticInfoChain.anyTypeSymbol,this.compilationSettings.noImplicitAny()&&(w=c.getFunctionExpressionName(),w!=""?s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode._0_which_lacks_return_type_annotation_implicitly_has_an_any_return_type,[w])):s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Function_expression_which_lacks_return_type_annotation_implicitly_has_an_any_return_type))))):this.resolveFunctionBodyReturnTypes(t,f,e,l,!1,c,s),s.setTypeInContext(h,y),h.setResolved(),this.canTypeCheckAST(t,s)&&this.typeCheckAnyFunctionExpression(t,i,r,u,f,e,o,s),h},u.prototype.resolveAnyFunctionExpressionParameters=function(n,t,i,r,u,f){var h,e,l;if(i){var v=this.semanticInfoChain.getDeclForAST(n),s=[],c=null;for(u&&this.shouldContextuallyTypeAnyFunctionExpression(n,t,i,r,f)&&(c=f.getContextualType().getCallSignatures()[0]),c&&(s=c.parameters),h=s.length,e=0,l=i.length;e<l;e++){var y=e===l-1&&i.lastParameterIsRest(),o=null,a=null;e<h?o=s[e]:h&&s[h-1].isVarArg&&(o=s[h-1]);o&&(o.isVarArg===y?a=o.type:o.isVarArg&&(a=o.type.getElementType()));this.resolveFunctionExpressionParameter(i.astAt(e),i.identifierAt(e),i.typeAt(e),i.initializerAt(e),a,v,f)}}},u.prototype.typeCheckSimpleArrowFunctionExpression=function(t,i,r){return this.typeCheckAnyFunctionExpression(t,null,n.ASTHelpers.parametersFromIdentifier(t.identifier),null,t.block,t.expression,i,r)},u.prototype.typeCheckParenthesizedArrowFunctionExpression=function(t,i,r){return this.typeCheckAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),n.ASTHelpers.getType(t),t.block,t.expression,i,r)},u.prototype.typeCheckAnyFunctionExpression=function(n,t,i,r,u,f,e,o){var l=this,h,c;this.setTypeChecked(n,o);var s=this.semanticInfoChain.getDeclForAST(n),a=s.getSymbol(),v=a.type,y=v.getCallSignatures()[0],p=y.returnType;if(t)for(h=0;h<t.typeParameters.nonSeparatorCount();h++)this.resolveTypeParameterDeclaration(t.typeParameters.nonSeparatorAt(h),o);this.resolveAnyFunctionExpressionParameters(n,t,i,r,e,o);o.pushNewContextualType(null);u?this.resolveAST(u,!1,o):(c=this.resolveReturnExpression(f,s,o),this.typeCheckReturnExpression(f,c,s,o));o.popAnyContextualType();this.checkThatNonVoidFunctionHasReturnExpressionOrThrowStatement(s,r,p,u,o);this.validateVariableDeclarationGroups(s,o);this.typeCheckCallBacks.push(function(t){l.typeCheckFunctionOverloads(n,t)})},u.prototype.resolveThisExpression=function(n,t){var i=this.getEnclosingDeclForAST(n),r=this.getContextualClassSymbolForEnclosingDecl(n,i)||this.semanticInfoChain.anyTypeSymbol;return this.canTypeCheckAST(n,t)&&this.typeCheckThisExpression(n,t,i),r},u.prototype.inTypeArgumentList=function(n){for(var i=null,t=n,r,u;t;){switch(t.kind()){case 126:if(r=t,r.typeArgumentList===i)return!0;break;case 226:return u=t,u.typeArgumentList===i}i=t;t=t.parent}return!1},u.prototype.inClassExtendsHeritageClause=function(n){while(n){switch(n.kind()){case 230:var t=n;return t.parent.parent.kind()===131;case 137:case 131:case 130:return!1}n=n.parent}return!1},u.prototype.inTypeQuery=function(n){while(n){switch(n.kind()){case 127:return!0;case 129:case 213:case 137:case 131:case 130:return!1}n=n.parent}return!1},u.prototype.inArgumentListOfSuperInvocation=function(n){for(var r=null,t=n,i;t;){switch(t.kind()){case 213:if(i=t,r===i.argumentList&&i.expression.kind()===50)return!0;break;case 137:case 131:case 130:return!1}r=t;t=t.parent}return!1},u.prototype.inConstructorParameterList=function(n){for(var r=null,t=n,i;t;){switch(t.kind()){case 142:if(i=t,r===i.parameterList&&i.parent.kind()===137)return!0;case 131:case 130:return!1}r=t;t=t.parent}return!1},u.prototype.isFunctionAccessorOrNonArrowFunctionExpression=function(n){return n.kind===262144||n.kind===524288?!0:this.isFunctionOrNonArrowFunctionExpression(n)},u.prototype.isFunctionOrNonArrowFunctionExpression=function(t){return t.kind===16384?!0:t.kind===131072&&!n.hasFlag(t.flags,8192)?!0:!1},u.prototype.typeCheckThisExpression=function(t,i,r){if(this.checkForThisCaptureInArrowFunction(t),this.inConstructorParameterList(t)){i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.this_cannot_be_referenced_in_constructor_arguments));return}for(var u=r;u!==null;u=u.getParentDecl()){if(this.isFunctionAccessorOrNonArrowFunctionExpression(u))return;if(u.kind===4||u.kind===32){if(u.getParentDecl()===null)return;i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.this_cannot_be_referenced_within_module_bodies));return}if(u.kind===64){i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.this_cannot_be_referenced_in_current_location));return}if(u.kind===32768){this.inArgumentListOfSuperInvocation(t)&&this.superCallMustBeFirstStatementInConstructor(u)&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.this_cannot_be_referenced_in_current_location));return}if(u.kind===8){this.inStaticMemberVariableDeclaration(t)&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.this_cannot_be_referenced_in_static_initializers_in_a_class_body));return}}},u.prototype.getContextualClassSymbolForEnclosingDecl=function(t,i){var u=i.getParentPath(),f,r,s,c;if(u.length)for(f=!1,r=u.length-1;r>=0;r--){var e=u[r],o=e.kind,h=e.flags;if(h&16)f=!0;else if(o!==131072||n.hasFlag(h,8192)){if(o===16384)return null;if(o===8)return this.inStaticMemberVariableDeclaration(t)?this.getNewErrorTypeSymbol():(s=e.getSymbol(),f?(c=s.getConstructorMethod(),c.type):s)}else return null}return null},u.prototype.inStaticMemberVariableDeclaration=function(t){while(t){if(t.kind()===136&&n.hasModifier(t.modifiers,16))return!0;t=t.parent}return!1},u.prototype.resolveSuperExpression=function(n,t){var u=this.getEnclosingDeclForAST(n),f=this.semanticInfoChain.anyTypeSymbol,i=this.getContextualClassSymbolForEnclosingDecl(n,u),r;return i&&(this.resolveDeclaredSymbol(i,t),r=i.getExtendedTypes(),r.length&&(f=r[0])),this.canTypeCheckAST(n,t)&&this.typeCheckSuperExpression(n,t,u),f},u.prototype.typeCheckSuperExpression=function(t,i,r){var e,f,u,o;if(this.setTypeChecked(t,i),this.checkForThisCaptureInArrowFunction(t),e=t.parent.kind()===213,f=t.parent.kind()===212,n.Debug.assert(e||f),f){for(u=r;u!==null;u=u.getParentDecl())if(this.isFunctionOrNonArrowFunctionExpression(u))break;else if(u.kind===8){if(this.enclosingClassIsDerived(u)){if(this.inConstructorParameterList(t)){i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.super_cannot_be_referenced_in_constructor_arguments));return}if(this.inStaticMemberVariableDeclaration(t))break}else{i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.super_cannot_be_referenced_in_non_derived_classes));return}return}i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.super_property_access_is_permitted_only_in_a_constructor_member_function_or_member_accessor_of_a_derived_class));return}if(r.kind===32768)if(o=r.getParentDecl(),this.enclosingClassIsDerived(o)){if(this.inConstructorParameterList(t)){i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.super_cannot_be_referenced_in_constructor_arguments));return}}else{i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.super_cannot_be_referenced_in_non_derived_classes));return}else i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Super_calls_are_not_permitted_outside_constructors_or_in_nested_functions_inside_constructors))},u.prototype.resolveSimplePropertyAssignment=function(n,t,i){return this.resolveAST(n.expression,t,i)},u.prototype.resolveFunctionPropertyAssignment=function(t,i,r){return this.resolveAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),n.ASTHelpers.getType(t),t.block,null,i,r)},u.prototype.typeCheckFunctionPropertyAssignment=function(t,i,r){this.typeCheckAnyFunctionExpression(t,t.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(t.callSignature.parameterList),n.ASTHelpers.getType(t),t.block,null,i,r)},u.prototype.resolveObjectLiteralExpression=function(n,t,i,r){var u=this.getSymbolForAST(n,i),f=u&&u.isResolved;return(!f||r||this.canTypeCheckAST(n,i))&&(this.canTypeCheckAST(n,i)&&this.setTypeChecked(n,i),u=this.computeObjectLiteralExpression(n,t,i,r),this.setSymbolForAST(n,u,i)),u},u.prototype.bindObjectLiteralMembers=function(t,i,r,u,f){for(var l,a=[],e,c=0,p=r.nonSeparatorCount();c<p;c++){var o=r.nonSeparatorAt(c),w=this.getPropertyAssignmentName(o),v=h(w),y=o.kind()===139||o.kind()===140,s=this.semanticInfoChain.getDeclForAST(o);n.Debug.assert(s);o.kind()===240?u?e=s.getSymbol():(e=new n.PullSymbol(v.memberName,4096),e.addDeclaration(s),s.setSymbol(e)):o.kind()===241?e=s.getSymbol():(n.Debug.assert(y),e=s.getSymbol());u||y||(l=i.findMember(e.name,!0),l&&f.postDiagnostic(this.semanticInfoChain.duplicateIdentifierDiagnosticFromAST(o,v.actualText,l.getDeclarations()[0].ast())),i.addMember(e));a.push(e)}return a},u.prototype.resolveObjectLiteralMembers=function(t,i,r,u,f,e,o,s,h,c,l,a){for(var p,tt,w=0,d=u.nonSeparatorCount();w<d;w++){var b=u.nonSeparatorAt(w),g=!1,v=null,nt=this.getPropertyAssignmentName(b),y=h[w],k=null;r&&(v=this.getNamedPropertySymbol(y.name,68147712,r),v||(e&&n.PullHelpers.isNameNumeric(y.name)?v=e:f&&(v=f)),v&&(this.resolveDeclaredSymbol(v,l),k=v.kind===4194304?v.returnType:v.type,l.propagateContextualType(k),g=!0,a&&(a.membersContextTypeSymbols[w]=k)));p=this.resolveAST(b,k!==null,l).type;p&&(p.isGeneric()&&i.setHasGenericMember(),f&&o.push(p),e&&n.PullHelpers.isNameNumeric(y.name)&&s.push(p));g&&l.popAnyContextualType();tt=b.kind()===140||b.kind()===139;y.isResolved||(tt?this.setSymbolForAST(nt,p,l):(l.setTypeInContext(y,p),y.setResolved(),this.setSymbolForAST(nt,y,l)))}},u.prototype.computeObjectLiteralExpression=function(t,i,r,u){var o=this.semanticInfoChain.getDeclForAST(t),f,c,l,e,y,p,w;n.Debug.assert(o);f=this.getSymbolForAST(t,r);c=!!f;f||(f=new n.PullTypeSymbol("",256),f.addDeclaration(o),this.setSymbolForAST(t,f,r),o.setSymbol(f));l=t.propertyAssignments;e=null;i&&(e=r.getContextualType(),this.resolveDeclaredSymbol(e,r));var s=null,h=null,a=null,v=null;return e&&(y=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(e,r),s=y.stringSignature,h=y.numericSignature,p=r.isInferentiallyTyping(),s&&(a=p?[]:[s.returnType]),h&&(v=p?[]:[h.returnType])),l&&(u&&(u.membersContextTypeSymbols=[]),w=this.bindObjectLiteralMembers(o,f,l,c,r),this.resolveObjectLiteralMembers(o,f,e,l,s,h,a,v,w,c,r,u),c||(this.stampObjectLiteralWithIndexSignature(f,a,s,r),this.stampObjectLiteralWithIndexSignature(f,v,h,r))),f.setResolved(),f},u.prototype.getPropertyAssignmentName=function(t){if(t.kind()===240||t.kind()===241||t.kind()===139||t.kind()===140)return t.propertyName;n.Debug.assert(!1)},u.prototype.stampObjectLiteralWithIndexSignature=function(n,t,i,r){if(i){var e={getLength:function(){return t.length},getTypeAtIndex:function(n){return t[n]}},u=n.getDeclarations()[0],f=this.findBestCommonType(e,r).widenedType(this,null,r);f===i.returnType?n.addIndexSignature(i):this.semanticInfoChain.addSyntheticIndexSignature(u,n,this.getASTForDecl(u),i.parameters[0].name,i.parameters[0].type,f)}},u.prototype.resolveArrayLiteralExpression=function(n,t,i){var r=this.getSymbolForAST(n,i);return(!r||this.canTypeCheckAST(n,i))&&(this.canTypeCheckAST(n,i)&&this.setTypeChecked(n,i),r=this.computeArrayLiteralExpressionSymbol(n,t,i),this.setSymbolForAST(n,r,i)),r},u.prototype.computeArrayLiteralExpressionSymbol=function(n,i,r){var e=n.expressions,u=null,o=[],a=new t,f=null,s,c,h,v,l;if(a.onlyCaptureFirstError=!0,i&&(s=r.getContextualType(),this.resolveDeclaredSymbol(s,r),s&&(c=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(s,r),c.numericSignature&&(f=c.numericSignature.returnType))),e){for(f&&r.propagateContextualType(f),h=0,v=e.nonSeparatorCount();h<v;h++)o.push(this.resolveAST(e.nonSeparatorAt(h),f!==null,r).type);f&&r.popAnyContextualType()}return o.length&&(u=o[0]),f&&!r.isInferentiallyTyping()?(u||(u=f),l={getLength:function(){return e.nonSeparatorCount()+1},getTypeAtIndex:function(n){return n===0?f:o[n-1]}}):l={getLength:function(){return e.nonSeparatorCount()},getTypeAtIndex:function(n){return o[n]}},u=u?this.findBestCommonType(l,r,a):u,u||(u=this.semanticInfoChain.undefinedTypeSymbol),this.getArrayType(u)},u.prototype.resolveElementAccessExpression=function(n,t){var i=this.computeElementAccessExpressionSymbolAndDiagnostic(n,t);return this.canTypeCheckAST(n,t)&&this.typeCheckElementAccessExpression(n,t,i),i.symbol},u.prototype.typeCheckElementAccessExpression=function(n,t,i){this.setTypeChecked(n,t);t.postDiagnostic(i.diagnostic)},u.prototype.computeElementAccessExpressionSymbolAndDiagnostic=function(t,i){var a=this.resolveAST(t.expression,!1,i),r=this.resolveAST(t.argumentExpression,!1,i).type,u=a.type,o,f,s,e;if(u=this.getApparentType(u),this.isAnyOrEquivalent(u))return{symbol:u};if(o=u.getElementType(),f=r===this.semanticInfoChain.numberTypeSymbol||n.PullHelpers.symbolIsEnum(r),o&&f)return{symbol:o};if((t.argumentExpression.kind()===14||t.argumentExpression.kind()===13)&&(s=t.argumentExpression.kind()===14?n.stripStartAndEndQuotes(t.argumentExpression.text()):t.argumentExpression.valueText(),e=this._getNamedPropertySymbolOfAugmentedType(s,u),e))return this.resolveDeclaredSymbol(e,i),{symbol:e.type};var h=this.getBothKindsOfIndexSignaturesIncludingAugmentedType(u,i),c=h.stringSignature,l=h.numericSignature;return l&&(f||r===this.semanticInfoChain.anyTypeSymbol)?{symbol:l.returnType||this.semanticInfoChain.anyTypeSymbol}:c&&(f||r===this.semanticInfoChain.anyTypeSymbol||r===this.semanticInfoChain.stringTypeSymbol)?{symbol:c.returnType||this.semanticInfoChain.anyTypeSymbol}:f||r===this.semanticInfoChain.anyTypeSymbol||r===this.semanticInfoChain.stringTypeSymbol?(this.compilationSettings.noImplicitAny()&&i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.argumentExpression,n.DiagnosticCode.Index_signature_of_object_type_implicitly_has_an_any_type)),{symbol:this.semanticInfoChain.anyTypeSymbol}):{symbol:this.getNewErrorTypeSymbol(),diagnostic:this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Value_of_type_0_is_not_indexable_by_type_1,[u.toString(),r.toString()])}},u.prototype.getBothKindsOfIndexSignaturesIncludingAugmentedType=function(n,t){return this._getBothKindsOfIndexSignatures(n,t,!0)},u.prototype.getBothKindsOfIndexSignaturesExcludingAugmentedType=function(n,t){return this._getBothKindsOfIndexSignatures(n,t,!1)},u.prototype._getBothKindsOfIndexSignatures=function(n,t,i){for(var h=i?n.getIndexSignaturesOfAugmentedType(this,this.cachedFunctionInterfaceType(),this.cachedObjectInterfaceType()):n.getIndexSignatures(),u=null,f=null,r=null,e,o,s=0;s<h.length;s++){if(u&&f)break;if(r=h[s],r.isResolved||this.resolveDeclaredSymbol(r,t),e=r.parameters,e.length)if(o=e[0].type,u||o!==this.semanticInfoChain.stringTypeSymbol){if(!f&&o===this.semanticInfoChain.numberTypeSymbol){f=r;continue}}else{u=r;continue}}return{numericSignature:f,stringSignature:u}},u.prototype._addUnhiddenSignaturesFromBaseType=function(t,i,r){var s=this,e,u,f,o;if(!t){r.push.apply(r,i);return}for(e=new n.PullTypeResolutionContext(this),u=0;u<i.length;u++)f=i[u],o=n.ArrayUtilities.any(t,function(n){return s.signaturesAreIdenticalWithNewEnclosingTypes(f,n,e,!1)}),o||r.push(f)},u.prototype.resolveBinaryAdditionOperation=function(t,i){var o=this.resolveAST(t.left,!1,i),r=o.type,u=this.resolveAST(t.right,!1,i).type,s,e,f;return n.PullHelpers.symbolIsEnum(r)&&(r=this.semanticInfoChain.numberTypeSymbol),n.PullHelpers.symbolIsEnum(u)&&(u=this.semanticInfoChain.numberTypeSymbol),s=r===this.semanticInfoChain.nullTypeSymbol||r===this.semanticInfoChain.undefinedTypeSymbol,e=u===this.semanticInfoChain.nullTypeSymbol||u===this.semanticInfoChain.undefinedTypeSymbol,s?r=e?u=this.semanticInfoChain.anyTypeSymbol:u:e&&(u=r),f=null,r===this.semanticInfoChain.stringTypeSymbol||u===this.semanticInfoChain.stringTypeSymbol?f=this.semanticInfoChain.stringTypeSymbol:this.isAnyOrEquivalent(r)||this.isAnyOrEquivalent(u)?f=this.semanticInfoChain.anyTypeSymbol:u===this.semanticInfoChain.numberTypeSymbol&&r===this.semanticInfoChain.numberTypeSymbol&&(f=this.semanticInfoChain.numberTypeSymbol),this.canTypeCheckAST(t,i)&&(this.setTypeChecked(t,i),f?t.kind()===175&&(this.isReference(t.left,o)||i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression)),this.checkAssignability(t.left,f,r,i)):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.Invalid_expression_types_not_known_to_support_the_addition_operator))),f||(f=this.semanticInfoChain.anyTypeSymbol),f},u.prototype.bestCommonTypeOfTwoTypes=function(n,t,i){return this.findBestCommonType({getLength:function(){return 2},getTypeAtIndex:function(i){switch(i){case 0:return n;case 1:return t}}},i)},u.prototype.bestCommonTypeOfThreeTypes=function(n,t,i,r){return this.findBestCommonType({getLength:function(){return 3},getTypeAtIndex:function(r){switch(r){case 0:return n;case 1:return t;case 2:return i}}},r)},u.prototype.resolveLogicalOrExpression=function(n,t,i){var r,u;if(this.canTypeCheckAST(n,i)&&this.setTypeChecked(n,i),t){var f=i.getContextualType(),r=this.resolveAST(n.left,t,i).type,u=this.resolveAST(n.right,t,i).type;return i.isInferentiallyTyping()?this.bestCommonTypeOfTwoTypes(r,u,i):this.bestCommonTypeOfThreeTypes(f,r,u,i)}return r=this.resolveAST(n.left,!1,i).type,i.pushNewContextualType(r),u=this.resolveAST(n.right,!0,i).type,i.popAnyContextualType(),this.bestCommonTypeOfTwoTypes(r,u,i)},u.prototype.resolveLogicalAndExpression=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.left,!1,t)),this.resolveAST(n.right,!1,t).type},u.prototype.computeTypeOfConditionalExpression=function(n,t,i,r){if(i&&!r.isInferentiallyTyping()){var u=r.getContextualType();return this.bestCommonTypeOfThreeTypes(u,n,t,r)}return this.bestCommonTypeOfTwoTypes(n,t,r)},u.prototype.resolveConditionalExpression=function(t,i,r){var u=this.resolveAST(t.whenTrue,i,r).type,f=this.resolveAST(t.whenFalse,i,r).type,e=this.computeTypeOfConditionalExpression(u,f,i,r),s=this.conditionExpressionTypesAreValid(u,f,e,i,r),o;return(this.canTypeCheckAST(t,r)&&(this.setTypeChecked(t,r),this.resolveAST(t.condition,!1,r),this.conditionExpressionTypesAreValid(u,f,e,i,r)||(i?(o=r.getContextualType(),r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_of_conditional_0_must_be_identical_to_1_2_or_3,[e.toString(),u.toString(),f.toString(),o.toString()]))):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Type_of_conditional_0_must_be_identical_to_1_or_2,[e.toString(),u.toString(),f.toString()])))),!s)?this.getNewErrorTypeSymbol():e},u.prototype.conditionExpressionTypesAreValid=function(n,t,i,r,u){if(r){var f=u.getContextualType();if(this.typesAreIdentical(i,n,u)||this.typesAreIdentical(i,t,u)||this.typesAreIdentical(i,f,u))return!0}else if(this.typesAreIdentical(i,n,u)||this.typesAreIdentical(i,t,u))return!0;return!1},u.prototype.resolveParenthesizedExpression=function(n,t){return this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)},u.prototype.resolveExpressionStatement=function(n,t){return this.canTypeCheckAST(n,t)&&(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t)),this.semanticInfoChain.voidTypeSymbol},u.prototype.resolveInvocationExpression=function(n,t,i){var u=this.getSymbolForAST(n,t),f;return u&&u.isResolved?(this.canTypeCheckAST(n,t)&&this.typeCheckInvocationExpression(n,t),f=this.semanticInfoChain.getCallResolutionDataForAST(n),i&&f!==i&&(i.actualParametersContextTypeSymbols=f.actualParametersContextTypeSymbols,i.candidateSignature=f.candidateSignature,i.resolvedSignatures=f.resolvedSignatures,i.targetSymbol=f.targetSymbol)):(i||(i=new r),u=this.computeInvocationExpressionSymbol(n,t,i),this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),u!==this.semanticInfoChain.anyTypeSymbol&&this.setSymbolForAST(n,u,t),this.semanticInfoChain.setCallResolutionDataForAST(n,i)),u},u.prototype.typeCheckInvocationExpression=function(n,t){var e,u,f,r,i;if(this.setTypeChecked(n,t),e=this.resolveAST(n.expression,!1,t),n.argumentList.arguments)for(u=this.semanticInfoChain.getCallResolutionDataForAST(n),f=n.argumentList.arguments.nonSeparatorCount(),i=0;i<f;i++)r=u.actualParametersContextTypeSymbols?u.actualParametersContextTypeSymbols[i]:null,r&&t.pushNewContextualType(r),this.resolveAST(n.argumentList.arguments.nonSeparatorAt(i),r!==null,t),r&&(t.popAnyContextualType(),r=null);for(i=0;i<u.diagnosticsFromOverloadResolution.length;i++)t.postDiagnostic(u.diagnosticsFromOverloadResolution[i])},u.prototype.computeInvocationExpressionSymbol=function(i,r,u){var k=this.resolveAST(i.expression,!1,r),o=this.getCallTargetErrorSpanAST(i),s=k.type,nt,e,yt,ct,lt,w,ut,tt,h,pt,g,ft,et,f;if(this.isAnyOrEquivalent(s))return(this.resolveAST(i.argumentList.arguments,!1,r),i.argumentList.typeArgumentList&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()&&s===this.semanticInfoChain.anyTypeSymbol)?(this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Untyped_function_calls_may_not_accept_type_arguments),u,r),this.getNewErrorTypeSymbol()):this.semanticInfoChain.anyTypeSymbol;if(nt=!1,i.expression.kind()===50)if(nt=!0,s.isClass())k=s.getConstructorMethod(),this.resolveDeclaredSymbol(k,r),s=k.type;else return this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Calls_to_super_are_only_valid_inside_a_class),u,r),this.resolveAST(i.argumentList.arguments,!1,r),this.getNewErrorTypeSymbol();e=nt?s.getConstructSignatures():s.getCallSignatures();e.length||s.kind!==33554432||this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Value_of_type_0_is_not_callable_Did_you_mean_to_include_new,[s.toString()]),u,r);var a=null,at=!1,it,ot=null,rt=null,st=[];if(i.argumentList.typeArgumentList&&(a=[],i.argumentList.typeArgumentList&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()))for(f=0;f<i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount();f++)a[f]=this.resolveTypeReference(i.argumentList.typeArgumentList.typeArguments.nonSeparatorAt(f),r);var wt=!1,d=[],v,ht,l,y=null,p=e,vt=s.getTypeParameterArgumentMap();for(f=0;f<e.length;f++)if(l=e[f].getTypeParameters(),it=!1,e[f].isGeneric()&&l.length){if(nt&&s.isGeneric()&&!i.argumentList.typeArgumentList&&(a=e[f].returnType.getTypeArguments()),a)if(a.length===l.length)v=a;else{rt=rt||this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Signature_expected_0_type_arguments_got_1_instead,[l.length,a.length]);continue}else n.Debug.assert(i.argumentList),yt=new n.InvocationTypeArgumentInferenceContext(this,r,e[f],i.argumentList.arguments),v=this.inferArgumentTypesForSignature(yt,new t,r),wt=!0;if(n.Debug.assert(v&&v.length==l.length),ct=new n.PullInstantiationHelpers.MutableTypeArgumentMap(vt?vt:[]),n.PullInstantiationHelpers.updateMutableTypeParameterArgumentMap(l,v,ct),lt=ct.typeParameterArgumentMap,a)for(w=0;w<l.length;w++)if(y=l[w].getConstraint(),y&&(y.isGeneric()&&(y=this.instantiateType(y,lt)),this.sourceIsAssignableToTarget(v[w],y,o,r,null,!0)||(ut=this.getEnclosingSymbolForAST(o),ot=this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[v[w].toString(ut,!0),y.toString(ut,!0),l[w].toString(ut,!0)]),it=!0),it))break;if(it)continue;ht=this.instantiateSignature(e[f],lt);ht&&(d[d.length]=ht)}else i.argumentList.typeArgumentList&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()||(d[d.length]=e[f]);if(e.length&&!d.length&&(at=!0),e=d,tt=null,!e.length){if(u.targetSymbol=k,u.resolvedSignatures=p,u.candidateSignature=p&&p.length?p[0]:null,u.actualParametersContextTypeSymbols=et,this.resolveAST(i.argumentList.arguments,!1,r),at)ot?this.postOverloadResolutionDiagnostics(ot,u,r):rt?this.postOverloadResolutionDiagnostics(rt,u,r):this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Could_not_select_overload_for_call_expression),u,r);else{if(this.cachedFunctionInterfaceType()&&this.sourceIsAssignableToTarget(s,this.cachedFunctionInterfaceType(),o,r))return i.argumentList.typeArgumentList&&this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Non_generic_functions_may_not_accept_type_arguments),u,r),this.semanticInfoChain.anyTypeSymbol;this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_invoke_an_expression_whose_type_lacks_a_call_signature),u,r)}return this.getNewErrorTypeSymbol()}if(h=this.resolveOverloads(i,e,i.argumentList.typeArgumentList!==null,r,st),pt=h==null,!h){for(f=0;f<st.length;f++)this.postOverloadResolutionDiagnostics(st[f],u,r);if(this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Could_not_select_overload_for_call_expression),u,r),tt=this.getNewErrorTypeSymbol(),!e.length)return tt;h=e[0]}if(g=h.getRootSymbol(),!g.isGeneric()&&i.argumentList.typeArgumentList?this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Non_generic_functions_may_not_accept_type_arguments),u,r):g.isGeneric()&&i.argumentList.typeArgumentList&&g.getTypeParameters()&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()!==g.getTypeParameters().length&&this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(o,n.DiagnosticCode.Signature_expected_0_type_arguments_got_1_instead,[g.getTypeParameters().length,i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()]),u,r),ft=nt?this.semanticInfoChain.voidTypeSymbol:h.returnType,et=[],i.argumentList.arguments){var bt=i.argumentList.arguments.nonSeparatorCount(),b=h.parameters,c=null,kt=h.getDeclarations()[0];for(f=0;f<bt;f++)b.length&&(f<b.length-1||f<b.length&&!h.hasVarArgs?(this.resolveDeclaredSymbol(b[f],r),c=b[f].type):h.hasVarArgs&&(c=b[b.length-1].type,c.isArrayNamedTypeReference()&&(c=c.getElementType()))),c&&(r.pushNewContextualType(c),et[f]=c),this.resolveAST(i.argumentList.arguments.nonSeparatorAt(f),c!==null,r),c&&(r.popAnyContextualType(),c=null)}return(u.targetSymbol=k,pt&&p?(u.resolvedSignatures=p,u.candidateSignature=p[0]):(u.resolvedSignatures=e,u.candidateSignature=h),u.actualParametersContextTypeSymbols=et,tt)?tt:(ft||(ft=this.semanticInfoChain.anyTypeSymbol),ft)},u.prototype.resolveObjectCreationExpression=function(n,t,i){var f=this.getSymbolForAST(n,t),u;return f&&f.isResolved?(this.canTypeCheckAST(n,t)&&this.typeCheckObjectCreationExpression(n,t),u=this.semanticInfoChain.getCallResolutionDataForAST(n),i&&u!==i&&(i.actualParametersContextTypeSymbols=u.actualParametersContextTypeSymbols,i.candidateSignature=u.candidateSignature,i.resolvedSignatures=u.resolvedSignatures,i.targetSymbol=u.targetSymbol)):(i||(i=new r),f=this.computeObjectCreationExpressionSymbol(n,t,i),this.canTypeCheckAST(n,t)&&this.setTypeChecked(n,t),this.setSymbolForAST(n,f,t),this.semanticInfoChain.setCallResolutionDataForAST(n,i)),f},u.prototype.typeCheckObjectCreationExpression=function(n,t){var r,f,u,i;if(this.setTypeChecked(n,t),this.resolveAST(n.expression,!1,t),r=this.semanticInfoChain.getCallResolutionDataForAST(n),n.argumentList)for(r=this.semanticInfoChain.getCallResolutionDataForAST(n),f=n.argumentList.arguments.nonSeparatorCount(),i=0;i<f;i++)u=r.actualParametersContextTypeSymbols?r.actualParametersContextTypeSymbols[i]:null,u&&t.pushNewContextualType(u),this.resolveAST(n.argumentList.arguments.nonSeparatorAt(i),u!==null,t),u&&(t.popAnyContextualType(),u=null);for(i=0;i<r.diagnosticsFromOverloadResolution.length;i++)t.postDiagnostic(r.diagnosticsFromOverloadResolution[i])},u.prototype.postOverloadResolutionDiagnostics=function(n,t,i){i.inProvisionalResolution()||t.diagnosticsFromOverloadResolution.push(n);i.postDiagnostic(n)},u.prototype.computeObjectCreationExpressionSymbol=function(i,r,u){var at=this,e=null,k=this.resolveAST(i.expression,!1,r),v=k.isType()?k:k.type,y=this.getCallTargetErrorSpanAST(i),o=v.getConstructSignatures(),c=null,ht=!1,nt,rt=null,tt=null,ut=[],lt,et,ot,w,it,s,g,st,f;if(this.isAnyOrEquivalent(v))return i.argumentList&&this.resolveAST(i.argumentList.arguments,!1,r),v;if(o.length||(o=v.getCallSignatures(),ht=!0,this.compilationSettings.noImplicitAny()&&this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.new_expression_which_lacks_a_constructor_signature_implicitly_has_an_any_type),u,r)),o.length){if(i.argumentList&&i.argumentList.typeArgumentList&&(c=[],i.argumentList.typeArgumentList&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()))for(f=0;f<i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount();f++)c[f]=this.resolveTypeReference(i.argumentList.typeArgumentList.typeArguments.nonSeparatorAt(f),r);if(v.isGeneric()){var d=[],a,ft,l,p=null,vt,ct=v.getTypeParameterArgumentMap();for(f=0;f<o.length;f++)if(nt=!1,o[f].isGeneric()){if(l=o[f].getTypeParameters(),c)if(c.length===l.length)a=c;else{tt=tt||this.semanticInfoChain.diagnosticFromAST(y,n.DiagnosticCode.Signature_expected_0_type_arguments_got_1_instead,[l.length,c.length]);continue}else i.argumentList?(lt=new n.InvocationTypeArgumentInferenceContext(this,r,o[f],i.argumentList.arguments),a=this.inferArgumentTypesForSignature(lt,new t,r),vt=!0):a=n.ArrayUtilities.select(l,function(n){return n.getDefaultConstraint(at.semanticInfoChain)});if(n.Debug.assert(a&&a.length==l.length),et=new n.PullInstantiationHelpers.MutableTypeArgumentMap(ct?ct:[]),n.PullInstantiationHelpers.updateMutableTypeParameterArgumentMap(l,a,et),ot=et.typeParameterArgumentMap,c)for(w=0;w<l.length;w++)if(p=l[w].getConstraint(),p&&(p.isGeneric()&&(p=this.instantiateType(p,ot)),this.sourceIsAssignableToTarget(a[w],p,y,r,null,!0)||(it=this.getEnclosingSymbolForAST(y),rt=this.semanticInfoChain.diagnosticFromAST(y,n.DiagnosticCode.Type_0_does_not_satisfy_the_constraint_1_for_type_parameter_2,[a[w].toString(it,!0),p.toString(it,!0),l[w].toString(it,!0)]),nt=!0),nt))break;if(nt)continue;ft=this.instantiateSignature(o[f],ot);ft&&(d[d.length]=ft)}else i.argumentList&&i.argumentList.typeArgumentList&&i.argumentList.typeArgumentList.typeArguments.nonSeparatorCount()||(d[d.length]=o[f]);o=d}if(s=this.resolveOverloads(i,o,i.argumentList&&i.argumentList.typeArgumentList!==null,r,ut),u.targetSymbol=k,u.resolvedSignatures=o,u.candidateSignature=s,u.actualParametersContextTypeSymbols=[],!o.length)return rt?this.postOverloadResolutionDiagnostics(rt,u,r):tt&&this.postOverloadResolutionDiagnostics(tt,u,r),this.getNewErrorTypeSymbol();if(g=null,!s){for(f=0;f<ut.length;f++)this.postOverloadResolutionDiagnostics(ut[f],u,r);if(this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(y,n.DiagnosticCode.Could_not_select_overload_for_new_expression),u,r),g=this.getNewErrorTypeSymbol(),!o.length)return g;s=o[0]}if(e=s.returnType,e&&!s.isGeneric()&&e.isGeneric()&&!e.getIsSpecialized()&&(e=c&&c.length?this.createInstantiatedType(e,c):this.instantiateTypeToAny(e,r)),ht){if(e!==this.semanticInfoChain.voidTypeSymbol)return this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(y,n.DiagnosticCode.Call_signatures_used_in_a_new_expression_must_have_a_void_return_type),u,r),this.getNewErrorTypeSymbol();e=this.semanticInfoChain.anyTypeSymbol}if(e||(e=s.returnType,e||(e=v)),st=[],i.argumentList&&i.argumentList.arguments){var yt=i.argumentList.arguments.nonSeparatorCount(),b=s.parameters,h=null,pt=s.getDeclarations()[0];for(f=0;f<yt;f++)b.length&&(f<b.length-1||f<b.length&&!s.hasVarArgs?(this.resolveDeclaredSymbol(b[f],r),h=b[f].type):s.hasVarArgs&&(h=b[b.length-1].type,h.isArrayNamedTypeReference()&&(h=h.getElementType()))),h&&(r.pushNewContextualType(h),st[f]=h),this.resolveAST(i.argumentList.arguments.nonSeparatorAt(f),h!==null,r),h&&(r.popAnyContextualType(),h=null)}return(u.targetSymbol=k,u.resolvedSignatures=o,u.candidateSignature=s,u.actualParametersContextTypeSymbols=st,g)?g:(e||(e=this.semanticInfoChain.anyTypeSymbol),e)}return i.argumentList&&this.resolveAST(i.argumentList.arguments,!1,r),this.postOverloadResolutionDiagnostics(this.semanticInfoChain.diagnosticFromAST(y,n.DiagnosticCode.Invalid_new_expression),u,r),this.getNewErrorTypeSymbol()},u.prototype.instantiateSignatureInContext=function(i,r,u,f){var s=[],l,a=i.getTypeParameters(),v=new n.ContextualSignatureInstantiationTypeArgumentInferenceContext(this,u,i,r,f),h,c,e,o;if(l=this.inferArgumentTypesForSignature(v,new t,u),h=i.functionType,c=r.functionType,h){e=h.getTypeParameterArgumentMap();for(o in e)s[o]=e[o]}if(c){e=c.getTypeParameterArgumentMap();for(o in e)s[o]=e[o]}return n.PullInstantiationHelpers.updateTypeParameterArgumentMap(a,l,s),this.instantiateSignature(i,s)},u.prototype.resolveCastExpression=function(n,t){var i=this.resolveTypeReference(n.type,t).type;return this.canTypeCheckAST(n,t)&&this.typeCheckCastExpression(n,t,i),i},u.prototype.typeCheckCastExpression=function(i,r,u){var f,e,s,h,o;this.setTypeChecked(i,r);r.pushNewContextualType(u);f=this.resolveAST(i.expression,!0,r).type;r.popAnyContextualType();this.resolveDeclaredSymbol(u,r);this.resolveDeclaredSymbol(f,r);e=new t;s=this.sourceIsAssignableToTarget(f,u,i,r,e);s||(h=f.widenedType(this,i.expression,r),s=this.sourceIsAssignableToTarget(u,h,i,r,e));s||(o=this.getEnclosingSymbolForAST(i),e.message?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[f.toString(o),u.toString(o),e.message])):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1,[f.toString(o),u.toString(o)])))},u.prototype.resolveAssignmentExpression=function(t,i){var u=this.resolveAST(t.left,!1,i),f=u.type,r;return i.pushNewContextualType(f),r=this.resolveAST(t.right,!0,i).type,i.popAnyContextualType(),r=this.getInstanceTypeForAssignment(t.left,r,i),this.canTypeCheckAST(t,i)&&(this.setTypeChecked(t,i),this.isReference(t.left,u)?this.checkAssignability(t.left,r,u.type,i):i.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t.left,n.DiagnosticCode.Invalid_left_hand_side_of_assignment_expression))),r},u.prototype.getInstanceTypeForAssignment=function(t,i,r){var u=i,f;return u&&u.isAlias()&&(u=u.getExportAssignedTypeSymbol()),u&&u.isContainer()&&!u.isEnum()&&(f=u.getInstanceType(),f?u=f:(r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Tried_to_set_variable_type_to_uninitialized_module_type_0,[i.toString()])),u=null)),u},u.prototype.widenType=function(n,t,i){return n===this.semanticInfoChain.undefinedTypeSymbol||n===this.semanticInfoChain.nullTypeSymbol||n.isError()?this.semanticInfoChain.anyTypeSymbol:n.isArrayNamedTypeReference()?this.widenArrayType(n,t,i):n.kind===256?this.widenObjectLiteralType(n,t,i):n},u.prototype.widenArrayType=function(t,i,r){var u=t.getElementType().widenedType(this,i,r);return this.compilationSettings.noImplicitAny()&&i&&u===this.semanticInfoChain.anyTypeSymbol&&t.getElementType()!==this.semanticInfoChain.anyTypeSymbol&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Array_Literal_implicitly_has_an_any_type_from_widening)),this.getArrayType(u)},u.prototype.widenObjectLiteralType=function(t,i,r){var e,h,f,s,u;if(!this.needsToWidenObjectLiteralType(t,i,r))return t;for(n.Debug.assert(t.name===""),e=new n.PullTypeSymbol(t.name,t.kind),h=t.getDeclarations(),n.Debug.assert(h.length===1),e.addDeclaration(h[0]),f=t.getMembers(),u=0;u<f.length;u++){var y=f[u].type,a=f[u].type.widenedType(this,i,r),o=new n.PullSymbol(f[u].name,f[u].kind),p=f[u].getDeclarations();o.addDeclaration(p[0]);o.type=a;e.addMember(o);o.setResolved();this.compilationSettings.noImplicitAny()&&i&&a===this.semanticInfoChain.anyTypeSymbol&&y!==this.semanticInfoChain.anyTypeSymbol&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Object_literal_s_property_0_implicitly_has_an_any_type_from_widening,[f[u].name]))}for(s=t.getIndexSignatures(),u=0;u<s.length;u++){var c=new n.PullSignatureSymbol(4194304),l=s[u].parameters[0],v=new n.PullSymbol(l.name,l.kind);v.type=l.type;c.addParameter(v);c.returnType=s[u].returnType;e.addIndexSignature(c)}return e},u.prototype.needsToWidenObjectLiteralType=function(n,t,i){for(var u,f=n.getMembers(),r=0;r<f.length;r++)if(u=f[r].type,u!==u.widenedType(this,t,i))return!0;return!1},u.prototype.findBestCommonType=function(n,t){for(var r,u=n.getLength(),i=0;i<u;i++)if(r=n.getTypeAtIndex(i),this.typeIsBestCommonTypeCandidate(r,n,t))return r;return this.semanticInfoChain.emptyTypeSymbol},u.prototype.typeIsBestCommonTypeCandidate=function(n,t,i){for(var u,r=0;r<t.getLength();r++)if((u=t.getTypeAtIndex(r),n!==u)&&!this.sourceIsSubtypeOfTarget(u,n,null,i))return!1;return!0},u.prototype.typesAreIdenticalInEnclosingTypes=function(n,t,i){return(n=this.getSymbolForRelationshipCheck(n),t=this.getSymbolForRelationshipCheck(t),n===t)?!0:n&&t&&i.oneOfClassificationsIsInfinitelyExpanding()?this.infinitelyExpandingTypesAreIdentical(n,t,i):this.typesAreIdentical(n,t,i)},u.prototype.typesAreIdenticalWithNewEnclosingTypes=function(n,t,i){var r=i.resetEnclosingTypeWalkers(),u=this.typesAreIdentical(n,t,i);return i.setEnclosingTypeWalkers(r),u},u.prototype.typesAreIdentical=function(t,i,r){var u,f,e,o;return(t=this.getSymbolForRelationshipCheck(t),i=this.getSymbolForRelationshipCheck(i),t===i)?!0:!t||!i?!1:n.hasFlag(t.kind,64)||n.hasFlag(i.kind,64)?!1:t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant()?n.stripStartAndEndQuotes(t.name)===n.stripStartAndEndQuotes(i.name):t.isPrimitive()||i.isPrimitive()?!1:t.isError()&&i.isError()?!0:(u=this.identicalCache.valueAt(t.pullSymbolID,i.pullSymbolID),u!=undefined)?u:t.isTypeParameter()!==i.isTypeParameter()?!1:t.isTypeParameter()?(f=t.getDeclarations()[0].getParentDecl(),e=i.getDeclarations()[0].getParentDecl(),f===e?this.symbolsShareDeclaration(t,i):!1):t.isPrimitive()!==i.isPrimitive()?!1:(this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!0),o=r.startWalkingTypes(t,i),u=this.typesAreIdenticalWorker(t,i,r),r.endWalkingTypes(o),this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,u),u)},u.prototype.typesAreIdenticalWorker=function(t,i,r){var f,s,u,e,c,o;if(t.getIsSpecialized()&&i.getIsSpecialized()&&n.PullHelpers.getRootType(t)===n.PullHelpers.getRootType(i)&&n.PullHelpers.getRootType(t).isNamedTypeSymbol()){if(f=t.getTypeArguments(),s=i.getTypeArguments(),f&&s)for(u=0;u<f.length;u++)if(!this.typesAreIdenticalWithNewEnclosingTypes(f[u],s[u],r))return!1;return!0}if(t.hasMembers()&&i.hasMembers()){if(e=t.getAllMembers(68147712,0),c=i.getAllMembers(68147712,0),e.length!==c.length)return!1;var h=null,l=null;for(o=0;o<e.length;o++)if(h=e[o],l=this.getNamedPropertySymbol(h.name,68147712,i),!this.propertiesAreIdentical(h,l,r))return!1}else if(t.hasMembers()||i.hasMembers())return!1;var a=t.getCallSignatures(),v=i.getCallSignatures(),y=t.getConstructSignatures(),p=i.getConstructSignatures(),w=t.getIndexSignatures(),b=i.getIndexSignatures();return this.signatureGroupsAreIdentical(a,v,r)?this.signatureGroupsAreIdentical(y,p,r)?this.signatureGroupsAreIdentical(w,b,r)?!0:!1:!1:!1},u.prototype.propertiesAreIdentical=function(n,t,i){var r,u,f,e,o,s,h;return!t||n.isOptional!==t.isOptional?!1:(r=n.anyDeclHasFlag(2),u=t.anyDeclHasFlag(2),r!==u)?!1:u&&r&&(f=n.getDeclarations()[0],e=t.getDeclarations()[0],f!==e)?!1:(o=n.type,s=t.type,i.walkMemberTypes(n.name),h=this.typesAreIdenticalInEnclosingTypes(o,s,i),i.postWalkMemberTypes(),h)},u.prototype.propertiesAreIdenticalWithNewEnclosingTypes=function(n,t,i,r,u){var e=u.resetEnclosingTypeWalkers(),f;return u.setEnclosingTypes(n,t),f=this.propertiesAreIdentical(i,r,u),u.setEnclosingTypeWalkers(e),f},u.prototype.signatureGroupsAreIdentical=function(n,t,i){var r,u;if(n===t)return!0;if(!n||!t||n.length!==t.length)return!1;for(r=0;r<n.length;r++)if(i.walkSignatures(n[r].kind,r),u=this.signaturesAreIdentical(n[r],t[r],i,!0),i.postWalkSignatures(),!u)return!1;return!0},u.prototype.typeParametersAreIdentical=function(n,t,i){var r=this.typeParametersAreIdenticalWorker(n,t,i);return this.setTypeParameterIdentity(n,t,undefined),r},u.prototype.typeParametersAreIdenticalWorker=function(n,t,i){var r,u;if(!!(n&&n.length)!=!!(t&&t.length)||n&&t&&n.length!==t.length)return!1;if(n&&t)for(r=0;r<n.length;r++)if(i.walkTypeParameterConstraints(r),u=this.typesAreIdentical(n[r].getConstraint(),t[r].getConstraint(),i),i.postWalkTypeParameterConstraints(),!u)return!1;return!0},u.prototype.setTypeParameterIdentity=function(n,t,i){if(n&&t&&n.length===t.length)for(var r=0;r<n.length;r++)this.identicalCache.setValueAt(n[r].pullSymbolID,t[r].pullSymbolID,i)},u.prototype.signaturesAreIdenticalWithNewEnclosingTypes=function(n,t,i,r){var u,f;return typeof r=="undefined"&&(r=!0),u=i.resetEnclosingTypeWalkers(),i.setEnclosingTypes(n,t),f=this.signaturesAreIdentical(n,t,i,r),i.setEnclosingTypeWalkers(u),f},u.prototype.signaturesAreIdentical=function(n,t,i,r){var u,f;return(typeof r=="undefined"&&(r=!0),n===t)?!0:(u=this.identicalCache.valueAt(n.pullSymbolID,t.pullSymbolID),u||u!=undefined&&r)?u:(f=u,this.identicalCache.setValueAt(n.pullSymbolID,t.pullSymbolID,!0),u=this.signaturesAreIdenticalWorker(n,t,i,r),r?this.identicalCache.setValueAt(n.pullSymbolID,t.pullSymbolID,u):this.identicalCache.setValueAt(n.pullSymbolID,t.pullSymbolID,f),u)},u.prototype.signaturesAreIdenticalWorker=function(n,t,i,r){var u,f,e;return(typeof r=="undefined"&&(r=!0),n.hasVarArgs!==t.hasVarArgs)?!1:n.nonOptionalParamCount!==t.nonOptionalParamCount?!1:n.parameters.length!==t.parameters.length?!1:(u=n.getTypeParameters(),f=t.getTypeParameters(),this.setTypeParameterIdentity(u,f,!0),e=this.signatureTypeParametersParametersAndReturnTypesAreIdentical(n,t,i,r),this.setTypeParameterIdentity(u,f,undefined),e)},u.prototype.signatureTypeParametersParametersAndReturnTypesAreIdentical=function(t,i,r,u){var s,e,o,f,h;if(!this.typeParametersAreIdenticalWorker(t.getTypeParameters(),i.getTypeParameters(),r)||u&&(n.PullHelpers.resolveDeclaredSymbolToUseType(t),n.PullHelpers.resolveDeclaredSymbolToUseType(i),r.walkReturnTypes(),s=this.typesAreIdenticalInEnclosingTypes(t.returnType,i.returnType,r),r.postWalkReturnTypes(),!s))return!1;for(e=t.parameters,o=i.parameters,f=0;f<e.length;f++)if(n.PullHelpers.resolveDeclaredSymbolToUseType(e[f]),n.PullHelpers.resolveDeclaredSymbolToUseType(o[f]),r.walkParameterTypes(f),h=this.typesAreIdenticalInEnclosingTypes(e[f].type,o[f].type,r),r.postWalkParameterTypes(),!h)return!1;return!0},u.prototype.signatureReturnTypesAreIdentical=function(n,t,i){var r=n.getTypeParameters(),u=t.getTypeParameters(),f,e;return this.setTypeParameterIdentity(r,u,!0),f=i.resetEnclosingTypeWalkers(),i.setEnclosingTypes(n,t),i.walkReturnTypes(),e=this.typesAreIdenticalInEnclosingTypes(n.returnType,t.returnType,i),i.setEnclosingTypeWalkers(f),this.setTypeParameterIdentity(r,u,undefined),e},u.prototype.symbolsShareDeclaration=function(n,t){var i=n.getDeclarations(),r=t.getDeclarations();return i.length&&r.length?i[0]===r[0]:!1},u.prototype.sourceIsSubtypeOfTarget=function(n,t,i,r,u,f){return this.sourceIsRelatableToTarget(n,t,!1,this.subtypeCache,i,r,u,f)},u.prototype.sourceMembersAreAssignableToTargetMembers=function(n,t,i,r,u,f){var o=r.resetEnclosingTypeWalkers(),e;return r.setEnclosingTypes(n,t),e=this.sourceMembersAreRelatableToTargetMembers(n,t,!0,this.assignableCache,i,r,u,f),r.setEnclosingTypeWalkers(o),e},u.prototype.sourcePropertyIsAssignableToTargetProperty=function(n,t,i,r,u,f,e,o){var h=f.resetEnclosingTypeWalkers(),s;return f.setEnclosingTypes(n,t),s=this.sourcePropertyIsRelatableToTargetProperty(n,t,i,r,!0,this.assignableCache,u,f,e,o),f.setEnclosingTypeWalkers(h),s},u.prototype.sourceCallSignaturesAreAssignableToTargetCallSignatures=function(n,t,i,r,u,f){var o=r.resetEnclosingTypeWalkers(),e;return r.setEnclosingTypes(n,t),e=this.sourceCallSignaturesAreRelatableToTargetCallSignatures(n,t,!0,this.assignableCache,i,r,u,f),r.setEnclosingTypeWalkers(o),e},u.prototype.sourceConstructSignaturesAreAssignableToTargetConstructSignatures=function(n,t,i,r,u,f){var o=r.resetEnclosingTypeWalkers(),e;return r.setEnclosingTypes(n,t),e=this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(n,t,!0,this.assignableCache,i,r,u,f),r.setEnclosingTypeWalkers(o),e},u.prototype.sourceIndexSignaturesAreAssignableToTargetIndexSignatures=function(n,t,i,r,u,f){var o=r.resetEnclosingTypeWalkers(),e;return r.setEnclosingTypes(n,t),e=this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(n,t,!0,this.assignableCache,i,r,u,f),r.setEnclosingTypeWalkers(o),e},u.prototype.typeIsAssignableToFunction=function(n,t,i){return n.isFunctionType()?!0:this.cachedFunctionInterfaceType()&&this.sourceIsAssignableToTarget(n,this.cachedFunctionInterfaceType(),t,i)},u.prototype.signatureIsAssignableToTarget=function(n,t,i,r,u,f){var o=r.resetEnclosingTypeWalkers(),e;return r.setEnclosingTypes(n,t),e=this.signatureIsRelatableToTarget(n,t,!0,this.assignableCache,i,r,u,f),r.setEnclosingTypeWalkers(o),e},u.prototype.sourceIsAssignableToTarget=function(n,t,i,r,u,f){return this.sourceIsRelatableToTarget(n,t,!0,this.assignableCache,i,r,u,f)},u.prototype.sourceIsAssignableToTargetWithNewEnclosingTypes=function(n,t,i,r,u,f){return this.sourceIsRelatableToTargetWithNewEnclosingTypes(n,t,!0,this.assignableCache,i,r,u,f)},u.prototype.getSymbolForRelationshipCheck=function(n){return n&&n.isTypeReference()?n.getReferencedTypeSymbol():n},u.prototype.sourceIsRelatableToTargetInEnclosingTypes=function(n,t,i,r,u,f,e,o){return(n=this.getSymbolForRelationshipCheck(n),t=this.getSymbolForRelationshipCheck(t),n===t)?!0:n&&t&&f.oneOfClassificationsIsInfinitelyExpanding()?this.infinitelyExpandingSourceTypeIsRelatableToTargetType(n,t,i,r,u,f,e,o):this.sourceIsRelatableToTarget(n,t,i,r,u,f,e,o)},u.prototype.sourceIsRelatableToTargetWithNewEnclosingTypes=function(n,t,i,r,u,f,e,o){var s=f.resetEnclosingTypeWalkers(),h=this.sourceIsRelatableToTarget(n,t,i,r,u,f,e,o);return f.setEnclosingTypeWalkers(s),h},u.prototype.sourceIsRelatableToTargetInCache=function(n,t,i,r){var u=i.valueAt(n.pullSymbolID,t.pullSymbolID);return u?{isRelatable:u}:u!=undefined&&!r?{isRelatable:u}:null},u.prototype.sourceIsRelatableToTarget=function(t,i,r,u,f,e,o,s){var h,a,l,v,c,w,y,p;if((t=this.getSymbolForRelationshipCheck(t),i=this.getSymbolForRelationshipCheck(i),t===i)||!(t&&i))return!0;if(h=this.getApparentType(t),a=this.sourceIsRelatableToTargetInCache(t,i,u,o),a)return a.isRelatable;if(t===this.semanticInfoChain.stringTypeSymbol&&i.isPrimitive()&&i.isStringConstant())return o&&o.stringConstantVal&&o.stringConstantVal.kind()===14&&n.stripStartAndEndQuotes(o.stringConstantVal.text())===n.stripStartAndEndQuotes(i.name);if(r){if(this.isAnyOrEquivalent(t)||this.isAnyOrEquivalent(i))return!0}else if(this.isAnyOrEquivalent(i))return!0;if(i===this.semanticInfoChain.stringTypeSymbol&&t.isPrimitive()&&t.isStringConstant())return!0;if(t.isPrimitive()&&t.isStringConstant()&&i.isPrimitive()&&i.isStringConstant())return n.stripStartAndEndQuotes(t.name)===n.stripStartAndEndQuotes(i.name);if(t===this.semanticInfoChain.undefinedTypeSymbol||t===this.semanticInfoChain.nullTypeSymbol&&i!==this.semanticInfoChain.undefinedTypeSymbol&&i!=this.semanticInfoChain.voidTypeSymbol)return!0;if(i===this.semanticInfoChain.voidTypeSymbol)return t===this.semanticInfoChain.undefinedTypeSymbol||t==this.semanticInfoChain.nullTypeSymbol?!0:!1;if(t===this.semanticInfoChain.voidTypeSymbol)return i===this.semanticInfoChain.anyTypeSymbol?!0:!1;if(i===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(t))return!0;if(t===this.semanticInfoChain.numberTypeSymbol&&n.PullHelpers.symbolIsEnum(i))return r;if(n.PullHelpers.symbolIsEnum(i)&&n.PullHelpers.symbolIsEnum(t))return this.symbolsShareDeclaration(i,t);if(t.kind&64||i.kind&64)return!1;if(t.getIsSpecialized()&&i.getIsSpecialized()&&n.PullHelpers.getRootType(t)===n.PullHelpers.getRootType(i)&&n.PullHelpers.getRootType(t).isNamedTypeSymbol()&&(l=t.getTypeArguments(),v=i.getTypeArguments(),l&&v)){for(u.setValueAt(t.pullSymbolID,i.pullSymbolID,!0),c=0;c<l.length;c++)if(!this.sourceIsRelatableToTargetWithNewEnclosingTypes(l[c],v[c],r,u,f,e,null,s))break;if(c===l.length)return!0;u.setValueAt(t.pullSymbolID,i.pullSymbolID,undefined)}if(i.isTypeParameter()){if(t.isTypeParameter())return t.getConstraint()?this.isSourceTypeParameterConstrainedToTargetTypeParameter(t,i):this.typesAreIdentical(i,t,e);if(s)i=i.getBaseConstraint(this.semanticInfoChain);else return this.typesAreIdentical(i,h,e)}return h.isPrimitive()||i.isPrimitive()?!1:(u.setValueAt(t.pullSymbolID,i.pullSymbolID,!0),w=e.startWalkingTypes(h,i),y=t!=h&&e.enclosingTypeWalker1._canWalkStructure()&&e.enclosingTypeWalker1._getCurrentSymbol()!=h,y&&e.enclosingTypeWalker1.setCurrentSymbol(h),p=this.sourceIsRelatableToTargetWorker(t,i,h,r,u,f,e,o,s),y&&e.enclosingTypeWalker1.setCurrentSymbol(t),e.endWalkingTypes(w),u.setValueAt(t.pullSymbolID,i.pullSymbolID,p),p)},u.prototype.isSourceTypeParameterConstrainedToTargetTypeParameter=function(n,t){for(var i=n;i&&i.isTypeParameter();){if(i===t)return!0;i=i.getConstraint()}return!1},u.prototype.sourceIsRelatableToTargetWorker=function(n,t,i,r,u,f,e,o,s){return t.hasMembers()&&!this.sourceMembersAreRelatableToTargetMembers(i,t,r,u,f,e,o,s)?!1:this.sourceCallSignaturesAreRelatableToTargetCallSignatures(i,t,r,u,f,e,o,s)?this.sourceConstructSignaturesAreRelatableToTargetConstructSignatures(i,t,r,u,f,e,o,s)?this.sourceIndexSignaturesAreRelatableToTargetIndexSignatures(i,t,r,u,f,e,o,s)?!0:!1:!1:!1},u.prototype.sourceMembersAreRelatableToTargetMembers=function(t,i,r,u,f,e,o,s){for(var h,l,y,a,v=i.getAllMembers(68147712,0),c=0;c<v.length;c++){if(h=v[c],l=this._getNamedPropertySymbolOfAugmentedType(h.name,t),this.resolveDeclaredSymbol(h,e),y=h.type,!l){if(!h.isOptional)return o&&(a=this.getEnclosingSymbolForAST(f),o.flags|=2,o.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Type_0_is_missing_property_1_from_type_2,[t.toString(a),h.getScopedNameEx().toString(),i.toString(a)]))),!1;continue}if(!this.sourcePropertyIsRelatableToTargetProperty(t,i,l,h,r,u,f,e,o,s))return!1}return!0},u.prototype.infinitelyExpandingSourceTypeIsRelatableToTargetType=function(i,r,u,f,e,o,s,h){var d=r.widenedType(this,null,o),g=i.widenedType(this,null,o),w,b,l,y,a,p,v,k,c;if(g!==this.semanticInfoChain.anyTypeSymbol&&d!==this.semanticInfoChain.anyTypeSymbol){if(w=n.PullHelpers.getRootType(i),b=n.PullHelpers.getRootType(r),w!==b)return f.setValueAt(i.pullSymbolID,r.pullSymbolID,!1),s&&(c=this.getEnclosingSymbolForAST(e),s.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Types_0_and_1_originating_in_infinitely_expanding_type_reference_do_not_refer_to_same_named_type,[i.getScopedNameEx(c).toString(),r.toString(c)]))),!1;if(l=i.getTypeArguments(),y=r.getTypeArguments(),!l&&!y)return f.setValueAt(i.pullSymbolID,r.pullSymbolID,!0),!0;if(!(l&&y)||l.length!==y.length)return f.setValueAt(i.pullSymbolID,r.pullSymbolID,!1),s&&(c=this.getEnclosingSymbolForAST(e),s.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Types_0_and_1_originating_in_infinitely_expanding_type_reference_have_incompatible_type_arguments,[i.toString(c),r.toString(c)]))),!1;for(a=null,s&&!s.onlyCaptureFirstError&&(a=new t(s)),p=!0,v=0;v<l.length&&p;v++)o.walkTypeArgument(v),this.sourceIsRelatableToTargetInEnclosingTypes(l[v],y[v],u,f,e,o,a,h)||(p=!1,s&&(c=this.getEnclosingSymbolForAST(e),k=a&&a.message?n.getDiagnosticMessage(n.DiagnosticCode.Types_0_and_1_originating_in_infinitely_expanding_type_reference_have_incompatible_type_arguments_NL_2,[i.toString(c),r.toString(c),a.message]):n.getDiagnosticMessage(n.DiagnosticCode.Types_0_and_1_originating_in_infinitely_expanding_type_reference_have_incompatible_type_arguments,[i.toString(c),r.toString(c)]),s.addMessage(k))),o.postWalkTypeArgument()}return f.setValueAt(i.pullSymbolID,r.pullSymbolID,p),p},u.prototype.infinitelyExpandingTypesAreIdentical=function(t,i,r){var c=i.widenedType(this,null,null),l=t.widenedType(this,null,null),o,s,u,e,f,h;if(l!==this.semanticInfoChain.anyTypeSymbol&&c!==this.semanticInfoChain.anyTypeSymbol){if(o=n.PullHelpers.getRootType(t),s=n.PullHelpers.getRootType(i),o!==s)return this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!1),!1;if(u=t.getTypeArguments(),e=i.getTypeArguments(),!u&&!e)return this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!0),!0;if(!(u&&e)||u.length!==e.length)return this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!1),!1;for(f=0;f<u.length;f++)if(r.walkTypeArgument(f),h=this.typesAreIdenticalInEnclosingTypes(u[f],e[f],r),r.postWalkTypeArgument(),!h)return this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!1),!1}return this.identicalCache.setValueAt(t.pullSymbolID,i.pullSymbolID,!0),!0},u.prototype.sourcePropertyIsRelatableToTargetProperty=function(i,r,u,f,e,o,s,h,c,l){var ft=this,y=i.isConstructor()&&r.isConstructor(),w=function(n){var o=ft.getEnclosingSymbolForAST(s),t=n?u.getContainer():i,e=n?f.getContainer():r;return y&&(t=t.getAssociatedContainerType(),e=e.getAssociatedContainerType()),{propertyName:f.getScopedNameEx().toString(),sourceTypeName:t.toString(o),targetTypeName:e.toString(o)}},b=f.anyDeclHasFlag(2),g=u.anyDeclHasFlag(2),nt,tt,p,k,et,d,a,v;if(b!==g)return c&&(a=w(!0),v=b?y?n.DiagnosticCode.Static_property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2:n.DiagnosticCode.Property_0_defined_as_public_in_type_1_is_defined_as_private_in_type_2:y?n.DiagnosticCode.Static_property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2:n.DiagnosticCode.Property_0_defined_as_private_in_type_1_is_defined_as_public_in_type_2,c.addMessage(n.getDiagnosticMessage(v,[a.propertyName,a.sourceTypeName,a.targetTypeName])),c.flags|=128),!1;if(g&&b&&(nt=f.getDeclarations()[0],tt=u.getDeclarations()[0],nt!==tt))return c&&(a=w(!0),c.flags|=128,v=y?n.DiagnosticCode.Types_0_and_1_define_static_property_2_as_private:n.DiagnosticCode.Types_0_and_1_define_property_2_as_private,c.addMessage(n.getDiagnosticMessage(v,[a.sourceTypeName,a.targetTypeName,a.propertyName]))),!1;if(u.isOptional&&!f.isOptional)return c&&(a=w(!0),c.flags|=2,c.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Property_0_defined_as_optional_in_type_1_but_is_required_in_type_2,[a.propertyName,a.sourceTypeName,a.targetTypeName]))),!1;this.resolveDeclaredSymbol(u,h);var it=u.type,rt=f.type,ut=this.sourceIsRelatableToTargetInCache(it,rt,o,c);return ut?ut.isRelatable:(p=null,c&&!c.onlyCaptureFirstError&&(p=new t(c)),h.walkMemberTypes(f.name),k=this.sourceIsRelatableToTargetInEnclosingTypes(it,rt,e,o,s,h,p,l),h.postWalkMemberTypes(),!k&&c&&(et=this.getEnclosingSymbolForAST(s),c.flags|=32,a=w(!1),p&&p.message?(v=y?n.DiagnosticCode.Types_of_static_property_0_of_class_1_and_class_2_are_incompatible_NL_3:n.DiagnosticCode.Types_of_property_0_of_types_1_and_2_are_incompatible_NL_3,d=n.getDiagnosticMessage(v,[a.propertyName,a.sourceTypeName,a.targetTypeName,p.message])):(v=y?n.DiagnosticCode.Types_of_static_property_0_of_class_1_and_class_2_are_incompatible:n.DiagnosticCode.Types_of_property_0_of_types_1_and_2_are_incompatible,d=n.getDiagnosticMessage(v,[a.propertyName,a.sourceTypeName,a.targetTypeName])),c.addMessage(d)),k)},u.prototype.sourceCallSignaturesAreRelatableToTargetCallSignatures=function(i,r,u,f,e,o,s,h){var a=r.getCallSignatures(),l,v,y,c,p,w;return a.length&&(l=null,s&&!s.onlyCaptureFirstError&&(l=new t(s)),v=i.getCallSignatures(),!this.signatureGroupIsRelatableToTarget(i,r,v,a,u,f,e,o,l,h))?(s&&(c=this.getEnclosingSymbolForAST(e),v.length&&a.length?y=l&&l.message?n.getDiagnosticMessage(n.DiagnosticCode.Call_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(c),r.toString(c),l.message]):n.getDiagnosticMessage(n.DiagnosticCode.Call_signatures_of_types_0_and_1_are_incompatible,[i.toString(c),r.toString(c)]):(p=a.length?r.toString(c):i.toString(c),w=a.length?i.toString(c):r.toString(c),y=n.getDiagnosticMessage(n.DiagnosticCode.Type_0_requires_a_call_signature_but_type_1_lacks_one,[p,w])),s.flags|=4,s.addMessage(y)),!1):!0},u.prototype.sourceConstructSignaturesAreRelatableToTargetConstructSignatures=function(i,r,u,f,e,o,s,h){var a=r.getConstructSignatures(),l,v,c,y,p,w;return a.length&&(l=null,s&&!s.onlyCaptureFirstError&&(l=new t(s)),v=i.getConstructSignatures(),!this.signatureGroupIsRelatableToTarget(i,r,v,a,u,f,e,o,l,h))?(s&&(c=this.getEnclosingSymbolForAST(e),v.length&&a.length?y=l&&l.message?n.getDiagnosticMessage(n.DiagnosticCode.Construct_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(c),r.toString(c),l.message]):n.getDiagnosticMessage(n.DiagnosticCode.Construct_signatures_of_types_0_and_1_are_incompatible,[i.toString(c),r.toString(c)]):(p=a.length?r.toString(c):i.toString(c),w=a.length?i.toString(c):r.toString(c),y=n.getDiagnosticMessage(n.DiagnosticCode.Type_0_requires_a_construct_signature_but_type_1_lacks_one,[p,w])),s.flags|=4,s.addMessage(y)),!1):!0},u.prototype.sourceIndexSignaturesAreRelatableToTargetIndexSignatures=function(i,r,u,f,e,o,s,h){var b=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(r,o),p=b.stringSignature,v=b.numericSignature,g,a;if(p||v){var k=this.getBothKindsOfIndexSignaturesIncludingAugmentedType(i,o),w=o.getBothKindOfIndexSignatures(!0,!1),y=k.stringSignature,d=k.numericSignature,c=!0,l=null;if(s&&!s.onlyCaptureFirstError&&(l=new t(s)),p&&(y?(o.walkIndexSignatureReturnTypes(w,!0,!0),c=this.sourceIsRelatableToTargetInEnclosingTypes(y.returnType,p.returnType,u,f,e,o,l,h),o.postWalkIndexSignatureReturnTypes()):c=!1),c&&v&&(d?(o.walkIndexSignatureReturnTypes(w,!1,!1),c=this.sourceIsRelatableToTargetInEnclosingTypes(d.returnType,v.returnType,u,f,e,o,l,h),o.postWalkIndexSignatureReturnTypes()):y?(o.walkIndexSignatureReturnTypes(w,!0,!1),c=this.sourceIsRelatableToTargetInEnclosingTypes(y.returnType,v.returnType,u,f,e,o,l,h),o.postWalkIndexSignatureReturnTypes()):c=!1),!c)return s&&(a=this.getEnclosingSymbolForAST(e),g=l&&l.message?n.getDiagnosticMessage(n.DiagnosticCode.Index_signatures_of_types_0_and_1_are_incompatible_NL_2,[i.toString(a),r.toString(a),l.message]):n.getDiagnosticMessage(n.DiagnosticCode.Index_signatures_of_types_0_and_1_are_incompatible,[i.toString(a),r.toString(a)]),s.flags|=4,s.addMessage(g)),!1}return!0},u.prototype.signatureGroupIsRelatableToTarget=function(n,i,r,u,f,e,o,s,h,c){var l,p,a,v,k;if(r===u)return!0;if(!(r.length&&u.length))return!1;var w=!1,d=u.length>1,g=r.length>1,b=0,y=null;for(h&&(y=new t(h,!0),y.message=h.message),l=0;l<u.length;l++)if(p=u[l],!p.isStringConstantOverloadSignature()&&(!d||!p.isDefinition())){for(a=0;a<r.length;a++)if((v=r[a],!v.isStringConstantOverloadSignature()&&(!g||!v.isDefinition()))&&(s.walkSignatures(v.kind,a,l),k=this.signatureIsRelatableToTarget(v,p,f,e,o,s,b==0?y:null,c),s.postWalkSignatures(),b++,k)){w=!0;break}if(w){w=!1;continue}return h&&b==1&&(h.message=y.message),!1}return!0},u.prototype.signatureIsRelatableToTarget=function(n,t,i,r,u,f,e,o){var h=this.sourceIsRelatableToTargetInCache(n,t,r,e),s;return h?h.isRelatable:(r.setValueAt(n.pullSymbolID,t.pullSymbolID,!0),s=this.signatureIsRelatableToTargetWorker(n,t,i,r,u,f,e,o),r.setValueAt(n.pullSymbolID,t.pullSymbolID,s),s)},u.prototype.signatureIsRelatableToTargetWorker=function(t,i,r,u,f,e,o,s){var l=this,p=t.parameters,h=i.parameters,w,a,v,c,y;return!p||!h?!1:(w=i.nonOptionalParamCount,a=t.nonOptionalParamCount,!i.hasVarArgs&&a>h.length)?(o&&(o.flags|=3,o.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Call_signature_expects_0_or_fewer_parameters,[h.length]))),!1):this.signaturesAreIdentical(t,i,e)?!0:(i.isGeneric()&&(i=this.instantiateSignatureToAny(i)),t.isGeneric()&&(t=this.instantiateSignatureToAny(t)),v=t.returnType,c=i.returnType,c!==this.semanticInfoChain.voidTypeSymbol&&(e.walkReturnTypes(),y=this.sourceIsRelatableToTargetInEnclosingTypes(v,c,r,u,f,e,o,s),e.postWalkReturnTypes(),!y))?(o&&(o.flags|=16),!1):i.forAllCorrespondingParameterTypesInThisAndOtherSignature(t,function(n,t,i){e.walkParameterTypes(i);var h=l.sourceIsRelatableToTargetInEnclosingTypes(t,n,r,u,f,e,o,s);return h||(e.swapEnclosingTypeWalkers(),h=l.sourceIsRelatableToTargetInEnclosingTypes(n,t,r,u,f,e,o,s),e.swapEnclosingTypeWalkers()),e.postWalkParameterTypes(),h||o&&(o.flags|=64),h})},u.prototype.resolveOverloads=function(i,r,u,f,e){for(var l,v,p=this,w=r.length>1,a=new t,y=i.argumentList?i.argumentList.arguments:null,s=n.ArrayUtilities.where(r,function(n){if(w&&n.isDefinition())return!1;var t=n.getRootSymbol();return u&&!t.isGeneric()?!1:p.overloadHasCorrectArity(n,y)}),h=null,c=null,o=0;o<s.length;o++){if(l=this.overloadIsApplicable(s[o],y,f,a),l===3)return s[o];l!==2||h?l!==1||c||(c=s[o]):h=s[o]}return h||c?h||c:(v=this.getCallTargetErrorSpanAST(i),a.message?e.push(this.semanticInfoChain.diagnosticFromAST(v,n.DiagnosticCode.Supplied_parameters_do_not_match_any_signature_of_call_target_NL_0,[a.message])):e.push(this.semanticInfoChain.diagnosticFromAST(v,n.DiagnosticCode.Supplied_parameters_do_not_match_any_signature_of_call_target,null)),null)},u.prototype.getCallTargetErrorSpanAST=function(n){return n.expression.kind()===212?n.expression.name:n.expression},u.prototype.overloadHasCorrectArity=function(n,t){if(t==null)return n.nonOptionalParamCount===0;var i=t.nonSeparatorCount()&&t.nonSeparatorCount()===t.separatorCount()?t.separatorCount()+1:t.nonSeparatorCount();return i<n.nonOptionalParamCount?!1:!n.hasVarArgs&&i>n.parameters.length?!1:!0},u.prototype.overloadIsApplicable=function(n,t,i,r){var u,o;if(t===null)return 3;var h=!1,f=n.parameters,s=null,e=3;for(u=0;u<t.nonSeparatorCount();u++){if(h||(this.resolveDeclaredSymbol(f[u],i),f[u].isVarArg?(s=f[u].type.getElementType()||this.getNewErrorTypeSymbol(f[u].type.getName()),h=!0):s=f[u].type),o=this.overloadIsApplicableForArgument(s,t.nonSeparatorAt(u),u,i,r),o===0)return 0;o===1?e=1:e!==1&&o===2&&(e=2)}return e},u.prototype.overloadIsApplicableForArgument=function(t,i,r,u,f){var s,e,o;return t.isAny()?3:t.isError()?1:i.kind()===219?(s=i,this.overloadIsApplicableForAnyFunctionExpressionArgument(t,i,null,n.ASTHelpers.parametersFromIdentifier(s.identifier),null,s.block,s.expression,r,u,f)):i.kind()===218?(e=i,this.overloadIsApplicableForAnyFunctionExpressionArgument(t,i,e.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(e.callSignature.parameterList),n.ASTHelpers.getType(e),e.block,e.expression,r,u,f)):i.kind()===222?(o=i,this.overloadIsApplicableForAnyFunctionExpressionArgument(t,i,o.callSignature.typeParameterList,n.ASTHelpers.parametersFromParameterList(o.callSignature.parameterList),n.ASTHelpers.getType(o),o.block,null,r,u,f)):i.kind()===215?this.overloadIsApplicableForObjectLiteralArgument(t,i,r,u,f):i.kind()===214?this.overloadIsApplicableForArrayLiteralArgument(t,i,r,u,f):this.overloadIsApplicableForOtherArgument(t,i,r,u,f)},u.prototype.overloadIsApplicableForAnyFunctionExpressionArgument=function(n,t,i,r,u,f,e,o,s,h){if(this.cachedFunctionInterfaceType()&&n===this.cachedFunctionInterfaceType())return 2;s.pushProvisionalType(n);var c=this.resolveAnyFunctionExpression(t,i,r,u,f,e,!0,s),l=this.overloadIsApplicableForArgumentHelper(n,c.type,o,h,t,s);return s.popAnyContextualType(),l},u.prototype.overloadIsApplicableForObjectLiteralArgument=function(n,t,i,r,u){if(this.cachedObjectInterfaceType()&&n===this.cachedObjectInterfaceType())return 2;r.pushProvisionalType(n);var f=this.resolveObjectLiteralExpression(t,!0,r),e=this.overloadIsApplicableForArgumentHelper(n,f.type,i,u,t,r);return r.popAnyContextualType(),e},u.prototype.overloadIsApplicableForArrayLiteralArgument=function(n,t,i,r,u){if(n===this.cachedArrayInterfaceType())return 2;r.pushProvisionalType(n);var f=this.resolveArrayLiteralExpression(t,!0,r),e=this.overloadIsApplicableForArgumentHelper(n,f.type,i,u,t,r);return r.popAnyContextualType(),e},u.prototype.overloadIsApplicableForOtherArgument=function(n,t,i,r,u){var f=this.resolveAST(t,!1,r),e;return f.type.isAlias()&&(e=f.type,f=e.getExportAssignedTypeSymbol()),u.stringConstantVal=t,this.overloadIsApplicableForArgumentHelper(n,f.type,i,u,t,r)},u.prototype.overloadIsApplicableForArgumentHelper=function(i,r,u,f,e,o){var s=new t,h;return(s.stringConstantVal=f.stringConstantVal,!o.hasProvisionalErrors()&&this.sourceIsSubtypeOfTarget(r.type,i,e,o,s))?3:this.sourceIsAssignableToTarget(r.type,i,e,o,f.message?s:f)?o.hasProvisionalErrors()?1:2:(f.message||(h=this.getEnclosingSymbolForAST(e),f.addMessage(n.getDiagnosticMessage(n.DiagnosticCode.Could_not_apply_type_0_to_argument_1_which_is_of_type_2,[i.toString(h),u+1,r.getTypeName(h)]))),0)},u.prototype.inferArgumentTypesForSignature=function(t,i,r){var f=t.inferTypeArguments(),e=t.signatureBeingInferred.getTypeParameters(),o,s,h,u;for(n.Debug.assert(e.length==f.length),o=null,u=0;u<f.length;u++)e[u].getConstraint()&&(o=o||n.PullInstantiationHelpers.createTypeParameterArgumentMap(e,f),s=this.instantiateType(e[u].getConstraint(),o),this.sourceIsAssignableToTargetWithNewEnclosingTypes(f[u],s,null,r,null,!1)||(f[u]=s));if(t.isInvocationInferenceContext()&&(h=t,!this.typeParametersAreInScopeAtArgumentList(e,h.argumentASTs)))for(u=0;u<f.length;u++)f[u].wrapsSomeTypeParameter(t.candidateCache)&&(f[u]=this.semanticInfoChain.anyTypeSymbol);return f},u.prototype.typeParametersAreInScopeAtArgumentList=function(n,t){var i=this.getEnclosingDeclForAST(t),r=n[0].getDeclarations()[0].getParentDecl();return i.getParentPath().indexOf(r)>-1},u.prototype.relateTypeToTypeParametersInEnclosingType=function(n,t,i,r){if(n&&t&&r.oneOfClassificationsIsInfinitelyExpanding()){this.relateInifinitelyExpandingTypeToTypeParameters(n,t,i,r);return}this.relateTypeToTypeParameters(n,t,i,r)},u.prototype.relateTypeToTypeParametersWithNewEnclosingTypes=function(n,t,i,r){var u=r.resetEnclosingTypeWalkers();this.relateTypeToTypeParameters(n,t,i,r);r.setEnclosingTypeWalkers(u)},u.prototype.relateTypeToTypeParameters=function(t,i,r,u){var f,e;if(t&&i){if(t.isError()&&(t=this.semanticInfoChain.anyTypeSymbol),i.isTypeParameter()){f=i;r.addCandidateForInference(f,t);return}(!i.isNamedTypeSymbol()||i.isGeneric()||i.getTypeArguments())&&(n.PullInstantiationHelpers.twoTypesAreInstantiationsOfSameNamedGenericType(t,i)?this.relateTypeArgumentsOfTypeToTypeParameters(t,i,r,u):(e=u.startWalkingTypes(t,i),this.relateObjectTypeToTypeParameters(t,i,r,u),u.endWalkingTypes(e)))}},u.prototype.relateTypeArgumentsOfTypeToTypeParameters=function(t,i,r,u){var e=i.getTypeArguments(),o=t.getTypeArguments(),f;for(n.Debug.assert(e&&o&&e.length===o.length),f=0;f<e.length;f++)this.relateTypeToTypeParametersWithNewEnclosingTypes(o[f],e[f],r,u)},u.prototype.relateInifinitelyExpandingTypeToTypeParameters=function(t,i,r,u){var s,h,f,e,o;if(t&&i&&(s=n.PullHelpers.getRootType(t),h=n.PullHelpers.getRootType(i),s===h)&&(f=t.getTypeArguments(),e=i.getTypeArguments(),f&&e&&f.length===e.length))for(o=0;o<f.length;o++)this.relateTypeArgumentsOfTypeToTypeParameters(t,i,r,u)},u.prototype.relateFunctionSignatureToTypeParameters=function(n,t,i,r){var u=this,f=n.returnType,e=t.returnType;t.forAllCorrespondingParameterTypesInThisAndOtherSignature(n,function(n,t,f){return r.walkParameterTypes(f),u.relateTypeToTypeParametersInEnclosingType(t,n,i,r),r.postWalkParameterTypes(),!0});r.walkReturnTypes();this.relateTypeToTypeParametersInEnclosingType(f,e,i,r);r.postWalkReturnTypes()},u.prototype.relateObjectTypeToTypeParameters=function(n,t,i,r){var f=t.getMembers(),e,u;if(!i.alreadyRelatingTypes(n,t)){for(u=0;u<f.length;u++)e=this.getNamedPropertySymbol(f[u].name,68147712,n),e&&(this.resolveDeclaredSymbol(e),this.resolveDeclaredSymbol(f[u]),r.walkMemberTypes(f[u].name),this.relateTypeToTypeParametersInEnclosingType(e.type,f[u].type,i,r),r.postWalkMemberTypes());this.relateSignatureGroupToTypeParameters(n.getCallSignatures(),t.getCallSignatures(),1048576,i,r);this.relateSignatureGroupToTypeParameters(n.getConstructSignatures(),t.getConstructSignatures(),2097152,i,r);var o=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(t,r),s=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(n,r),h=r.getBothKindOfIndexSignatures(!1,!1);o.stringSignature&&s.stringSignature&&(r.walkIndexSignatureReturnTypes(h,!0,!0,!0),this.relateFunctionSignatureToTypeParameters(s.stringSignature,o.stringSignature,i,r),r.postWalkIndexSignatureReturnTypes(!0));o.numericSignature&&s.numericSignature&&(r.walkIndexSignatureReturnTypes(h,!1,!1,!0),this.relateFunctionSignatureToTypeParameters(s.numericSignature,o.numericSignature,i,r),r.postWalkIndexSignatureReturnTypes(!0))}},u.prototype.relateSignatureGroupToTypeParameters=function(n,t,i,r,u){for(var f,s,e,o=0;o<t.length;o++)for(f=t[o],n.length>0&&f.isGeneric()&&(f=this.instantiateSignatureToAny(f)),s=0;s<n.length;s++)(e=n[s],e.nonOptionalParamCount>f.nonOptionalParamCount)||(e.isGeneric()&&(e=this.instantiateSignatureToAny(e)),u.walkSignatures(i,s,o),this.relateFunctionSignatureToTypeParameters(e,f,r,u),u.postWalkSignatures())},u.prototype.alterPotentialGenericFunctionTypeToInstantiatedFunctionTypeForTypeArgumentInference=function(t,i){var r=i.getContextualType(),u,f;if(n.Debug.assert(r),u=t.type,this.isFunctionTypeWithExactlyOneCallSignatureAndNoOtherMembers(u,!0)&&this.isFunctionTypeWithExactlyOneCallSignatureAndNoOtherMembers(r,!1)){var o=u.getCallSignatures()[0],s=r.getCallSignatures()[0],e=this.instantiateSignatureInContext(o,s,i,!0);return e===null?t:(f=new n.PullTypeSymbol("",16777216),f.appendCallSignature(e),f)}return t},u.prototype.isFunctionTypeWithExactlyOneCallSignatureAndNoOtherMembers=function(t,i){var r,u;return(n.Debug.assert(t),t.getCallSignatures().length!==1)?!1:(r=t.getCallSignatures()[0].isGeneric(),r!==i)?!1:(u=t.getConstructSignatures().length||t.getIndexSignatures().length||t.getAllMembers(68147712,0).length,u)?!1:!0},u.prototype.instantiateTypeToAny=function(n){var i=n.getTypeParameters(),t,r;if(!i.length)return n;if(t=null,this._cachedAnyTypeArgs||(this._cachedAnyTypeArgs=[[this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol]]),i.length<this._cachedAnyTypeArgs.length)t=this._cachedAnyTypeArgs[i.length-1];else for(t=[],r=0;r<i.length;r++)t[t.length]=this.semanticInfoChain.anyTypeSymbol;return this.createInstantiatedType(n,t)},u.prototype.instantiateSignatureToAny=function(t){var r=t.getTypeParameters(),i,u,f;if(this._cachedAnyTypeArgs||(this._cachedAnyTypeArgs=[[this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol],[this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol,this.semanticInfoChain.anyTypeSymbol]]),r.length<this._cachedAnyTypeArgs.length)i=this._cachedAnyTypeArgs[r.length-1];else for(i=[],u=0;u<r.length;u++)i[i.length]=this.semanticInfoChain.anyTypeSymbol;return f=n.PullInstantiationHelpers.createTypeParameterArgumentMap(r,i),this.instantiateSignature(t,f)},u.typeCheck=function(t,i,r){var e=r.sourceUnit(),u=i.getResolver(),f=new n.PullTypeResolutionContext(u,!0,e.fileName()),o;if(u.canTypeCheckAST(e,f)){for(u.resolveAST(e,!1,f),u.validateVariableDeclarationGroups(i.getDeclForAST(e),f);u.typeCheckCallBacks.length;)o=u.typeCheckCallBacks.pop(),o(f);u.processPostTypeCheckWorkItems(f)}},u.prototype.validateVariableDeclarationGroups=function(t,i){var r=this;this.scanVariableDeclarationGroups(t,function(){},function(t,u){if(!n.hasFlag(t.kind,2048)&&!n.hasFlag(t.flags,8388608)){var s=r.semanticInfoChain.getASTForDecl(t),o=t.getSymbol(),f=o.type,e=u.type;f&&e&&f!==e&&!r.typesAreIdentical(f,e,i)&&i.postDiagnostic(r.semanticInfoChain.diagnosticFromAST(s,n.DiagnosticCode.Subsequent_variable_declarations_must_have_the_same_type_Variable_0_must_be_of_type_1_but_here_has_type_2,[o.getScopedName(),e.toString(u),f.toString(o)]))}})},u.prototype.typeCheckFunctionOverloads=function(i,r,u,f){var a,y,p,w,v,e,l,s,h;u||(a=n.PullHelpers.getSignatureForFuncDecl(this.semanticInfoChain.getDeclForAST(i)),u=a.signature,f=a.allSignatures);var c=this.semanticInfoChain.getDeclForAST(i),b=c.getSymbol(),o=null;for(e=f.length-1;e>=0;e--)if(f[e].isDefinition()){o=f[e];break}if(!u.isDefinition())for(y=u.getDeclarations()[0].getParentDecl(),e=0;e<f.length;e++){if(f[e]===u)break;if((p=f[e].getDeclarations()[0].getParentDecl(),p===y)&&this.signaturesAreIdenticalWithNewEnclosingTypes(f[e],u,r,!1)){this.signatureReturnTypesAreIdentical(f[e],u,r)?i.kind()===137?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Duplicate_constructor_overload_signature)):c.kind===2097152?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Duplicate_overload_construct_signature)):c.kind===1048576?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Duplicate_overload_call_signature)):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Duplicate_overload_signature_for_0,[b.getScopedNameEx().toString()])):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Overloads_cannot_differ_only_by_return_type));break}}if(w=u.isStringConstantOverloadSignature(),w)if(u.isDefinition())r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Overload_signature_implementation_cannot_use_specialized_type));else{for(v=!1,e=0;e<f.length;e++)if(!f[e].isDefinition()&&f[e]!==u&&(f[e].isResolved||this.resolveDeclaredSymbol(f[e],r),!f[e].isStringConstantOverloadSignature())&&this.signatureIsAssignableToTarget(u,f[e],null,r)){v=!0;break}v||r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Specialized_overload_signature_is_not_assignable_to_any_non_specialized_signature))}else o&&o!==u&&(l=new t,o.isResolved||this.resolveDeclaredSymbol(o,r),this.signatureIsAssignableToTarget(o,u,i,r,l)||(l.message?r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Overload_signature_is_not_compatible_with_function_definition_NL_0,[l.message])):r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Overload_signature_is_not_compatible_with_function_definition))));if(s=o,!o){if(f[0]===u)return;s=f[0]}i.kind()!==137&&c.kind!==2097152&&s&&u!==s&&(s.anyDeclHasFlag(2)!==u.anyDeclHasFlag(2)?h=n.DiagnosticCode.Overload_signatures_must_all_be_public_or_private:s.anyDeclHasFlag(1)!==u.anyDeclHasFlag(1)?h=n.DiagnosticCode.Overload_signatures_must_all_be_exported_or_not_exported:s.anyDeclHasFlag(8)!==u.anyDeclHasFlag(8)?h=n.DiagnosticCode.Overload_signatures_must_all_be_ambient_or_non_ambient:s.anyDeclHasFlag(128)!==u.anyDeclHasFlag(128)&&(h=n.DiagnosticCode.Overload_signatures_must_all_be_optional_or_required),h&&r.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,h)))},u.prototype.checkSymbolPrivacy=function(n,t,i){var r,s,c,h,l,o,f,e,v,u,a,y;if(t&&t.kind!==2){if(t.isType()){if(r=t,s=r.isNamedTypeSymbol(),r.isArrayNamedTypeReference()){this.checkSymbolPrivacy(n,r.getElementType(),i);return}if(!s&&(c=r.getTypeOfSymbol(),c)){this.checkSymbolPrivacy(n,c,i);return}if(r.inSymbolPrivacyCheck)return;if(r.inSymbolPrivacyCheck=!0,h=r.getTypeArgumentsOrTypeParameters(),h)for(u=0;u<h.length;u++)this.checkSymbolPrivacy(n,h[u],i);if(s)r.kind===8192&&this.checkSymbolPrivacy(n,r.getConstraint(),i);else{for(l=r.getMembers(),u=0;u<l.length;u++)this.checkSymbolPrivacy(n,l[u].type,i);this.checkTypePrivacyOfSignatures(n,r.getCallSignatures(),i);this.checkTypePrivacyOfSignatures(n,r.getConstructSignatures(),i);this.checkTypePrivacyOfSignatures(n,r.getIndexSignatures(),i)}if(r.inSymbolPrivacyCheck=!1,!s)return}if(n.isExternallyVisible()){if(o=t.isExternallyVisible(),o&&t.kind!==8192){if(f=t.pathToRoot(),e=n.pathToRoot(),f[f.length-1].kind===32&&e[e.length-1].kind===32&&e[e.length-1]!==f[f.length-1]){for(o=!1,v=e[e.length-1],u=f.length-1;u>=0;u--)if(a=f[u].getExternalAliasedSymbols(v),a){o=!0;a[0].setTypeUsedExternally();break}t=f[f.length-1]}}else t.kind===128&&(y=t,o=!0,y.setTypeUsedExternally());o||i(t)}}},u.prototype.checkTypePrivacyOfSignatures=function(n,t,i){for(var u,e,o,r,s,h,f=0;f<t.length;f++)if(u=t[f],!(t.length>1)||!u.isDefinition()){for(e=u.getTypeParameters(),r=0;r<e.length;r++)this.checkSymbolPrivacy(n,e[r],i);for(o=u.parameters,r=0;r<o.length;r++)s=o[r].type,this.checkSymbolPrivacy(n,s,i);h=u.returnType;this.checkSymbolPrivacy(n,h,i)}},u.prototype.typeParameterOfTypeDeclarationPrivacyErrorReporter=function(t,i,r,u,f){var a=this.semanticInfoChain.getDeclForAST(t),h=this.getEnclosingDecl(a),c=h?h.getSymbol():null,o,v=t.kind()===131?t.typeParameterList:t.typeParameterList,s=u,e=s.getScopedName(c),l;s.isContainer()&&!s.isEnum()?(n.isQuoted(e)||(e="'"+e+"'"),o=t.kind()===131?n.DiagnosticCode.TypeParameter_0_of_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.TypeParameter_0_of_exported_interface_is_using_inaccessible_module_1):o=t.kind()===131?n.DiagnosticCode.TypeParameter_0_of_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.TypeParameter_0_of_exported_interface_has_or_is_using_private_type_1;l=[r.getScopedName(c,!1,!0),e];f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,o,l))},u.prototype.baseListPrivacyErrorReporter=function(t,i,r,u,f,e){var v=this.semanticInfoChain.getDeclForAST(t),c=this.getEnclosingDecl(v),l=c?c.getSymbol():null,s,h=f,o=h.getScopedName(l),a;h.isContainer()&&!h.isEnum()?(n.isQuoted(o)||(o="'"+o+"'"),s=t.kind()===131?u?n.DiagnosticCode.Exported_class_0_extends_class_from_inaccessible_module_1:n.DiagnosticCode.Exported_class_0_implements_interface_from_inaccessible_module_1:n.DiagnosticCode.Exported_interface_0_extends_interface_from_inaccessible_module_1):s=t.kind()===131?u?n.DiagnosticCode.Exported_class_0_extends_private_class_1:n.DiagnosticCode.Exported_class_0_implements_private_interface_1:n.DiagnosticCode.Exported_interface_0_extends_private_interface_1;a=[i.getScopedName(l),o];e.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,s,a))},u.prototype.variablePrivacyErrorReporter=function(t,i,r,u){var e=r,c=this.getEnclosingDecl(i.getDeclarations()[0]),l=c?c.getSymbol():null,a=i.kind===4096,o=!1,s=i.getContainer(),h,f,v;s&&(s.kind===8||s.kind===32768)&&(o=!0);f=e.getScopedName(l);e.isContainer()&&!e.isEnum()?(n.isQuoted(f)||(f="'"+f+"'"),h=i.anyDeclHasFlag(16)?n.DiagnosticCode.Public_static_property_0_of_exported_class_is_using_inaccessible_module_1:a?o?n.DiagnosticCode.Public_property_0_of_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Property_0_of_exported_interface_is_using_inaccessible_module_1:n.DiagnosticCode.Exported_variable_0_is_using_inaccessible_module_1):h=i.anyDeclHasFlag(16)?n.DiagnosticCode.Public_static_property_0_of_exported_class_has_or_is_using_private_type_1:a?o?n.DiagnosticCode.Public_property_0_of_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Property_0_of_exported_interface_has_or_is_using_private_type_1:n.DiagnosticCode.Exported_variable_0_has_or_is_using_private_type_1;v=[i.getScopedName(l),f];u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,h,v))},u.prototype.checkFunctionTypePrivacy=function(n,t,i,r,u,f,e){var v=this,p,d,w,b,a,s;if(n.kind()!==222&&n.kind()!==241&&(n.kind()!==139||n.parent.parent.kind()!==215)&&(n.kind()!==140||n.parent.parent.kind()!==215)){var c=this.semanticInfoChain.getDeclForAST(n),o=c.getSymbol(),h,l=n.kind()===139,y=n.kind()===140,k=c.kind===4194304;if(l||y)p=o,h=(l?p.getGetter():p.getSetter()).type.getCallSignatures()[0];else{if(o){if(o.kind===65536&&!t&&!o.getContainer().isNamedTypeSymbol())return}else if(d=c.getParentDecl(),o=d.getSymbol(),o&&o.isType()&&!o.isNamedTypeSymbol())return;h=c.getSignatureSymbol()}if(i&&!l&&!y&&!k&&n.kind()!==137)for(s=0;s<i.typeParameters.nonSeparatorCount();s++)w=i.typeParameters.nonSeparatorAt(s),b=this.resolveTypeParameterDeclaration(w,e),this.checkSymbolPrivacy(o,b,function(i){return v.functionTypeArgumentArgumentTypePrivacyErrorReporter(n,t,w,b,i,e)});if(!l&&!k)for(a=h.parameters,s=0;s<a.length;s++)this.checkSymbolPrivacy(o,a[s].type,function(i){return v.functionArgumentTypePrivacyErrorReporter(n,t,r,s,a[s],i,e)});y||this.checkSymbolPrivacy(o,h.returnType,function(i){return v.functionReturnTypePrivacyErrorReporter(n,t,u,f,h.returnType,i,e)})}},u.prototype.functionTypeArgumentArgumentTypePrivacyErrorReporter=function(t,i,r,u,f,e){var o=this.semanticInfoChain.getDeclForAST(t),a=this.getEnclosingDecl(o),v=a?a.getSymbol():null,y=o.kind===65536,l=!1,p=o.getParentDecl(),h,s,c,w;p&&(p.kind===8||i)&&(l=!0);h=f;s=h.getScopedName(v);h.isContainer()&&!h.isEnum()?(n.isQuoted(s)||(s="'"+s+"'"),c=o.kind===2097152?n.DiagnosticCode.TypeParameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:o.kind===1048576?n.DiagnosticCode.TypeParameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:y?i?n.DiagnosticCode.TypeParameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:l?n.DiagnosticCode.TypeParameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.TypeParameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:n.DiagnosticCode.TypeParameter_0_of_exported_function_is_using_inaccessible_module_1):c=o.kind===2097152?n.DiagnosticCode.TypeParameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:o.kind===1048576?n.DiagnosticCode.TypeParameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:y?i?n.DiagnosticCode.TypeParameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:l?n.DiagnosticCode.TypeParameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.TypeParameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:n.DiagnosticCode.TypeParameter_0_of_exported_function_has_or_is_using_private_type_1;c&&(w=[u.getScopedName(v,!1,!0),s],e.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,c,w)))},u.prototype.functionArgumentTypePrivacyErrorReporter=function(t,i,r,u,f,e,o){var h=this.semanticInfoChain.getDeclForAST(t),v=this.getEnclosingDecl(h),y=v?v.getSymbol():null,p=t.kind()===139,w=t.kind()===140,b=h.kind===65536,a=!1,k=h.getParentDecl(),l,c,s,d,g;k&&(k.kind===8||i)&&(a=!0);l=e;c=l.getScopedName(y);l.isContainer()&&!l.isEnum()?(n.isQuoted(c)||(c="'"+c+"'"),t.kind()===137?s=n.DiagnosticCode.Parameter_0_of_constructor_from_exported_class_is_using_inaccessible_module_1:w?s=i?n.DiagnosticCode.Parameter_0_of_public_static_property_setter_from_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Parameter_0_of_public_property_setter_from_exported_class_is_using_inaccessible_module_1:h.kind===2097152?s=n.DiagnosticCode.Parameter_0_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_1:h.kind===1048576?s=n.DiagnosticCode.Parameter_0_of_call_signature_from_exported_interface_is_using_inaccessible_module_1:b?s=i?n.DiagnosticCode.Parameter_0_of_public_static_method_from_exported_class_is_using_inaccessible_module_1:a?n.DiagnosticCode.Parameter_0_of_public_method_from_exported_class_is_using_inaccessible_module_1:n.DiagnosticCode.Parameter_0_of_method_from_exported_interface_is_using_inaccessible_module_1:p||(s=n.DiagnosticCode.Parameter_0_of_exported_function_is_using_inaccessible_module_1)):t.kind()===137?s=n.DiagnosticCode.Parameter_0_of_constructor_from_exported_class_has_or_is_using_private_type_1:w?s=i?n.DiagnosticCode.Parameter_0_of_public_static_property_setter_from_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Parameter_0_of_public_property_setter_from_exported_class_has_or_is_using_private_type_1:h.kind===2097152?s=n.DiagnosticCode.Parameter_0_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_1:h.kind===1048576?s=n.DiagnosticCode.Parameter_0_of_call_signature_from_exported_interface_has_or_is_using_private_type_1:b?s=i?n.DiagnosticCode.Parameter_0_of_public_static_method_from_exported_class_has_or_is_using_private_type_1:a?n.DiagnosticCode.Parameter_0_of_public_method_from_exported_class_has_or_is_using_private_type_1:n.DiagnosticCode.Parameter_0_of_method_from_exported_interface_has_or_is_using_private_type_1:p||h.kind===4194304||(s=n.DiagnosticCode.Parameter_0_of_exported_function_has_or_is_using_private_type_1);s&&(d=r.astAt(u),g=[f.getScopedName(y),c],o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(d,s,g)))},u.prototype.functionReturnTypePrivacyErrorReporter=function(t,i,r,u,f,e,o){var p=this,h=this.semanticInfoChain.getDeclForAST(t),w=this.getEnclosingDecl(h),b=t.kind()===139,k=t.kind()===140,d=h.kind===65536,a=!1,g=h.getParentDecl(),l,y,nt,tt;g&&(g.kind===8||i)&&(a=!0);var s=null,v=e,c=v.getScopedName(w?w.getSymbol():null);v.isContainer()&&!v.isEnum()?(n.isQuoted(c)||(c="'"+c+"'"),b?s=i?n.DiagnosticCode.Return_type_of_public_static_property_getter_from_exported_class_is_using_inaccessible_module_0:n.DiagnosticCode.Return_type_of_public_property_getter_from_exported_class_is_using_inaccessible_module_0:h.kind===2097152?s=n.DiagnosticCode.Return_type_of_constructor_signature_from_exported_interface_is_using_inaccessible_module_0:h.kind===1048576?s=n.DiagnosticCode.Return_type_of_call_signature_from_exported_interface_is_using_inaccessible_module_0:h.kind===4194304?s=n.DiagnosticCode.Return_type_of_index_signature_from_exported_interface_is_using_inaccessible_module_0:d?s=i?n.DiagnosticCode.Return_type_of_public_static_method_from_exported_class_is_using_inaccessible_module_0:a?n.DiagnosticCode.Return_type_of_public_method_from_exported_class_is_using_inaccessible_module_0:n.DiagnosticCode.Return_type_of_method_from_exported_interface_is_using_inaccessible_module_0:k||t.kind()===137||(s=n.DiagnosticCode.Return_type_of_exported_function_is_using_inaccessible_module_0)):b?s=i?n.DiagnosticCode.Return_type_of_public_static_property_getter_from_exported_class_has_or_is_using_private_type_0:n.DiagnosticCode.Return_type_of_public_property_getter_from_exported_class_has_or_is_using_private_type_0:h.kind===2097152?s=n.DiagnosticCode.Return_type_of_constructor_signature_from_exported_interface_has_or_is_using_private_type_0:h.kind===1048576?s=n.DiagnosticCode.Return_type_of_call_signature_from_exported_interface_has_or_is_using_private_type_0:h.kind===4194304?s=n.DiagnosticCode.Return_type_of_index_signature_from_exported_interface_has_or_is_using_private_type_0:d?s=i?n.DiagnosticCode.Return_type_of_public_static_method_from_exported_class_has_or_is_using_private_type_0:a?n.DiagnosticCode.Return_type_of_public_method_from_exported_class_has_or_is_using_private_type_0:n.DiagnosticCode.Return_type_of_method_from_exported_interface_has_or_is_using_private_type_0:k||t.kind()===137||(s=n.DiagnosticCode.Return_type_of_exported_function_has_or_is_using_private_type_0);s&&(l=[c],y=!1,r&&(nt=this.resolveTypeReference(r,o),n.PullHelpers.typeSymbolsAreIdentical(nt,f)&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,s,l))),u&&(tt=function(t,i){var r=!0,u,e;switch(t.kind()){case 129:case 219:case 218:case 222:r=!1;break;case 150:u=t;e=p.resolveAST(u.expression,!1,o).type;n.PullHelpers.typeSymbolsAreIdentical(e,f)?o.postDiagnostic(p.semanticInfoChain.diagnosticFromAST(u,s,l)):y=!0;r=!1}return i.options.goChildren=r,t},n.getAstWalkerFactory().walk(u,tt)),y&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,s,l)))},u.prototype.enclosingClassIsDerived=function(t){n.Debug.assert(t.kind===8);var i=t.getSymbol();return i.getExtendedTypes().length>0},u.prototype.isSuperInvocationExpression=function(n){if(n.kind()===213){var t=n;if(t.expression.kind()===50)return!0}return!1},u.prototype.isSuperInvocationExpressionStatement=function(n){if(n&&n.kind()===149){var t=n;if(this.isSuperInvocationExpression(t.expression))return!0}return!1},u.prototype.getFirstStatementOfBlockOrNull=function(n){return n&&n.statements&&n.statements.childCount()>0?n.statements.childAt(0):null},u.prototype.superCallMustBeFirstStatementInConstructor=function(t){var h,f,e,i,c,o,s,r,l,a,u,v;if(n.Debug.assert(t.kind===32768),t){if(h=t.getParentDecl(),f=h.getSymbol(),f.getExtendedTypes().length===0)return!1;for(e=f.getMembers(),i=0,c=e.length;i<c;i++)if(o=e[i],o.kind===4096)for(s=o.getDeclarations(),r=0,l=s.length;r<l;r++)if((a=s[r],u=this.semanticInfoChain.getASTForDecl(a),u.kind()===242)||u.kind()===136&&(v=u,v.variableDeclarator.equalsValueClause))return!0}return!1},u.prototype.checkForThisCaptureInArrowFunction=function(t){var h=this.getEnclosingDeclForAST(t),e=h.getParentPath(),o,s,f,r;if(e.length)for(o=!1,r=e.length-1;r>=0;r--){var u=e[r],i=u.kind,c=u.flags;if(i===131072&&n.hasFlag(c,8192)){o=!0;continue}if(o){if(i===16384||i===65536||i===32768||i===262144||i===524288||i===131072||i===8||i===4||i===32||i===1){if(u.setFlags(u.flags|262144),i===8)for(s=u.getSymbol().getConstructorMethod(),f=s.getDeclarations(),r=0;r<f.length;r++)f[r].flags=f[r].flags|262144;break}}else if(i===16384||i===131072)break}},u.prototype.typeCheckMembersAgainstIndexer=function(i,r,u){var l=this.getBothKindsOfIndexSignaturesExcludingAugmentedType(i,u),a=l.stringSignature,v=l.numericSignature,h,e,f,o,s,c;if(a||v)for(h=r.getChildDecls(),e=0;e<h.length;e++)f=h[e],(f.name||f.kind===4096&&f.name==="")&&f.kind!==32768&&!n.hasFlag(f.flags,16)&&(o=f.getSymbol(),s=this.determineRelevantIndexerForMember(o,v,a),s&&(c=new t,this.sourceIsAssignableToTarget(o.type,s.returnType,f.ast(),u,c)||this.reportErrorThatMemberIsNotSubtypeOfIndexer(o,s,f.ast(),u,c)))},u.prototype.determineRelevantIndexerForMember=function(t,i,r){return i&&n.PullHelpers.isNameNumeric(t.name)?i:r?r:null},u.prototype.reportErrorThatMemberIsNotSubtypeOfIndexer=function(t,i,r,u,f){var e=this.getEnclosingSymbolForAST(r);i.parameters[0].type===this.semanticInfoChain.numberTypeSymbol?f.message?u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.All_numerically_named_properties_must_be_assignable_to_numeric_indexer_type_0_NL_1,[i.returnType.toString(e),f.message])):u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.All_numerically_named_properties_must_be_assignable_to_numeric_indexer_type_0,[i.returnType.toString(e)])):f.message?u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.All_named_properties_must_be_assignable_to_string_indexer_type_0_NL_1,[i.returnType.toString(e),f.message])):u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,n.DiagnosticCode.All_named_properties_must_be_assignable_to_string_indexer_type_0,[i.returnType.toString(e)]))},u.prototype.typeCheckIfTypeMemberPropertyOkToOverride=function(t,i,r,u,f,e){var o,h,s,c;return t.isClass()?(o=r.kind,h=u.kind,o===h)?!0:(o===4096?s=r.isAccessor()?n.DiagnosticCode.Class_0_defines_instance_member_accessor_1_but_extended_class_2_defines_it_as_instance_member_function:n.DiagnosticCode.Class_0_defines_instance_member_property_1_but_extended_class_2_defines_it_as_instance_member_function:o===65536&&(s=u.isAccessor()?n.DiagnosticCode.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_accessor:n.DiagnosticCode.Class_0_defines_instance_member_function_1_but_extended_class_2_defines_it_as_instance_member_property),c=n.getDiagnosticMessage(s,[t.toString(),r.getScopedNameEx().toString(),i.toString()]),e.addMessage(c),!1):!0},u.prototype.typeCheckIfTypeExtendsType=function(i,r,u,f,e,o){for(var l,b,a,k,nt,p,v,g,y=u.getMembers(),c=new t,s=!1,w=!1,d=!1,h=0;h<y.length;h++)if(p=y[h].name,l=f.findMember(p,!0),l&&(this.resolveDeclaredSymbol(l,o),w=!this.typeCheckIfTypeMemberPropertyOkToOverride(u,f,y[h],l,e,c),w||(d=!this.sourcePropertyIsAssignableToTargetProperty(u,f,y[h],l,i,o,c)),w||d)){s=!0;break}if(!s&&u.hasOwnCallSignatures()&&(s=!this.sourceCallSignaturesAreAssignableToTargetCallSignatures(u,f,i,o,c)),!s&&u.hasOwnConstructSignatures()&&(s=!this.sourceConstructSignaturesAreAssignableToTargetConstructSignatures(u,f,i,o,c)),!s&&u.hasOwnIndexSignatures()&&(s=!this.sourceIndexSignaturesAreAssignableToTargetIndexSignatures(u,f,i,o,c)),!s&&u.isClass()&&(b=u.getConstructorMethod().type,a=b.getMembers(),a.length))for(k=f.getConstructorMethod().type,nt=new t(c),h=0;h<a.length;h++)if(p=a[h].name,v=k.findMember(p,!0),v&&(v.isResolved||this.resolveDeclaredSymbol(v,o),!this.sourcePropertyIsAssignableToTargetProperty(b,k,a[h],v,i,o,c))){s=!0;break}s&&(g=u.isClass()?n.DiagnosticCode.Class_0_cannot_extend_class_1_NL_2:f.isClass()?n.DiagnosticCode.Interface_0_cannot_extend_class_1_NL_2:n.DiagnosticCode.Interface_0_cannot_extend_interface_1_NL_2,o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(r,g,[u.getScopedName(),f.getScopedName(),c.message])))},u.prototype.typeCheckIfClassImplementsType=function(i,r,u,f,e){var s=new t,o=!this.sourceMembersAreAssignableToTargetMembers(r,u,i,e,s),h;o||(o=!this.sourceCallSignaturesAreAssignableToTargetCallSignatures(r,u,i,e,s),o||(o=!this.sourceConstructSignaturesAreAssignableToTargetConstructSignatures(r,u,i,e,s),o||(o=!this.sourceIndexSignaturesAreAssignableToTargetIndexSignatures(r,u,i,e,s))));o&&(h=this.getEnclosingSymbolForAST(i),e.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i.identifier,n.DiagnosticCode.Class_0_declares_interface_1_but_does_not_implement_it_NL_2,[r.getScopedName(h),u.getScopedName(h),s.message])))},u.prototype.computeValueSymbolFromAST=function(t,i){var o=i.inTypeCheck,u,f,e;if(i.inTypeCheck=!1,u=this.semanticInfoChain.getAliasSymbolForAST(t),t.kind()==11)f=this.computeNameExpression(t,i);else{n.Debug.assert(t.kind()==121);var r=t,s=this.computeValueSymbolFromAST(r.left,i),f=this.computeDottedNameExpressionFromLHS(s.symbol,r.left,r.right,i,!1)}return e=this.semanticInfoChain.getAliasSymbolForAST(t),this.semanticInfoChain.setAliasSymbolForAST(t,u),i.inTypeCheck=o,{symbol:f,alias:e}},u.prototype.hasClassTypeSymbolConflictAsValue=function(n,t,i,r){var e=this.semanticInfoChain.getAliasSymbolForAST(n),h=n.kind()==126?n.name:n,o=this.computeValueSymbolFromAST(h,r),u=o.symbol,s=o.alias,f;return e&&s?e!==s:u.anyDeclHasFlag(16384)?(f=u.type?u.type.getAssociatedContainerType():null,f)?f!==t.getRootSymbol():!0:!0},u.prototype.typeCheckBase=function(t,i,r,u,f,e,o){var c=this,l=this.semanticInfoChain.getDeclForAST(t),s=this.resolveTypeReference(u,o).type,h;if(s){if(h=r.isClass(),r.isValidBaseKind(s,f))h&&f&&this.hasClassTypeSymbolConflictAsValue(u,s,e,o)&&o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u,n.DiagnosticCode.Type_name_0_in_extends_clause_does_not_reference_constructor_function_for_1,[n.ASTHelpers.getNameOfIdenfierOrQualifiedName(u.kind()==126?u.name:u),s.toString(e?e.getSymbol():null)]));else{s.isError()||(f?h?o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u,n.DiagnosticCode.A_class_may_only_extend_another_class)):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u,n.DiagnosticCode.An_interface_may_only_extend_another_class_or_interface)):o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(u,n.DiagnosticCode.A_class_may_only_implement_another_class_or_interface)));return}if(s.hasBase(r)){r.setHasBaseTypeConflict();s.setHasBaseTypeConflict();o.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,h?n.DiagnosticCode.Class_0_is_recursively_referenced_as_a_base_type_of_itself:n.DiagnosticCode.Interface_0_is_recursively_referenced_as_a_base_type_of_itself,[r.getScopedName()]));return}f?this.typeCheckCallBacks.push(function(n){return c.typeCheckIfTypeExtendsType(t,i,r,s,e,n)}):(n.Debug.assert(t.kind()===131),this.typeCheckCallBacks.push(function(n){return c.typeCheckIfClassImplementsType(t,r,s,e,n)}));this.checkSymbolPrivacy(r,s,function(n){return c.baseListPrivacyErrorReporter(t,r,u,f,n,o)})}},u.prototype.typeCheckBases=function(t,i,r,u,f,e){var l=this,s=n.ASTHelpers.getExtendsHeritageClause(r),h=n.ASTHelpers.getImplementsHeritageClause(r),o,c;if(s||h){if(s)for(o=0;o<s.typeNames.nonSeparatorCount();o++)this.typeCheckBase(t,i,u,s.typeNames.nonSeparatorAt(o),!0,f,e);if(u.isClass()){if(h)for(o=0;o<h.typeNames.nonSeparatorCount();o++)this.typeCheckBase(t,i,u,h.typeNames.nonSeparatorAt(o),!1,f,e)}else s&&!u.hasBaseTypeConflict()&&u.getExtendedTypes().length>1&&(c=n.ArrayUtilities.firstOrDefault(u.getDeclarations(),function(n){return n.ast().heritageClauses!==null}).ast(),t===c&&this.typeCheckCallBacks.push(function(n){l.checkTypeCompatibilityBetweenBases(t.identifier,u,n)}))}},u.prototype.checkTypeCompatibilityBetweenBases=function(t,i,r){var a=i.getOwnIndexSignatures(),s=n.createIntrinsicsObject(),e=new l,h=!1,c=!1,o,f,u;if(i.hasOwnIndexSignatures())for(o=i.getOwnIndexSignatures(),u=0;u<o.length;u++)o[u].parameters[0].type===this.semanticInfoChain.numberTypeSymbol?h=!0:c=!0;for(f=i.getExtendedTypes(),u=0;u<f.length;u++)if(this.checkNamedPropertyIdentityBetweenBases(t,i,f[u],s,r)||this.checkIndexSignatureIdentityBetweenBases(t,i,f[u],e,h,c,r))return;this.checkThatInheritedNumberSignatureIsSubtypeOfInheritedStringSignature(t,i,e,r)||this.checkInheritedMembersAgainstInheritedIndexSignatures(t,i,e,s,r)},u.prototype.checkNamedPropertyIdentityBetweenBases=function(t,i,r,u,f){for(var s,e,o,a,l=r.getAllMembers(69632,0),h=0;h<l.length;h++)if(s=l[h],e=s.name,!i.findMember(e,!1))if(this.resolveDeclaredSymbol(s,f),u[e]){if(o=u[e],o.baseOrigin!==r&&!this.propertiesAreIdenticalWithNewEnclosingTypes(r,o.baseOrigin,s,o.memberSymbol,f))return a=n.getDiagnosticMessage(n.DiagnosticCode.Named_properties_0_of_types_1_and_2_are_not_identical,[e,o.baseOrigin.getScopedName(),r.getScopedName()]),f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[i.getDisplayName(),o.baseOrigin.getScopedName(),r.getScopedName(),a])),!0}else u[e]=new c(s,r);return!1},u.prototype.checkIndexSignatureIdentityBetweenBases=function(t,i,r,u,f,e,s){var a,c,l;if(f&&e)return!1;for(a=r.getIndexSignatures(),c=0;c<a.length;c++){var h=a[c],v=h.parameters[0].type===this.semanticInfoChain.stringTypeSymbol,y=h.parameters[0].type===this.semanticInfoChain.numberTypeSymbol;if((!v||!e)&&(!y||!f))if(v)if(u.stringSignatureWithBaseOrigin){if(u.stringSignatureWithBaseOrigin.baseOrigin!==r&&!this.typesAreIdentical(u.stringSignatureWithBaseOrigin.signature.returnType,h.returnType,s))return l=n.getDiagnosticMessage(n.DiagnosticCode.Types_of_string_indexer_of_types_0_and_1_are_not_identical,[u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(),r.getScopedName()]),s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[i.getDisplayName(),u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(),r.getScopedName(),l])),!0}else u.stringSignatureWithBaseOrigin=new o(h,r);else if(y)if(u.numberSignatureWithBaseOrigin){if(u.numberSignatureWithBaseOrigin.baseOrigin!==r&&!this.typesAreIdentical(u.numberSignatureWithBaseOrigin.signature.returnType,h.returnType,s))return l=n.getDiagnosticMessage(n.DiagnosticCode.Types_of_number_indexer_of_types_0_and_1_are_not_identical,[u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(),r.getScopedName()]),s.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[i.getDisplayName(),u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(),r.getScopedName(),l])),!0}else u.numberSignatureWithBaseOrigin=new o(h,r)}return!1},u.prototype.checkInheritedMembersAgainstInheritedIndexSignatures=function(i,r,u,f,e){var h,s,c,v,y,p,o,l;if(!u.stringSignatureWithBaseOrigin&&!u.numberSignatureWithBaseOrigin)return!1;var a=new t,w=u.stringSignatureWithBaseOrigin&&u.stringSignatureWithBaseOrigin.signature,b=u.numberSignatureWithBaseOrigin&&u.numberSignatureWithBaseOrigin.signature;for(h in f)if((s=f[h],s)&&(c=this.determineRelevantIndexerForMember(s.memberSymbol,b,w),c)&&(v=c.parameters[0].type===this.semanticInfoChain.numberTypeSymbol,y=v?u.numberSignatureWithBaseOrigin.baseOrigin:u.stringSignatureWithBaseOrigin.baseOrigin,y!==s.baseOrigin)&&(p=this.sourceIsAssignableToTarget(s.memberSymbol.type,c.returnType,i,e,a),!p))return o=this.getEnclosingSymbolForAST(i),v?(l=n.getDiagnosticMessage(n.DiagnosticCode.Type_of_property_0_in_type_1_is_not_assignable_to_number_indexer_type_in_type_2_NL_3,[h,s.baseOrigin.getScopedName(o),u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(o),a.message]),e.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[r.getDisplayName(o),s.baseOrigin.getScopedName(o),u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(o),l]))):(l=n.getDiagnosticMessage(n.DiagnosticCode.Type_of_property_0_in_type_1_is_not_assignable_to_string_indexer_type_in_type_2_NL_3,[h,s.baseOrigin.getScopedName(o),u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(o),a.message]),e.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[r.getDisplayName(o),s.baseOrigin.getScopedName(o),u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(o),l]))),!0;return!1},u.prototype.checkThatInheritedNumberSignatureIsSubtypeOfInheritedStringSignature=function(i,r,u,f){var o,s,e,h;if(u.numberSignatureWithBaseOrigin&&u.stringSignatureWithBaseOrigin){if(u.numberSignatureWithBaseOrigin.baseOrigin===u.stringSignatureWithBaseOrigin.baseOrigin)return!1;if(o=new t,s=this.sourceIsAssignableToTarget(u.numberSignatureWithBaseOrigin.signature.returnType,u.stringSignatureWithBaseOrigin.signature.returnType,i,f,o),!s)return e=this.getEnclosingSymbolForAST(i),h=n.getDiagnosticMessage(n.DiagnosticCode.Type_of_number_indexer_in_type_0_is_not_assignable_to_string_indexer_type_in_type_1_NL_2,[u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(e),u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(e),o.message]),f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Interface_0_cannot_simultaneously_extend_types_1_and_2_NL_3,[r.getDisplayName(e),u.numberSignatureWithBaseOrigin.baseOrigin.getScopedName(),u.stringSignatureWithBaseOrigin.baseOrigin.getScopedName(e),h])),!0}return!1},u.prototype.checkAssignability=function(i,r,u,f){var o=new t,s=this.sourceIsAssignableToTarget(r,u,i,f,o),e;s||(e=this.getEnclosingSymbolForAST(i),o.message?f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1_NL_2,[r.toString(e),u.toString(e),o.message])):f.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Cannot_convert_0_to_1,[r.toString(e),u.toString(e)])))},u.prototype.isReference=function(n,t){return n.kind()===217?this.isReference(n.expression,t):n.kind()!==11&&n.kind()!==212&&n.kind()!==221?!1:n.kind()===11&&(t.kind===512&&t.anyDeclHasFlag(4096)||t.kind===512&&t.anyDeclHasFlag(102400)||t.kind===32768||t.kind===16384)?!1:n.kind()===212&&t.kind===67108864?!1:!0},u.prototype.checkForSuperMemberAccess=function(t,i,r,u){return r&&t.kind()===50&&!r.isError()&&r.kind!==65536?(u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(i,n.DiagnosticCode.Only_public_methods_of_the_base_class_are_accessible_via_the_super_keyword)),!0):!1},u.prototype.getEnclosingDeclForAST=function(n){return this.semanticInfoChain.getEnclosingDecl(n)},u.prototype.getEnclosingSymbolForAST=function(n){var t=this.getEnclosingDeclForAST(n);return t?t.getSymbol():null},u.prototype.checkForPrivateMemberAccess=function(t,i,r,u){var f,e,o;return r&&r.anyDeclHasFlag(2)&&(f=r.getContainer(),f&&f.kind===33554432&&(f=f.getAssociatedContainerType()),f&&f.isClass()&&(e=f.getDeclarations()[0].ast(),n.Debug.assert(e),o=this.getEnclosingClassDeclaration(t),!o||o!==e))?(u.postDiagnostic(this.semanticInfoChain.diagnosticFromAST(t,n.DiagnosticCode._0_1_is_inaccessible,[f.toString(null,!1),t.text()])),!0):!1},u.prototype.instantiateType=function(t,i){return t.isPrimitive()?t:t.isError()?t:i[t.pullSymbolID]?i[t.pullSymbolID]:(t._resolveDeclaredSymbol(),t.isTypeParameter())?this.instantiateTypeParameter(t,i):t.wrapsSomeTypeParameter(i)?n.PullInstantiatedTypeReferenceSymbol.create(this,t,i):t},u.prototype.instantiateTypeParameter=function(t,i){var u=t.getConstraint(),r,f,e;return u?(r=this.instantiateType(u,i),r==u)?t:(f=t.getRootSymbol(),e=f.getSpecialization([r]),e)?e:new n.PullInstantiatedTypeParameterSymbol(f,r):t},u.prototype.instantiateSignature=function(t,i){var o,s,r,u,f,e;if(!t.wrapsSomeTypeParameter(i))return t;if(o=t.getRootSymbol(),s=new n.PullInstantiationHelpers.MutableTypeArgumentMap(i),n.PullInstantiationHelpers.instantiateTypeArgument(this,t,s),r=o.getSpecialization(s.typeParameterArgumentMap),r)return r;if(n.PullInstantiationHelpers.cleanUpTypeArgumentMap(t,s),i=s.typeParameterArgumentMap,r=new n.PullInstantiatedSignatureSymbol(o,i),r.returnType=this.instantiateType(o.returnType||this.semanticInfoChain.anyTypeSymbol,i),r.functionType=this.instantiateType(o.functionType,i),u=o.parameters,f=null,u)for(e=0;e<u.length;e++)f=new n.PullSymbol(u[e].name,2048),f.setRootSymbol(u[e]),u[e].isOptional&&(f.isOptional=!0),u[e].isVarArg&&(f.isVarArg=!0,r.hasVarArgs=!0),r.addParameter(f,f.isOptional),f.type=this.instantiateType(u[e].type,i);return r},u.globalTypeCheckPhase=0,u}();n.PullTypeResolver=s;t=function(){function t(n,t){this.onlyCaptureFirstError=!1;this.flags=0;this.message="";this.stringConstantVal=null;this.indent=1;n&&(this.flags=n.flags,this.onlyCaptureFirstError=n.onlyCaptureFirstError,this.stringConstantVal=n.stringConstantVal,this.indent=n.indent,t||this.indent++)}return t.prototype.indentString=function(){for(var n="",t=0;t<this.indent;t++)n+="\t";return n},t.prototype.addMessage=function(t){this.message=!this.onlyCaptureFirstError&&this.message?this.message+n.newLine()+this.indentString()+t:this.indentString()+t},t}();n.TypeComparisonInfo=t;n.getPropertyAssignmentNameTextFromIdentifier=h;n.isTypesOnlyLocation=i}(TypeScript||(TypeScript={})),function(n){n.declCacheHit=0;n.declCacheMiss=0;n.symbolCacheHit=0;n.symbolCacheMiss=0;var t=function(){function t(t,i){this.compiler=t;this.logger=i;this.documents=[];this.fileNameToDocument=n.createIntrinsicsObject();this.anyTypeDecl=null;this.booleanTypeDecl=null;this.numberTypeDecl=null;this.stringTypeDecl=null;this.nullTypeDecl=null;this.undefinedTypeDecl=null;this.voidTypeDecl=null;this.undefinedValueDecl=null;this.anyTypeSymbol=null;this.booleanTypeSymbol=null;this.numberTypeSymbol=null;this.stringTypeSymbol=null;this.nullTypeSymbol=null;this.undefinedTypeSymbol=null;this.voidTypeSymbol=null;this.undefinedValueSymbol=null;this.emptyTypeSymbol=null;this.astSymbolMap=[];this.astAliasSymbolMap=[];this.astCallResolutionDataMap=[];this.declSymbolMap=[];this.declSignatureSymbolMap=[];this.declCache=null;this.symbolCache=null;this.fileNameToDiagnostics=null;this._binder=null;this._resolver=null;this._topLevelDecls=null;this._fileNames=null;var r=new n.RootPullDecl("","",0,0,this,!1);this.documents[0]=new n.Document(this.compiler,this,"",[],null,0,0,!1,null,r);this.anyTypeDecl=new n.NormalPullDecl("any","any",2,0,r);this.booleanTypeDecl=new n.NormalPullDecl("boolean","boolean",2,0,r);this.numberTypeDecl=new n.NormalPullDecl("number","number",2,0,r);this.stringTypeDecl=new n.NormalPullDecl("string","string",2,0,r);this.voidTypeDecl=new n.NormalPullDecl("void","void",2,0,r);this.nullTypeDecl=new n.RootPullDecl("null","",2,0,this,!1);this.undefinedTypeDecl=new n.RootPullDecl("undefined","",2,0,this,!1);this.undefinedValueDecl=new n.NormalPullDecl("undefined","undefined",512,8,r);this.invalidate()}return t.prototype.getDocument=function(n){var t=this.fileNameToDocument[n];return t||null},t.prototype.lineMap=function(n){return this.getDocument(n).lineMap()},t.prototype.fileNames=function(){return this._fileNames===null&&(this._fileNames=this.documents.slice(1).map(function(n){return n.fileName})),this._fileNames},t.prototype.bindPrimitiveSymbol=function(n,t){return t.addDeclaration(n),n.setSymbol(t),t.setResolved(),t},t.prototype.addPrimitiveTypeSymbol=function(t){var i=new n.PullPrimitiveTypeSymbol(t.name);return this.bindPrimitiveSymbol(t,i)},t.prototype.addPrimitiveValueSymbol=function(t,i){var r=new n.PullSymbol(t.name,512);return r.type=i,this.bindPrimitiveSymbol(t,r)},t.prototype.resetGlobalSymbols=function(){this.anyTypeSymbol=this.addPrimitiveTypeSymbol(this.anyTypeDecl);this.booleanTypeSymbol=this.addPrimitiveTypeSymbol(this.booleanTypeDecl);this.numberTypeSymbol=this.addPrimitiveTypeSymbol(this.numberTypeDecl);this.stringTypeSymbol=this.addPrimitiveTypeSymbol(this.stringTypeDecl);this.voidTypeSymbol=this.addPrimitiveTypeSymbol(this.voidTypeDecl);this.nullTypeSymbol=this.addPrimitiveTypeSymbol(this.nullTypeDecl);this.undefinedTypeSymbol=this.addPrimitiveTypeSymbol(this.undefinedTypeDecl);this.undefinedValueSymbol=this.addPrimitiveValueSymbol(this.undefinedValueDecl,this.undefinedTypeSymbol);var i=new n.PullSynthesizedDecl("{}","{}",8388608,0,null,this),t=new n.PullTypeSymbol("{}",8388608);i.setSymbol(t);t.addDeclaration(i);t.setResolved();this.emptyTypeSymbol=t},t.prototype.addDocument=function(t){var i=t.fileName,r=n.ArrayUtilities.indexOf(this.documents,function(n){return n.fileName===i});r<0?this.documents.push(t):this.documents[r]=t;this.fileNameToDocument[i]=t;this.invalidate()},t.prototype.removeDocument=function(t){n.Debug.assert(t!=="","Can't remove the semantic info for the global decl.");var i=n.ArrayUtilities.indexOf(this.documents,function(n){return n.fileName===t});i>0&&(this.fileNameToDocument[t]=undefined,this.documents.splice(i,1),this.invalidate())},t.prototype.getDeclPathCacheID=function(n,t){for(var r="",i=0;i<n.length;i++)r+="#"+n[i];return r+"#"+t.toString()},t.prototype.findTopLevelSymbol=function(n,t,i){var e=this.getDeclPathCacheID([n],t),r=this.symbolCache[e],u,o,f;if(!r){for(u=0,o=this.documents.length;u<o;u++){if(f=this.documents[u].topLevelDecl(),r=this.findTopLevelSymbolInDecl(f,n,t,i),r)break;if(i&&f.name===i.fileName())return null}r&&(this.symbolCache[e]=r)}return r},t.prototype.findTopLevelSymbolInDecl=function(n,t,i,r){for(var e,o,s=r&&r.fileName()===n.fileName()?r.ast().start():-1,f=n.searchChildDecls(t,i),u=0;u<f.length;u++){if(e=f[u],s!==-1&&e.ast()&&e.ast().start()>s)break;if(o=f[u].getSymbol(),o)return o}return null},t.prototype.findExternalModule=function(t){var e,r,s,u,f,h,c,a;if(t=n.normalizePath(t),e=t+".ts",r=this.getDeclPathCacheID([e],32),i=this.symbolCache[r],i!=undefined)return i;var l=t+".d.ts",o=this.getDeclPathCacheID([l],32),i=this.symbolCache[o];if(i)return i;for(u=0;u<this.documents.length;u++)if(f=this.documents[u],h=f.topLevelDecl(),h.isExternalModule()&&(c=f.fileName===e,c||f.fileName===l)){if(a=h.getChildDecls()[0],i=a.getSymbol(),c)return this.symbolCache[r]=i,i;s=i}return s?(this.symbolCache[o]=i,s):(this.symbolCache[o]=null,this.symbolCache[r]=null,null)},t.prototype.findAmbientExternalModuleInGlobalContext=function(n){var f=this.getDeclPathCacheID([n],32),t=this.symbolCache[f],i,e,r,u;if(t==undefined){for(t=null,i=0;i<this.documents.length;i++)if(e=this.documents[i],r=e.topLevelDecl(),!r.isExternalModule()&&(u=r.searchChildDecls(n,32),u.length)){t=u[0].getSymbol();break}this.symbolCache[f]=t}return t},t.prototype.findDecls=function(t,i){var c=this.getDeclPathCacheID(t,i),f,u,a,o,s;if(t.length&&(f=this.declCache[c],f&&f.length))return n.declCacheHit++,f;n.declCacheMiss++;var e=this.topLevelDecls(),r=n.sentinelEmptyArray,l,h=n.sentinelEmptyArray;for(u=0;u<t.length;u++){for(l=t[u],r=n.sentinelEmptyArray,a=u===t.length-1?i:164,o=0;o<e.length;o++)for(h=e[o].searchChildDecls(l,a),s=0;s<h.length;s++)r===n.sentinelEmptyArray&&(r=[]),r[r.length]=h[s];if(e=r,!e)break}return r.length&&(this.declCache[c]=r),r},t.prototype.findDeclsFromPath=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)n[i].kind&1||r.push(n[i].name);return this.findDecls(r,t)},t.prototype.findSymbol=function(t,i){var h=this.getDeclPathCacheID(t,i),o,r,u,f,s,e;if(t.length&&(o=this.symbolCache[h],o))return n.symbolCacheHit++,o;if(n.symbolCacheMiss++,r=this.findDecls(t,i),u=null,r.length&&(f=r[0],n.hasFlag(f.kind,164)&&(s=f.getValueDecl(),s&&s.ensureSymbolIsBound()),u=f.getSymbol(),u)){for(e=1;e<r.length;e++)r[e].ensureSymbolIsBound();this.symbolCache[h]=u}return u},t.prototype.cacheGlobalSymbol=function(n,t){var i=this.getDeclPathCacheID([n.name],t),r=this.getDeclPathCacheID([n.name],n.kind);this.symbolCache[i]||(this.symbolCache[i]=n);this.symbolCache[r]||(this.symbolCache[r]=n)},t.prototype.invalidate=function(t,i){var f,r,u,e;if(typeof t=="undefined"&&(t=null),typeof i=="undefined"&&(i=null),n.PullTypeResolver.globalTypeCheckPhase++,f=(new Date).getTime(),this.astSymbolMap.length=0,this.astAliasSymbolMap.length=0,this.astCallResolutionDataMap.length=0,this.declCache=n.createIntrinsicsObject(),this.symbolCache=n.createIntrinsicsObject(),this.fileNameToDiagnostics=n.createIntrinsicsObject(),this._binder=null,this._resolver=null,this._topLevelDecls=null,this._fileNames=null,this.declSymbolMap.length=0,this.declSignatureSymbolMap.length=0,t&&i&&this.settingsChangeAffectsSyntax(t,i))for(r=1,u=this.documents.length;r<u;r++)this.documents[r].invalidate();n.pullSymbolID=0;this.resetGlobalSymbols();e=(new Date).getTime()},t.prototype.settingsChangeAffectsSyntax=function(n,t){return n.allowAutomaticSemicolonInsertion()!==t.allowAutomaticSemicolonInsertion()||n.codeGenTarget()!==t.codeGenTarget()||n.propagateEnumConstants()!==t.propagateEnumConstants()},t.prototype.setSymbolForAST=function(n,t){this.astSymbolMap[n.syntaxID()]=t},t.prototype.getSymbolForAST=function(n){return this.astSymbolMap[n.syntaxID()]||null},t.prototype.setAliasSymbolForAST=function(n,t){this.astAliasSymbolMap[n.syntaxID()]=t},t.prototype.getAliasSymbolForAST=function(n){return this.astAliasSymbolMap[n.syntaxID()]},t.prototype.getCallResolutionDataForAST=function(n){return this.astCallResolutionDataMap[n.syntaxID()]},t.prototype.setCallResolutionDataForAST=function(n,t){t&&(this.astCallResolutionDataMap[n.syntaxID()]=t)},t.prototype.setSymbolForDecl=function(n,t){this.declSymbolMap[n.declID]=t},t.prototype.getSymbolForDecl=function(n){return this.declSymbolMap[n.declID]},t.prototype.setSignatureSymbolForDecl=function(n,t){this.declSignatureSymbolMap[n.declID]=t},t.prototype.getSignatureSymbolForDecl=function(n){return this.declSignatureSymbolMap[n.declID]},t.prototype.addDiagnostic=function(n){var i=n.fileName(),t=this.fileNameToDiagnostics[i];t||(t=[],this.fileNameToDiagnostics[i]=t);t.push(n)},t.prototype.getDiagnostics=function(n){var t=this.fileNameToDiagnostics[n];return t||[]},t.prototype.getBinder=function(){return this._binder||(this._binder=new n.PullSymbolBinder(this)),this._binder},t.prototype.getResolver=function(){return this._resolver||(this._resolver=new n.PullTypeResolver(this.compiler.compilationSettings(),this)),this._resolver},t.prototype.addSyntheticIndexSignature=function(t,i,r,u,f,e){var o=new n.PullSignatureSymbol(4194304),s=new n.PullSymbol(u,2048),h,c;s.type=f;o.addParameter(s);o.returnType=e;o.setResolved();s.setResolved();i.addIndexSignature(o);h=new n.PullSynthesizedDecl("","",4194304,2048,t,t.semanticInfoChain);c=new n.PullSynthesizedDecl(u,u,2048,0,h,t.semanticInfoChain);h.setSignatureSymbol(o);c.setSymbol(s);o.addDeclaration(h);s.addDeclaration(c)},t.prototype.getDeclForAST=function(n){var t=this.getDocument(n.fileName());return t?t._getDeclForAST(n):null},t.prototype.getEnclosingDecl=function(n){return this.getDocument(n.fileName()).getEnclosingDecl(n)},t.prototype.setDeclForAST=function(n,t){this.getDocument(t.fileName())._setDeclForAST(n,t)},t.prototype.getASTForDecl=function(n){var t=this.getDocument(n.fileName());return t?t._getASTForDecl(n):null},t.prototype.setASTForDecl=function(n,t){this.getDocument(n.fileName())._setASTForDecl(n,t)},t.prototype.topLevelDecl=function(n){var t=this.getDocument(n);return t?t.topLevelDecl():null},t.prototype.topLevelDecls=function(){return this._topLevelDecls||(this._topLevelDecls=n.ArrayUtilities.select(this.documents,function(n){return n.topLevelDecl()})),this._topLevelDecls},t.prototype.addDiagnosticFromAST=function(n,t,i,r){typeof i=="undefined"&&(i=null);typeof r=="undefined"&&(r=null);this.addDiagnostic(this.diagnosticFromAST(n,t,i,r))},t.prototype.diagnosticFromAST=function(t,i,r,u){return typeof r=="undefined"&&(r=null),typeof u=="undefined"&&(u=null),new n.Diagnostic(t.fileName(),this.lineMap(t.fileName()),t.start(),t.width(),i,r,u)},t.prototype.locationFromAST=function(t){return new n.Location(t.fileName(),this.lineMap(t.fileName()),t.start(),t.width())},t.prototype.duplicateIdentifierDiagnosticFromAST=function(t,i,r){return this.diagnosticFromAST(t,n.DiagnosticCode.Duplicate_identifier_0,[i],r?[this.locationFromAST(r)]:null)},t.prototype.addDuplicateIdentifierDiagnosticFromAST=function(n,t,i){this.addDiagnostic(this.duplicateIdentifierDiagnosticFromAST(n,t,i))},t}();n.SemanticInfoChain=t}(TypeScript||(TypeScript={})),function(n){function i(n){var t,i;for(n=n.parent;n;){if(n.kind()===130)return t=n,t.moduleElements.any(function(n){return n.kind()===134});if(n.kind()===120)return i=n,i.moduleElements.any(function(n){return n.kind()===134});n=n.parent}return!1}function t(t){for(t=t.parent;t;){if(t.kind()===130&&n.hasModifier(t.modifiers,8))return!0;t=t.parent}return!1}function h(t,r){var u=t,e=0,o=r.getParent(),f;n.hasModifier(u.modifiers,1)&&!i(t)&&(e|=1);f=new n.NormalPullDecl(u.identifier.valueText(),u.identifier.text(),128,e,o);r.semanticInfoChain.setDeclForAST(t,f);r.semanticInfoChain.setASTForDecl(f,t)}function c(t,i){var u=t.fileName(),s=i.document.isExternalModule(),r=new n.RootPullDecl(u,u,1,0,i.semanticInfoChain,s),o;if(i.semanticInfoChain.setDeclForAST(t,r),i.semanticInfoChain.setASTForDecl(r,t),i.isDeclareFile=i.document.isDeclareFile(),i.pushParent(r),s){o=1;n.isDTSFile(u)&&(o|=8);var h=e(t.moduleElements),c=n.quoteStr(u),r=new n.NormalPullDecl(c,u,32,o,i.getParent());i.semanticInfoChain.setASTForDecl(r,t);i.semanticInfoChain.setDeclForAST(t,r);h&&f(r,t,i);i.pushParent(r)}}function l(r,u){var e=0,h=r.identifier.valueText(),s,f,o;(n.hasModifier(r.modifiers,1)||t(r,u))&&!i(r)&&(e|=1);(n.hasModifier(r.modifiers,8)||t(r,u)||u.isDeclareFile)&&(e|=8);e|=4096;s=64;f=new n.NormalPullDecl(h,r.identifier.text(),s,e,u.getParent());u.semanticInfoChain.setDeclForAST(r,f);u.semanticInfoChain.setASTForDecl(f,r);o=new n.NormalPullDecl(f.name,f.getDisplayName(),512,f.flags,u.getParent());f.setValueDecl(o);u.semanticInfoChain.setASTForDecl(o,r);u.pushParent(f)}function a(t,i){var u=i.getParent(),r=new n.PullEnumElementDecl(t.propertyName.valueText(),t.propertyName.text(),u);i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setASTForDecl(r,t)}function v(r,o){var l=0,p=e(r.moduleElements),b=r.stringLiteral!==null,a,v,c,w,h,y,s;if((n.hasModifier(r.modifiers,1)||t(r,o))&&!i(r)&&(l|=1),(n.hasModifier(r.modifiers,8)||t(r,o)||o.isDeclareFile)&&(l|=8),a=b?32:4,r.stringLiteral){var k=n.quoteStr(r.stringLiteral.valueText()),d=r.stringLiteral.text(),s=new n.NormalPullDecl(k,d,a,l,o.getParent());o.semanticInfoChain.setDeclForAST(r,s);o.semanticInfoChain.setDeclForAST(r.stringLiteral,s);o.semanticInfoChain.setASTForDecl(s,r.stringLiteral);p&&f(s,r.stringLiteral,o);o.pushParent(s)}else for(v=u(r.name),c=0,w=v.length;c<w;c++)h=v[c],y=l,c>0&&(y|=1),s=new n.NormalPullDecl(h.valueText(),h.text(),a,y,o.getParent()),o.semanticInfoChain.setDeclForAST(r,s),o.semanticInfoChain.setDeclForAST(h,s),o.semanticInfoChain.setASTForDecl(s,h),p&&f(s,h,o),o.pushParent(s)}function u(n,t){return t=t||[],n.kind()===121?(u(n.left,t),t.push(n.right)):t.push(n),t}function f(t,i,r){t.setFlags(t.flags|gt(t));var u=new n.NormalPullDecl(t.name,t.getDisplayName(),512,t.flags,r.getParent());t.setValueDecl(u);r.semanticInfoChain.setASTForDecl(u,i)}function e(t){for(var i,f,r=0,u=t.childCount();r<u;r++)if(i=t.childAt(r),i.kind()===130){if(f=i,e(f.moduleElements))return!0}else if(i.kind()===133){if(n.hasModifier(i.modifiers,1))return!0}else if(i.kind()!==128)return!0;return!1}function y(r,u){var f=0;(n.hasModifier(r.modifiers,1)||t(r,u))&&!i(r)&&(f|=1);(n.hasModifier(r.modifiers,8)||t(r,u)||u.isDeclareFile)&&(f|=8);var o=u.getParent(),e=new n.NormalPullDecl(r.identifier.valueText(),r.identifier.text(),8,f,o),s=new n.NormalPullDecl(r.identifier.valueText(),r.identifier.text(),512,f|16384,o);e.setValueDecl(s);u.semanticInfoChain.setDeclForAST(r,e);u.semanticInfoChain.setASTForDecl(e,r);u.semanticInfoChain.setASTForDecl(s,r);u.pushParent(e)}function p(t,i){var f,r,u;t.parent.kind()!==128&&(f=0,r=i.getParent(),r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152),u=new n.NormalPullDecl("","",8388608,f,r),i.semanticInfoChain.setDeclForAST(t,u),i.semanticInfoChain.setASTForDecl(u,t),i.pushParent(u))}function w(r,u){var e=0,o,f;(n.hasModifier(r.modifiers,1)||t(r,u))&&!i(r)&&(e|=1);o=u.getParent();f=new n.NormalPullDecl(r.identifier.valueText(),r.identifier.text(),16,e,o);u.semanticInfoChain.setDeclForAST(r,f);u.semanticInfoChain.setASTForDecl(f,r);u.pushParent(f)}function b(t,i){var f=0,r,u,o,s;if(f|=n.hasModifier(t.modifiers,2)?2:4,(t.questionToken!==null||t.equalsValueClause!==null||t.dotDotDotToken!==null)&&(f|=128),r=i.getParent(),r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152),u=new n.NormalPullDecl(t.identifier.valueText(),t.identifier.text(),2048,f,r),t.equalsValueClause&&(r.flags|=33554432),r.kind===32768&&u.setFlag(67108864),o=n.hasModifier(t.modifiers,6),s=r.kind===32768,o&&s){var h=i.parentChain[i.parentChain.length-2],c=f&-129,e=new n.NormalPullDecl(t.identifier.valueText(),t.identifier.text(),4096,c,h);e.setValueDecl(u);u.setFlag(8388608);e.setFlag(8388608);r.kind===32768&&e.setFlag(67108864);i.semanticInfoChain.setASTForDecl(u,t);i.semanticInfoChain.setASTForDecl(e,t);i.semanticInfoChain.setDeclForAST(t,e)}else i.semanticInfoChain.setASTForDecl(u,t),i.semanticInfoChain.setDeclForAST(t,u);r.addVariableDeclToGroup(u)}function k(t,i){var f=0,r=i.getParent(),u;r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl(t.identifier.valueText(),t.identifier.text(),8192,f,r);i.semanticInfoChain.setASTForDecl(u,t);i.semanticInfoChain.setDeclForAST(t,u)}function d(t,i){var u=4,f=i.getParent(),r;t.questionToken!==null&&(u|=128);r=new n.NormalPullDecl(t.propertyName.valueText(),t.propertyName.text(),4096,u,f);i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setASTForDecl(r,t)}function g(t,i){var u=0,f,r;u|=n.hasModifier(t.modifiers,2)?2:4;n.hasModifier(t.modifiers,16)&&(u|=16);f=i.getParent();r=new n.NormalPullDecl(t.variableDeclarator.propertyName.valueText(),t.variableDeclarator.propertyName.text(),4096,u,f);i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setDeclForAST(t.variableDeclarator,r);i.semanticInfoChain.setASTForDecl(r,t)}function nt(r,u){var e=0,s=n.ASTHelpers.getVariableDeclaratorModifiers(r),f,o;(n.hasModifier(s,1)||t(r,u))&&!i(r)&&(e|=1);(n.hasModifier(s,8)||t(r,u)||u.isDeclareFile)&&(e|=8);f=u.getParent();f&&(f.kind===134217728||f.flags&2097152)&&(e|=2097152);o=new n.NormalPullDecl(r.propertyName.valueText(),r.propertyName.text(),512,e,f);u.semanticInfoChain.setDeclForAST(r,o);u.semanticInfoChain.setASTForDecl(o,r);f&&f.addVariableDeclToGroup(o)}function tt(n,t){if(n.parent.kind()!==136){var i=n;nt(i,t)}}function it(t,i){var f=2048,r=i.getParent(),u;r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl("","",16777216,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function rt(t,i){var f=0,r=i.getParent(),u;r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl("","",33554432,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function ut(r,u){var f=0,e,o;(n.hasModifier(r.modifiers,1)||t(r,u))&&!i(r)&&(f|=1);(n.hasModifier(r.modifiers,8)||t(r,u)||u.isDeclareFile)&&(f|=8);r.block||(f|=2048);e=u.getParent();e&&(e.kind===134217728||e.flags&2097152)&&(f|=2097152);o=new n.NormalPullDecl(r.identifier.valueText(),r.identifier.text(),16384,f,e);u.semanticInfoChain.setDeclForAST(r,o);u.semanticInfoChain.setASTForDecl(o,r);u.pushParent(o)}function o(t,i,r,u){var o,f,e;typeof u=="undefined"&&(u=null);o=0;(t.kind()===219||t.kind()===218)&&(o|=8192);f=r.getParent();f&&(f.kind===134217728||f.flags&2097152)&&(o|=2097152);var h=i?i.text():"",c=u?u.text():"",e=new n.PullFunctionExpressionDecl(h,o,f,c);if(r.semanticInfoChain.setDeclForAST(t,e),r.semanticInfoChain.setASTForDecl(e,t),r.pushParent(e),t.kind()===219){var s=t,o=4,f=r.getParent();n.hasFlag(f.flags,2097152)&&(o|=2097152);e=new n.NormalPullDecl(s.identifier.valueText(),s.identifier.text(),2048,o,f);r.semanticInfoChain.setASTForDecl(e,s.identifier);r.semanticInfoChain.setDeclForAST(s.identifier,e);f.addVariableDeclToGroup(e)}}function ft(t,i){var r=0,f,u;n.hasModifier(t.modifiers,16)&&(r|=16);r|=n.hasModifier(t.modifiers,2)?2:4;t.block||(r|=2048);f=i.getParent();u=new n.NormalPullDecl(t.propertyName.valueText(),t.propertyName.text(),65536,r,f);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function et(t,i){var u=i.getParent(),r=new n.NormalPullDecl("","",4194304,2048,u);i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setASTForDecl(r,t);i.pushParent(r)}function ot(t,i){var e=t.parent&&t.parent.parent&&t.parent.kind()===2&&t.parent.parent.kind()===122,u;if(e){var f=2048,r=i.getParent();r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl("","",1048576,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}}function st(t,i){var r=0,f,u;r|=4;r|=2048;t.questionToken!==null&&(r|=128);f=i.getParent();u=new n.NormalPullDecl(t.propertyName.valueText(),t.propertyName.text(),65536,r,f);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function ht(t,i){var f=2048,r=i.getParent(),u;r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl("","",2097152,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function ct(t,i){var f=0,r,e,u;t.block||(f|=2048);r=i.getParent();r&&(e=r.flags,e&1&&(f|=1));u=new n.NormalPullDecl(r.name,r.getDisplayName(),32768,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u)}function lt(t,i){var u=4,r,f;n.hasModifier(t.modifiers,16)&&(u|=16);u|=n.hasModifier(t.modifiers,2)?2:4;r=i.getParent();r&&(r.kind===134217728||r.flags&2097152)&&(u|=2097152);f=new n.NormalPullDecl(t.propertyName.valueText(),t.propertyName.text(),262144,u,r);i.semanticInfoChain.setDeclForAST(t,f);i.semanticInfoChain.setASTForDecl(f,t);i.pushParent(f)}function at(n,t){o(n,n.identifier,t)}function vt(t,i){var u=4,r,f;n.hasModifier(t.modifiers,16)&&(u|=16);u|=n.hasModifier(t.modifiers,2)?2:4;r=i.getParent();r&&(r.kind===134217728||r.flags&2097152)&&(u|=2097152);f=new n.NormalPullDecl(t.propertyName.valueText(),t.propertyName.text(),524288,u,r);i.semanticInfoChain.setDeclForAST(t,f);i.semanticInfoChain.setASTForDecl(f,t);i.pushParent(f)}function yt(t,i){var f=0,e=268435456,r=i.getParent(),u;r&&(r.kind===134217728||r.flags&2097152)&&(f|=2097152);u=new n.NormalPullDecl("","",e,f,r);i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);i.pushParent(u);var f=0,e=1024,r=i.getParent();n.hasFlag(r.flags,2097152)&&(f|=2097152);u=new n.NormalPullDecl(t.identifier.valueText(),t.identifier.text(),e,f,r);i.semanticInfoChain.setDeclForAST(t.identifier,u);i.semanticInfoChain.setASTForDecl(u,t.identifier);r&&r.addVariableDeclToGroup(u)}function pt(t,i){var u=i.getParent(),r=new n.NormalPullDecl("","",134217728,0,u);i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setASTForDecl(r,t);i.pushParent(r)}function wt(t,i){var r=new n.NormalPullDecl("","",256,0,i.getParent());i.semanticInfoChain.setDeclForAST(t,r);i.semanticInfoChain.setASTForDecl(r,t);i.pushParent(r)}function bt(t,i){var r=n.getPropertyAssignmentNameTextFromIdentifier(t.propertyName),f=n.TextSpan.fromBounds(t.start(),t.end()),u=new n.NormalPullDecl(r.memberName,r.actualText,4096,4,i.getParent());i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t)}function kt(t,i){var r=n.getPropertyAssignmentNameTextFromIdentifier(t.propertyName),u=new n.NormalPullDecl(r.memberName,r.actualText,4096,4,i.getParent());i.semanticInfoChain.setDeclForAST(t,u);i.semanticInfoChain.setASTForDecl(u,t);o(t,t.propertyName,i,t.propertyName)}function dt(n,t){switch(n.kind()){case 120:c(n,t);break;case 132:l(n,t);break;case 243:a(n,t);break;case 130:v(n,t);break;case 131:y(n,t);break;case 128:w(n,t);break;case 122:p(n,t);break;case 242:b(n,t);break;case 136:g(n,t);break;case 141:d(n,t);break;case 225:tt(n,t);break;case 137:ct(n,t);break;case 139:lt(n,t);break;case 140:vt(n,t);break;case 222:at(n,t);break;case 135:ft(n,t);break;case 144:et(n,t);break;case 123:it(n,t);break;case 125:rt(n,t);break;case 142:ot(n,t);break;case 143:ht(n,t);break;case 145:st(n,t);break;case 129:ut(n,t);break;case 219:case 218:o(n,null,t);break;case 133:h(n,t);break;case 238:k(n,t);break;case 236:yt(n,t);break;case 163:pt(n,t);break;case 215:wt(n,t);break;case 240:bt(n,t);break;case 241:kt(n,t)}}function gt(n){return n.kind&4?32768:n.kind&32?65536:0}function ni(t,i){var r=i.getParent(),f,o,e,s;if(t.kind()!==11&&t.kind()!==14||r.kind!==4&&r.kind!==32){if(t.kind()===130)if(f=t,f.stringLiteral)n.Debug.assert(r.ast()===f.stringLiteral),i.popParent();else for(o=u(f.name),e=o.length-1;e>=0;e--)s=o[e],n.Debug.assert(r.ast()===s),i.popParent(),r=i.getParent();for(t.kind()===132&&ti(t,r,i);r.getParentDecl()&&r.ast()===t;)i.popParent(),r=i.getParent()}}function ti(t,i,u){var e,a,o,f;n.Debug.assert(i.kind===64);var c=n.hasFlag(i.flags,8),s=!c,h=0,l=i.getChildDecls();for(e=0,a=t.enumElements.nonSeparatorCount();e<a;e++)o=t.enumElements.nonSeparatorAt(e),f=n.ArrayUtilities.first(l,function(n){return u.semanticInfoChain.getASTForDecl(n)===o}),n.Debug.assert(f.kind===67108864),o.equalsValueClause===null?s&&(f.constantValue=h,h++):(f.constantValue=r(o.equalsValueClause.value,l,u),f.constantValue===null||c?s=!1:(s=!0,h=f.constantValue+1)),n.Debug.assert(f.constantValue!==undefined)}function r(t,i,u){var h,f,l,c;if(n.Debug.assert(t),n.ASTHelpers.isIntegerLiteralAST(t)){switch(t.kind()){case 164:case 165:h=t.operand;break;default:h=t}return f=h.value(),f&&t.kind()===165?-f:f}if(u.propagateEnumConstants){switch(t.kind()){case 11:return l=t,c=n.ArrayUtilities.firstOrDefault(i,function(n){return n.name===l.valueText()}),c?c.constantValue:null;case 202:var e=t,o=r(e.left,i,u),s=r(e.right,i,u);return o===null||s===null?null:o<<s;case 189:var e=t,o=r(e.left,i,u),s=r(e.right,i,u);return o===null||s===null?null:o|s}return null}return null}var s=function(){function n(n,t,i){this.document=n;this.semanticInfoChain=t;this.propagateEnumConstants=i;this.isDeclareFile=!1;this.parentChain=[]}return n.prototype.getParent=function(){return this.parentChain?this.parentChain[this.parentChain.length-1]:null},n.prototype.pushParent=function(n){n&&(this.parentChain[this.parentChain.length]=n)},n.prototype.popParent=function(){this.parentChain.length--},n}(),ii;n.getModuleNames=u,function(t){function i(t,i,r){var u=new s(t,i,r.propagateEnumConstants());return n.getAstWalkerFactory().simpleWalk(t.sourceUnit(),dt,ni,u),u.getParent()}t.create=i}(n.DeclarationCreator||(n.DeclarationCreator={}));ii=n.DeclarationCreator}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(t){this.semanticInfoChain=t;this.declsBeingBound=[];this.inBindingOtherDeclsWalker=new n.PullHelpers.OtherPullDeclsWalker}return t.prototype.getParent=function(n,t){var r,i,u,f;return(typeof t=="undefined"&&(t=!1),r=n.getParentDecl(),r.kind===1)?null:(i=r.getSymbol(),i||!r||r.hasBeenBound()||this.bindDeclToPullSymbol(r),i=r.getSymbol(),i&&(u=r.kind,u===262144?i=i.getGetter():u===524288&&(i=i.getSetter())),i)?t&&i.isType()&&i.isContainer()&&(f=i.getInstanceSymbol(),f)?f.type:i.type:null},t.prototype.findDeclsInContext=function(n,t,i){var e,r,f,u;if(!i)return e=n.getParentDecl(),e.searchChildDecls(n.name,t);if(r=n.getParentPath(),r.length){for(f=[],u=0;u<r.length;u++)r[u].kind&1||(f[f.length]=r[u].name);return this.semanticInfoChain.findDecls(f,t)}},t.prototype.getExistingSymbol=function(n,t,i){var o=(t&68147712)!=0,s=(t&58728795)!=0,h=(t&164)!=0,u=n.name,c,r,l,f,e;if(i){if(c=(n.flags&1)!=0,r=null,o?r=i.findContainedNonMember(u):s?r=i.findContainedNonMemberType(u,t):h&&(r=i.findContainedNonMemberContainer(u,t)),l=!r,r||(o?r=i.findMember(u,!1):s?r=i.findNestedType(u,t):h&&(r=i.findNestedContainer(u,t))),c&&l)return r;if(r){var e=r.getDeclarations(),a=e[e.length-1],f=n.getParentDecl(),v=a&&a.getParentDecl();return f!==v?null:r}}else return f=n.getParentDecl(),f&&f.kind===1?this.semanticInfoChain.findTopLevelSymbol(u,t,n):(e=f&&f.searchChildDecls(u,t),e[0]&&e[0].getSymbol());return null},t.prototype.checkThatExportsMatch=function(t,i,r){var f;typeof r=="undefined"&&(r=!0);var e=(t.flags&1)!=0,u=i.getDeclarations(),o=(u[u.length-1].flags&1)!=0;return e!==o&&!i.isSignature()&&(t.kind&7340032)==0?(r&&(f=this.semanticInfoChain.getASTForDecl(t),this.semanticInfoChain.addDiagnosticFromAST(f,n.DiagnosticCode.All_declarations_of_merged_declaration_0_must_be_exported_or_not_exported,[t.getDisplayName()])),!1):!0},t.prototype.getIndexForInsertingSignatureAtEndOfEnclosingDeclInSignatureList=function(t,i){var u=t.getDeclarations()[0],f,r;return n.Debug.assert(u),f=u.getParentDecl(),r=n.ArrayUtilities.indexOf(i,function(n){return n.getDeclarations()[0].getParentDecl()!==f}),r<0?i.length:r},t.prototype.bindEnumDeclarationToPullSymbol=function(t){var u=t.name,r=null,o=null,f=null,g=t.getValueDecl(),w=t.kind,h=this.getParent(t),c=this.getParent(t,!0),b=t.getParentDecl(),a=this.semanticInfoChain.getASTForDecl(t),d=t.flags&1,v=!1,i,y,k,s,l,e,p;if(r=this.getExistingSymbol(t,64,h),r&&(r.kind!==w?(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(a.identifier,t.getDisplayName(),r.getDeclarations()[0].ast()),r=null):this.checkThatExportsMatch(t,r)||(r=null)),r?o=r.getInstanceSymbol():(r=new n.PullContainerSymbol(u,w),v=!0,h||this.semanticInfoChain.cacheGlobalSymbol(r,64)),r.addDeclaration(t),t.setSymbol(r),this.semanticInfoChain.setSymbolForAST(a.identifier,r),this.semanticInfoChain.setSymbolForAST(a,r),!o){if(i=null,c)d?(i=c.findMember(u,!1),i||(i=c.findContainedNonMember(u))):(i=c.findContainedNonMember(u),i||(i=c.findMember(u,!1))),i&&(y=i.getDeclarations(),y.length&&(k=y[0].getParentDecl(),b!==k&&(i=null)));else if(!(t.flags&1)){for(s=b.getChildDecls(),l=null,e=0;e<s.length;e++){if(s[e]===t)break;if(s[e].name===u&&s[e].kind&68147712){l=s[e];break}}l&&(i=l.getSymbol(),i&&(i.isContainer()?i=i.getInstanceSymbol():i&&i.isType()&&(i=i.getConstructorMethod())))}i?(o=i,f=i.type):o=new n.PullSymbol(u,512);r.setInstanceSymbol(o);f||(f=new n.PullTypeSymbol("",8388608),o.type=f);f.addDeclaration(t);f.getAssociatedContainerType()||f.setAssociatedContainerType(r)}v&&h&&(t.flags&1?h.addEnclosedMemberType(r):h.addEnclosedNonMemberType(r));v&&this.bindEnumIndexerDeclsToPullSymbols(r);p=t.getValueDecl();p&&p.ensureSymbolIsBound()},t.prototype.bindEnumIndexerDeclsToPullSymbols=function(t){var u=t.getInstanceSymbol().type,r=new n.PullSymbol("x",2048),i;r.type=this.semanticInfoChain.numberTypeSymbol;r.setResolved();r.setIsSynthesized();i=new n.PullSignatureSymbol(4194304);i.addParameter(r);i.returnType=this.semanticInfoChain.stringTypeSymbol;i.setResolved();i.setIsSynthesized();u.addIndexSignature(i)},t.prototype.findExistingVariableSymbolForModuleValueDecl=function(t){var o=n.hasFlag(t.flags,1),u=t.name,f=this.getParent(t,!0),c=t.getParentDecl(),i=null,s,h,e;if(f){if(o?(i=f.findMember(u,!1),i||(i=f.findContainedNonMember(u))):(i=f.findContainedNonMember(u),i||(i=f.findMember(u,!1))),i&&(s=i.getDeclarations(),s.length)){var l=s[0].getParentDecl(),a=o||c===l,v=a&&this.checkThatExportsMatch(t,i,!1);v||(i=null)}}else if(!o)for(h=c.getChildDecls(),e=0;e<h.length;e++){var r=h[e],y=n.hasFlag(r.kind,68147712),p=n.hasFlag(r.kind,1032192)||n.hasFlag(r.flags,118784),w=r!==t&&r!==t.getValueDecl()&&r.name===u&&y&&p;if(w&&r.hasSymbol()){i=r.getSymbol();i.isContainer()?i=i.getInstanceSymbol():i&&i.isType()&&(i=i.getConstructorMethod());break}}return i},t.prototype.bindModuleDeclarationToPullSymbol=function(t){var c=t.name,i=null,o=t.kind,e=this.getParent(t),p=this.getParent(t,!0),w=t.getParentDecl(),f=this.semanticInfoChain.getASTForDecl(t),s=n.ASTHelpers.getEnclosingModuleDeclaration(f),h,u,v,r,y;s||(n.Debug.assert(o===32),n.Debug.assert(f.kind()===120),s=f);var b=n.hasFlag(t.flags,1),l=164,a=(t.flags&102400)!=0;e&&o===32&&this.semanticInfoChain.addDiagnosticFromAST(f,n.DiagnosticCode.Ambient_external_module_declaration_must_be_defined_in_global_context,null);h=!1;i=this.getExistingSymbol(t,l,e);i&&(i.kind!==o?(a&&this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(f,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null):o===32?this.semanticInfoChain.addDiagnosticFromAST(f,n.DiagnosticCode.Ambient_external_module_declaration_cannot_be_reopened):this.checkThatExportsMatch(t,i)||(i=null));i||(i=new n.PullContainerSymbol(c,o),h=!0,e||this.semanticInfoChain.cacheGlobalSymbol(i,l));i.addDeclaration(t);t.setSymbol(i);this.semanticInfoChain.setSymbolForAST(f,i);this.semanticInfoChain.setSymbolForAST(s,i);u=t.getValueDecl();v=i.getDeclarations();h&&e&&(t.flags&1?e.addEnclosedMemberContainer(i):e.addEnclosedNonMemberContainer(i));u&&(u.ensureSymbolIsBound(),r=null,y=null,u.hasSymbol()?r=u.getSymbol():(r=new n.PullSymbol(c,512),u.setSymbol(r),r.hasDeclaration(u)||r.addDeclaration(u)),r.type||(r.type=new n.PullTypeSymbol("",8388608)),i.setInstanceSymbol(r),r.type.getAssociatedContainerType()||r.type.setAssociatedContainerType(i))},t.prototype.bindImportDeclaration=function(t){var e=t.flags,s=t.kind,u=this.semanticInfoChain.getASTForDecl(t),i=null,o=t.name,f=!1,r=this.getParent(t);i=this.getExistingSymbol(t,164,r);i&&(f=!0);i&&(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(u,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null);i||(i=new n.PullTypeAliasSymbol(o),r||this.semanticInfoChain.cacheGlobalSymbol(i,164));i.addDeclaration(t);t.setSymbol(i);this.semanticInfoChain.setSymbolForAST(u,i);r&&!f&&(e&1?r.addEnclosedMemberContainer(i):r.addEnclosedNonMemberContainer(i))},t.prototype.ensurePriorDeclarationsAreBound=function(n,t){var f,i,o,e,r,u;if(n)for(f=n.getDeclarations(),i=0;i<f.length;++i)for(o=f[i],e=o.getChildDecls(),r=0;r<e.length;++r){if(u=e[r],u===t)return;u.name===t.name&&u.ensureSymbolIsBound()}},t.prototype.bindClassDeclarationToPullSymbol=function(t){var l=t.name,i=null,r=null,f=null,c=this.semanticInfoChain.getASTForDecl(t),o=this.getParent(t),s,e,u,y,h,a;this.ensurePriorDeclarationsAreBound(o,t);var v=t.getParentDecl(),p=t.flags&1;for(i=this.getExistingSymbol(t,58728795,o),i&&i.kind===16&&(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(c.identifier,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null),i=new n.PullTypeSymbol(l,8),o||this.semanticInfoChain.cacheGlobalSymbol(i,8),i.addDeclaration(t),t.setSymbol(i),this.semanticInfoChain.setSymbolForAST(c.identifier,i),this.semanticInfoChain.setSymbolForAST(c,i),o&&(t.flags&1?o.addEnclosedMemberType(i):o.addEnclosedNonMemberType(i)),s=t.getTypeParameters(),e=0;e<s.length;e++)u=i.findTypeParameter(s[e].name),u&&(y=this.semanticInfoChain.getASTForDecl(u.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(y,n.DiagnosticCode.Duplicate_identifier_0,[u.getName()])),u=new n.PullTypeParameterSymbol(s[e].name),i.addTypeParameter(u),u.addDeclaration(s[e]),s[e].setSymbol(u);r=i.getConstructorMethod();f=r?r.type:null;r||(h=null,v&&(h=v.searchChildDecls(l,68147712),h&&h[0]&&h[0].hasSymbol()&&(r=h[0].getSymbol())),r?f=r.type:(r=new n.PullSymbol(l,32768),f=new n.PullTypeSymbol("",33554432),r.setIsSynthesized(),r.type=f),i.setConstructorMethod(r),i.setHasDefaultConstructor());r.getIsSynthesized()?(r.addDeclaration(t.getValueDecl()),f.addDeclaration(t)):i.setHasDefaultConstructor(!1);f.setAssociatedContainerType(i);a=t.getValueDecl();a&&a.ensureSymbolIsBound();this.bindStaticPrototypePropertyOfClass(c,i,f)},t.prototype.bindInterfaceDeclarationToPullSymbol=function(t){var v=t.name,i=null,y=this.semanticInfoChain.getASTForDecl(t),c=!1,e=this.getParent(t),l=16,f,r,o,u,s,h,a;for(i=this.getExistingSymbol(t,58728795,e),i&&(i.kind&l?this.checkThatExportsMatch(t,i)||(i=null):(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(y.identifier,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null)),i||(i=new n.PullTypeSymbol(v,16),c=!0,e||this.semanticInfoChain.cacheGlobalSymbol(i,l)),i.addDeclaration(t),t.setSymbol(i),c&&e&&(t.flags&1?e.addEnclosedMemberType(i):e.addEnclosedNonMemberType(i)),f=t.getTypeParameters(),o=null,u=0;u<f.length;u++){if(r=i.findTypeParameter(f[u].name),r){for(o=r.getDeclarations(),s=0;s<o.length;s++)if(h=o[s].getParentDecl(),h&&h===t){a=this.semanticInfoChain.getASTForDecl(o[0]);this.semanticInfoChain.addDiagnosticFromAST(a,n.DiagnosticCode.Duplicate_identifier_0,[r.getName()]);break}}else r=new n.PullTypeParameterSymbol(f[u].name),i.addTypeParameter(r);r.addDeclaration(f[u]);f[u].setSymbol(r)}},t.prototype.bindObjectTypeDeclarationToPullSymbol=function(t){var f=this.semanticInfoChain.getASTForDecl(t),r=new n.PullTypeSymbol("",8388608),u,i;for(r.addDeclaration(t),t.setSymbol(r),this.semanticInfoChain.setSymbolForAST(f,r),u=t.getChildDecls(),i=0;i<u.length;i++)this.bindDeclToPullSymbol(u[i])},t.prototype.bindConstructorTypeDeclarationToPullSymbol=function(t){var c=t.kind,l=t.flags,h=this.semanticInfoChain.getASTForDecl(t),f=new n.PullTypeSymbol("",33554432),r,o,e,i,u,s;for(t.setSymbol(f),f.addDeclaration(t),this.semanticInfoChain.setSymbolForAST(h,f),r=new n.PullSignatureSymbol(2097152),o=this.semanticInfoChain.getASTForDecl(t),n.lastParameterIsRest(o.parameterList)&&(r.hasVarArgs=!0),r.addDeclaration(t),t.setSignatureSymbol(r),this.bindParameterSymbols(o,n.ASTHelpers.parametersFromParameterList(o.parameterList),f,r),e=t.getTypeParameters(),u=0;u<e.length;u++)i=f.findTypeParameter(e[u].name),i?(s=this.semanticInfoChain.getASTForDecl(i.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(s,n.DiagnosticCode.Duplicate_identifier_0,[i.name])):(i=new n.PullTypeParameterSymbol(e[u].name),r.addTypeParameter(i)),i.addDeclaration(e[u]),e[u].setSymbol(i);f.appendConstructSignature(r)},t.prototype.bindVariableDeclarationToPullSymbol=function(t){var s=t.flags,a=t.kind,h=this.semanticInfoChain.getASTForDecl(t),tt=h.kind()===131?h.identifier:h.kind()===225?h.propertyName:h.kind()===132?h.identifier:h,bt=(s&1)!=0,i=null,r=t.name,v=!1,l=this.getParent(t,!0),b=t.getParentDecl(),it=(s&118784)!=0,y=(s&32768)!=0,rt=(s&4096)!=0,k=(s&16384)!=0,ut,p,lt,o,u,f,nt,e,c;if(i=this.getExistingSymbol(t,68147712,l),!i&&y&&(i=this.findExistingVariableSymbolForModuleValueDecl(t.getContainerDecl())),i&&!i.isType()&&(v=!0),i){var ft=i.kind,at=i.anyDeclHasFlag(4096),et=i.anyDeclHasFlag(16384),d=i.allDeclsHaveFlag(32768),vt=i.anyDeclHasFlag(118784),ot=n.ArrayUtilities.any(i.getDeclarations(),function(n){return n.kind===16384}),yt=i.allDeclsHaveFlag(8),st=yt||(t.flags&8)!=0,w=i.getDeclarations()[0],pt=w.getParentDecl(),wt=b&&b.kind===1&&pt.kind===1,ht=wt||w.getParentDecl()===t.getParentDecl(),g=ht&&ft===2048&&a==512,ct=g||it&&(!rt&&!k&&ot||(y||rt)&&(d||at)||k&&d&&st||y&&et);ct&&(et||ot)&&!st&&w.fileName()!==t.fileName()&&(this.semanticInfoChain.addDiagnostic(n.PullHelpers.diagnosticFromDecl(t,n.DiagnosticCode.Module_0_cannot_merge_with_previous_declaration_of_1_in_a_different_file_2,[r,r,w.fileName()])),i.type=this.semanticInfoChain.getResolver().getNewErrorTypeSymbol(r));(!ct||g)&&((g||!(it||vt||n.hasFlag(ft,1032192)))&&ht?(this.checkThatExportsMatch(t,i),i=null,v=!1):(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(tt,t.getDisplayName(),i.getDeclarations()[0].ast()),i.type=this.semanticInfoChain.getResolver().getNewErrorTypeSymbol(r)));!i||i.type&&i.type.isError()||this.checkThatExportsMatch(t,i,!(y&&d))||(i.type=this.semanticInfoChain.getResolver().getNewErrorTypeSymbol(r))}if((s&118784)==0)i||(i=new n.PullSymbol(r,a),l||b.kind!==1||this.semanticInfoChain.cacheGlobalSymbol(i,a)),i.addDeclaration(t),t.setSymbol(i),this.semanticInfoChain.setSymbolForAST(tt,i),this.semanticInfoChain.setSymbolForAST(h,i);else if(v)i.hasDeclaration(t)||i.addDeclaration(t),t.setSymbol(i);else if(k){if(u=i,l)for(o=l.getMembers(),e=0;e<o.length;e++)if(o[e].name===r&&o[e].kind===8){u=o[e];break}u||(c=t.getContainerDecl(),u=c.getSymbol(),u||(u=this.semanticInfoChain.findTopLevelSymbol(r,58728795,t)));u&&u.kind!==8&&(u=null);u&&u.isClass()?(i=u.getConstructorMethod(),t.setSymbol(i),p=u.getDeclarations(),p.length&&(ut=p[p.length-1],lt=this.semanticInfoChain.getASTForDecl(ut))):(i||(i=new n.PullSymbol(r,a)),i.addDeclaration(t),t.setSymbol(i),i.type=this.semanticInfoChain.anyTypeSymbol)}else if(s&102400){if(f=null,nt=this.getParent(t),nt)for(o=nt.getMembers(),e=0;e<o.length;e++)if(o[e].name===r&&o[e].isContainer()){f=o[e];break}f||(c=t.getContainerDecl(),f=c.getSymbol(),f||(f=this.semanticInfoChain.findTopLevelSymbol(r,164,t),f||(f=this.semanticInfoChain.findTopLevelSymbol(r,64,t))));f&&!f.isContainer()&&(f=null);f?(i=f.getInstanceSymbol(),i||(i=new n.PullSymbol(r,a),i.type=new n.PullTypeSymbol("",8388608)),i.hasDeclaration(t)||i.addDeclaration(t),t.setSymbol(i)):n.Debug.assert(!1,"Attempted to bind invalid implicit variable symbol")}c=t.getContainerDecl();i&&i.type&&c&&!i.type.hasDeclaration(c)&&i.type.addDeclaration(c);l&&!v&&(s&1?l.addMember(i):l.addEnclosedNonMember(i))},t.prototype.bindCatchVariableToPullSymbol=function(t){var e=t.flags,r=t.kind,u=this.semanticInfoChain.getASTForDecl(t),f=t.name,i=new n.PullSymbol(f,r);i.addDeclaration(t);t.setSymbol(i);i.type=this.semanticInfoChain.anyTypeSymbol;this.semanticInfoChain.setSymbolForAST(u,i)},t.prototype.bindEnumMemberDeclarationToPullSymbol=function(t){var s=t.flags,o=t.kind,r=this.semanticInfoChain.getASTForDecl(t),e=t.name,u=!1,f=this.getParent(t,!0),i=f.findMember(e,!1);i&&this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(r.propertyName,t.getDisplayName(),i.getDeclarations()[0].ast());i&&(u=!0);u||(i=new n.PullSymbol(e,o));i.addDeclaration(t);t.setSymbol(i);this.semanticInfoChain.setSymbolForAST(r.propertyName,i);this.semanticInfoChain.setSymbolForAST(r,i);f&&!u&&f.addMember(i)},t.prototype.bindPropertyDeclarationToPullSymbol=function(t){var e=t.flags,l=t.kind,r=this.semanticInfoChain.getASTForDecl(t),o=r.kind()===136?r.variableDeclarator.propertyName:r.kind()===141?r.propertyName:r.kind()===242?r.identifier:r.propertyName,s=!1,h=!1,i=null;n.hasFlag(e,16)&&(s=!0);n.hasFlag(e,128)&&(h=!0);var c=t.name,f=!1,u=this.getParent(t,!0);u.isClass()&&s&&(u=u.getConstructorMethod().type);i=u.findMember(c,!1);i&&this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(o,t.getDisplayName(),i.getDeclarations()[0].ast());i&&(f=!0);f||(i=new n.PullSymbol(c,l));i.addDeclaration(t);t.setSymbol(i);this.semanticInfoChain.setSymbolForAST(o,i);this.semanticInfoChain.setSymbolForAST(r,i);h&&(i.isOptional=!0);u&&!f&&u.addMember(i)},t.prototype.bindParameterSymbols=function(t,i,r,u){var a=n.createIntrinsicsObject(),p=this.semanticInfoChain.getDeclForAST(t),o,l,c,s;if(i)for(o=0,l=i.length;o<l;o++){var v=i.astAt(o),h=i.identifierAt(o),e=this.semanticInfoChain.getDeclForAST(v),y=n.hasFlag(e.flags,8388608),f=new n.PullSymbol(h.valueText(),2048);o===l-1&&i.lastParameterIsRest()&&(f.isVarArg=!0);a[h.valueText()]?this.semanticInfoChain.addDiagnosticFromAST(v,n.DiagnosticCode.Duplicate_identifier_0,[h.text()]):a[h.valueText()]=!0;e&&(c=!1,y?(e.ensureSymbolIsBound(),s=e.getValueDecl(),s&&(c=n.hasFlag(s.flags,128),s.setSymbol(f),f.addDeclaration(s))):(c=n.hasFlag(e.flags,128),f.addDeclaration(e),e.setSymbol(f)),f.isOptional=c);u.addParameter(f,f.isOptional);u.isDefinition()&&r.addEnclosedNonMember(f)}},t.prototype.bindFunctionDeclarationToPullSymbol=function(t){var d=t.kind,a=t.flags,s=this.semanticInfoChain.getASTForDecl(t),k=(a&1)!=0,v=t.name,y=(a&2048)!=0,h=this.getParent(t,!0),g=t.getParentDecl(),p=!1,i=null,r=null,c,w,u,l,o,f,e,b;for(i=this.getExistingSymbol(t,68147712,h),i&&(i.kind===16384?c=y||i.allDeclsHaveFlag(2048):(w=n.hasFlag(t.flags,8),c=n.ArrayUtilities.all(i.getDeclarations(),function(t){var i=n.hasFlag(t.flags,32768)&&(w||n.hasFlag(t.flags,8)),r=n.hasFlag(t.flags,2048);return i||r})),c||(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(s.identifier,t.getDisplayName(),i.getDeclarations()[0].ast()),i.type=this.semanticInfoChain.getResolver().getNewErrorTypeSymbol(v))),i&&(r=i.type,p=!0),i||(i=new n.PullSymbol(v,16384)),r||(r=new n.PullTypeSymbol("",16777216),i.type=r,r.setFunctionSymbol(i)),t.setSymbol(i),i.addDeclaration(t),r.addDeclaration(t),this.semanticInfoChain.setSymbolForAST(s.identifier,i),this.semanticInfoChain.setSymbolForAST(s,i),h&&!p&&(k?h.addMember(i):h.addEnclosedNonMember(i)),u=new n.PullSignatureSymbol(1048576,!y),u.addDeclaration(t),t.setSignatureSymbol(u),n.lastParameterIsRest(s.callSignature.parameterList)&&(u.hasVarArgs=!0),l=this.semanticInfoChain.getASTForDecl(t),this.bindParameterSymbols(l,n.ASTHelpers.parametersFromParameterList(l.callSignature.parameterList),r,u),o=t.getTypeParameters(),e=0;e<o.length;e++)f=u.findTypeParameter(o[e].name),f?(b=this.semanticInfoChain.getASTForDecl(f.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(b,n.DiagnosticCode.Duplicate_identifier_0,[f.name])):(f=new n.PullTypeParameterSymbol(o[e].name),u.addTypeParameter(f)),f.addDeclaration(o[e]),o[e].setSymbol(f);r.appendCallSignature(u)},t.prototype.bindFunctionExpressionToPullSymbol=function(t){var l=t.kind,p=t.flags,h=this.semanticInfoChain.getASTForDecl(t),a=h.kind()===219?n.ASTHelpers.parametersFromIdentifier(h.identifier):n.ASTHelpers.parametersFromParameterList(n.ASTHelpers.getParameterList(h)),f=h,y=l===131072?t.getFunctionExpressionName():t.name,e=new n.PullSymbol(y,l),s=new n.PullTypeSymbol("",16777216),c,i,o,r,u,v;for(s.setFunctionSymbol(e),e.type=s,t.setSymbol(e),e.addDeclaration(t),s.addDeclaration(t),c=f.kind()===222?f.identifier:f.kind()===241?f.propertyName:null,c&&this.semanticInfoChain.setSymbolForAST(c,e),this.semanticInfoChain.setSymbolForAST(f,e),i=new n.PullSignatureSymbol(1048576,!0),a.lastParameterIsRest()&&(i.hasVarArgs=!0),o=t.getTypeParameters(),u=0;u<o.length;u++)r=i.findTypeParameter(o[u].name),r?(v=this.semanticInfoChain.getASTForDecl(r.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(v,n.DiagnosticCode.Duplicate_identifier_0,[r.getName()])):(r=new n.PullTypeParameterSymbol(o[u].name),i.addTypeParameter(r)),r.addDeclaration(o[u]),o[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(f,a,s,i);s.appendCallSignature(i)},t.prototype.bindFunctionTypeDeclarationToPullSymbol=function(t){var l=t.kind,c=t.flags,o=this.semanticInfoChain.getASTForDecl(t),e=new n.PullTypeSymbol("",16777216),s,i,f,r,u,h;for(t.setSymbol(e),e.addDeclaration(t),this.semanticInfoChain.setSymbolForAST(o,e),s=(c&2048)!=0,i=new n.PullSignatureSymbol(1048576,!s),n.lastParameterIsRest(o.parameterList)&&(i.hasVarArgs=!0),f=t.getTypeParameters(),u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(h=this.semanticInfoChain.getASTForDecl(r.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(h,n.DiagnosticCode.Duplicate_identifier_0,[r.name])):(r=new n.PullTypeParameterSymbol(f[u].name),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);this.bindParameterSymbols(o,n.ASTHelpers.parametersFromParameterList(o.parameterList),e,i);e.appendCallSignature(i)},t.prototype.bindMethodDeclarationToPullSymbol=function(t){var tt=t.kind,c=t.flags,o=this.semanticInfoChain.getASTForDecl(t),it=(c&2)!=0,d=(c&16)!=0,g=(c&128)!=0,y=t.name,p=(c&2048)!=0,h=this.getParent(t,!0),w=!1,i=null,r=null,l,s,f,a,b,e,v,k;h.isClass()&&d&&(h=h.getConstructorMethod().type);i=h.findMember(y,!1);!i||i.kind===65536&&(p||i.allDeclsHaveFlag(2048))||(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(o,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null);i&&(r=i.type,w=!0);i||(i=new n.PullSymbol(y,65536));r||(r=new n.PullTypeSymbol("",16777216),i.type=r,r.setFunctionSymbol(i));t.setSymbol(i);i.addDeclaration(t);r.addDeclaration(t);l=o.kind()===135?o.propertyName:o.propertyName;n.Debug.assert(l);this.semanticInfoChain.setSymbolForAST(l,i);this.semanticInfoChain.setSymbolForAST(o,i);g&&(i.isOptional=!0);w||h.addMember(i);var u=new n.PullSignatureSymbol(1048576,!p),nt=n.ASTHelpers.getParameterList(o);for(n.lastParameterIsRest(nt)&&(u.hasVarArgs=!0),s=t.getTypeParameters(),e=0;e<s.length;e++)a=s[e].name,b=this.semanticInfoChain.getASTForDecl(s[e]),f=u.findTypeParameter(a),f?this.semanticInfoChain.addDiagnosticFromAST(b,n.DiagnosticCode.Duplicate_identifier_0,[f.getName()]):(f=new n.PullTypeParameterSymbol(a),u.addTypeParameter(f)),f.addDeclaration(s[e]),s[e].setSymbol(f);u.addDeclaration(t);t.setSignatureSymbol(u);v=this.semanticInfoChain.getASTForDecl(t);this.bindParameterSymbols(v,n.ASTHelpers.parametersFromParameterList(n.ASTHelpers.getParameterList(v)),r,u);k=this.getIndexForInsertingSignatureAtEndOfEnclosingDeclInSignatureList(u,r.getOwnCallSignatures());r.insertCallSignatureAtIndex(u,k)},t.prototype.bindStaticPrototypePropertyOfClass=function(t,i,r){var f="prototype",u=r.findMember(f,!1),o,e;u&&!u.getIsSynthesized()&&this.semanticInfoChain.addDiagnostic(n.PullHelpers.diagnosticFromDecl(u.getDeclarations()[0],n.DiagnosticCode.Duplicate_identifier_0,[u.getDisplayName()]));u&&u.getIsSynthesized()||(o=new n.PullSynthesizedDecl(f,f,4096,20,r.getDeclarations()[0],this.semanticInfoChain),u=new n.PullSymbol(f,4096),u.setIsSynthesized(),u.addDeclaration(o),u.type=i,r.addMember(u),u.type&&u.type.isGeneric()&&(e=this.semanticInfoChain.getResolver(),u.type=e.instantiateTypeToAny(u.type,new n.PullTypeResolutionContext(e))),u.setResolved())},t.prototype.bindConstructorDeclarationToPullSymbol=function(t){var v=t.kind,l=t.flags,f=this.semanticInfoChain.getASTForDecl(t),a=t.name,c=(l&2048)!=0,o=this.getParent(t,!0),i=o.getConstructorMethod(),u=null,s,h,e,r;if(i&&(i.kind!==32768||!c&&i.type&&i.type.hasOwnConstructSignatures())){for(s=!1,h=i.type.getConstructSignatures(),e=0;e<h.length;e++)if(!h[e].anyDeclHasFlag(2048)){s=!0;break}s&&(this.semanticInfoChain.addDiagnosticFromAST(f,n.DiagnosticCode.Multiple_constructor_implementations_are_not_allowed),i=null)}i?u=i.type:(i=new n.PullSymbol(a,32768),u=new n.PullTypeSymbol("",33554432));o.setConstructorMethod(i);i.type=u;t.setSymbol(i);i.addDeclaration(t);u.addDeclaration(t);i.setIsSynthesized(!1);this.semanticInfoChain.setSymbolForAST(f,i);r=new n.PullSignatureSymbol(2097152,!c);r.returnType=o;r.addTypeParametersFromReturnType();r.addDeclaration(t);t.setSignatureSymbol(r);this.bindParameterSymbols(f,n.ASTHelpers.parametersFromParameterList(f.callSignature.parameterList),u,r);n.lastParameterIsRest(f.callSignature.parameterList)&&(r.hasVarArgs=!0);u.appendConstructSignature(r)},t.prototype.bindConstructSignatureDeclarationToPullSymbol=function(t){var o=this.getParent(t,!0),c=this.semanticInfoChain.getASTForDecl(t),i=new n.PullSignatureSymbol(2097152),f,r,u,s,e,h;for(n.lastParameterIsRest(c.callSignature.parameterList)&&(i.hasVarArgs=!0),f=t.getTypeParameters(),u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(s=this.semanticInfoChain.getASTForDecl(r.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(s,n.DiagnosticCode.Duplicate_identifier_0,[r.getName()])):(r=new n.PullTypeParameterSymbol(f[u].name),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);e=this.semanticInfoChain.getASTForDecl(t);this.bindParameterSymbols(e,n.ASTHelpers.parametersFromParameterList(n.ASTHelpers.getParameterList(e)),null,i);this.semanticInfoChain.setSymbolForAST(this.semanticInfoChain.getASTForDecl(t),i);h=this.getIndexForInsertingSignatureAtEndOfEnclosingDeclInSignatureList(i,o.getOwnConstructSignatures());o.insertConstructSignatureAtIndex(i,h)},t.prototype.bindCallSignatureDeclarationToPullSymbol=function(t){var o=this.getParent(t,!0),c=this.semanticInfoChain.getASTForDecl(t),i=new n.PullSignatureSymbol(1048576),f,r,u,s,e,h;for(n.lastParameterIsRest(c.parameterList)&&(i.hasVarArgs=!0),f=t.getTypeParameters(),u=0;u<f.length;u++)r=i.findTypeParameter(f[u].name),r?(s=this.semanticInfoChain.getASTForDecl(r.getDeclarations()[0]),this.semanticInfoChain.addDiagnosticFromAST(s,n.DiagnosticCode.Duplicate_identifier_0,[r.getName()])):(r=new n.PullTypeParameterSymbol(f[u].name),i.addTypeParameter(r)),r.addDeclaration(f[u]),f[u].setSymbol(r);i.addDeclaration(t);t.setSignatureSymbol(i);e=this.semanticInfoChain.getASTForDecl(t);this.bindParameterSymbols(e,n.ASTHelpers.parametersFromParameterList(e.parameterList),null,i);this.semanticInfoChain.setSymbolForAST(this.semanticInfoChain.getASTForDecl(t),i);h=this.getIndexForInsertingSignatureAtEndOfEnclosingDeclInSignatureList(i,o.getOwnCallSignatures());o.insertCallSignatureAtIndex(i,h)},t.prototype.bindIndexSignatureDeclarationToPullSymbol=function(t){var i=new n.PullSignatureSymbol(4194304),r,u;i.addDeclaration(t);t.setSignatureSymbol(i);r=this.semanticInfoChain.getASTForDecl(t);this.bindParameterSymbols(r,n.ASTHelpers.parametersFromParameter(r.parameter),null,i);this.semanticInfoChain.setSymbolForAST(this.semanticInfoChain.getASTForDecl(t),i);u=this.getParent(t);u.addIndexSignature(i);i.setContainer(u)},t.prototype.bindGetAccessorDeclarationToPullSymbol=function(t){var y=t.kind,s=t.flags,u=this.semanticInfoChain.getASTForDecl(t),p=(s&1)!=0,h=t.name,v=(s&2048)!=0,c=!1,a,e;n.hasFlag(s,16)&&(c=!0);var o=this.getParent(t,!0),l=!1,i=null,r=null,f=null;c&&(o=o.getConstructorMethod().type);i=o.findMember(h,!1);i&&(i.isAccessor()?(r=i.getGetter(),r&&(this.semanticInfoChain.addDiagnosticFromAST(u,n.DiagnosticCode.Getter_0_already_declared,[t.getDisplayName()]),i=null,r=null)):(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(u.propertyName,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null));i&&(l=!0);i&&r&&(f=r.type);i||(i=new n.PullAccessorSymbol(h));r||(r=new n.PullSymbol(h,16384),f=new n.PullTypeSymbol("",16777216),f.setFunctionSymbol(r),r.type=f,i.setGetter(r));t.setSymbol(i);i.addDeclaration(t);r.addDeclaration(t);a=u.propertyName;this.semanticInfoChain.setSymbolForAST(a,i);this.semanticInfoChain.setSymbolForAST(u,r);l||o.addMember(i);e=new n.PullSignatureSymbol(1048576,!v);e.addDeclaration(t);t.setSignatureSymbol(e);this.bindParameterSymbols(u,n.ASTHelpers.parametersFromParameterList(u.parameterList),f,e);f.appendCallSignature(e)},t.prototype.bindSetAccessorDeclarationToPullSymbol=function(t){var y=t.kind,s=t.flags,u=this.semanticInfoChain.getASTForDecl(t),p=(s&1)!=0,h=t.name,v=(s&2048)!=0,c=!1,a,e;n.hasFlag(s,16)&&(c=!0);var o=this.getParent(t,!0),l=!1,i=null,r=null,f=null;c&&(o=o.getConstructorMethod().type);i=o.findMember(h,!1);i&&(i.isAccessor()?(r=i.getSetter(),r&&(this.semanticInfoChain.addDiagnosticFromAST(u,n.DiagnosticCode.Setter_0_already_declared,[t.getDisplayName()]),i=null,r=null)):(this.semanticInfoChain.addDuplicateIdentifierDiagnosticFromAST(u.propertyName,t.getDisplayName(),i.getDeclarations()[0].ast()),i=null));i&&(l=!0,r&&(f=r.type));i||(i=new n.PullAccessorSymbol(h));r||(r=new n.PullSymbol(h,16384),f=new n.PullTypeSymbol("",16777216),f.setFunctionSymbol(r),r.type=f,i.setSetter(r));t.setSymbol(i);i.addDeclaration(t);r.addDeclaration(t);a=u.propertyName;this.semanticInfoChain.setSymbolForAST(a,i);this.semanticInfoChain.setSymbolForAST(u,r);l||o.addMember(i);e=new n.PullSignatureSymbol(1048576,!v);e.addDeclaration(t);t.setSignatureSymbol(e);this.bindParameterSymbols(u,n.ASTHelpers.parametersFromParameterList(u.parameterList),f,e);f.appendCallSignature(e)},t.prototype.getDeclsToBind=function(t){var i;switch(t.kind){case 64:case 32:case 4:case 16:i=this.findDeclsInContext(t,t.kind,!0);break;case 512:case 16384:case 65536:case 32768:i=this.findDeclsInContext(t,t.kind,!1);break;default:i=[t]}return n.Debug.assert(i&&i.length>0),n.Debug.assert(n.ArrayUtilities.contains(i,t)),i},t.prototype.shouldBindDeclaration=function(n){return!n.hasBeenBound()&&this.declsBeingBound.indexOf(n.declID)<0},t.prototype.bindDeclToPullSymbol=function(n){this.shouldBindDeclaration(n)&&this.bindAllDeclsToPullSymbol(n)},t.prototype.bindAllDeclsToPullSymbol=function(n){for(var i,r=this.getDeclsToBind(n),t=0;t<r.length;t++)i=r[t],this.shouldBindDeclaration(i)&&this.bindSingleDeclToPullSymbol(i)},t.prototype.bindSingleDeclToPullSymbol=function(t){var r,i;this.declsBeingBound.push(t.declID);switch(t.kind){case 1:for(r=t.getChildDecls(),i=0;i<r.length;i++)this.bindDeclToPullSymbol(r[i]);break;case 64:this.bindEnumDeclarationToPullSymbol(t);break;case 32:case 4:this.bindModuleDeclarationToPullSymbol(t);break;case 16:this.bindInterfaceDeclarationToPullSymbol(t);break;case 8:this.bindClassDeclarationToPullSymbol(t);break;case 16384:this.bindFunctionDeclarationToPullSymbol(t);break;case 512:this.bindVariableDeclarationToPullSymbol(t);break;case 1024:this.bindCatchVariableToPullSymbol(t);break;case 67108864:this.bindEnumMemberDeclarationToPullSymbol(t);break;case 4096:this.bindPropertyDeclarationToPullSymbol(t);break;case 65536:this.bindMethodDeclarationToPullSymbol(t);break;case 32768:this.bindConstructorDeclarationToPullSymbol(t);break;case 1048576:this.bindCallSignatureDeclarationToPullSymbol(t);break;case 2097152:this.bindConstructSignatureDeclarationToPullSymbol(t);break;case 4194304:this.bindIndexSignatureDeclarationToPullSymbol(t);break;case 262144:this.bindGetAccessorDeclarationToPullSymbol(t);break;case 524288:this.bindSetAccessorDeclarationToPullSymbol(t);break;case 8388608:this.bindObjectTypeDeclarationToPullSymbol(t);break;case 16777216:this.bindFunctionTypeDeclarationToPullSymbol(t);break;case 33554432:this.bindConstructorTypeDeclarationToPullSymbol(t);break;case 131072:this.bindFunctionExpressionToPullSymbol(t);break;case 128:this.bindImportDeclaration(t);break;case 2048:case 8192:t.getParentDecl().getSymbol();break;case 268435456:case 134217728:break;default:n.CompilerDiagnostics.assert(!1,"Unrecognized type declaration")}n.Debug.assert(n.ArrayUtilities.last(this.declsBeingBound)===t.declID);this.declsBeingBound.pop()},t}();n.PullSymbolBinder=t}(TypeScript||(TypeScript={})),function(n){(function(t){function u(n,t,i,r){typeof i=="undefined"&&(i=null);typeof r=="undefined"&&(r=null);var u=n.ast();return n.semanticInfoChain.diagnosticFromAST(u,t,i,r)}function f(n){n.isSignature()?n.returnType||n._resolveDeclaredSymbol():n.type||n._resolveDeclaredSymbol()}function e(n){var e=n.ast(),i=n.getSymbol(),r,t,u,f;return i||(i=n.getSignatureSymbol()),r=null,t=null,i.isSignature()?(r=i,u=n.getParentDecl(),t=u.getSymbol().type):(r=n.getSignatureSymbol(),t=i.type),f=e.kind()===137||n.kind===2097152?t.getConstructSignatures():n.kind===4194304?t.getIndexSignatures():t.getCallSignatures(),{signature:r,allSignatures:f}}function o(n,t){var i=t.getDeclForAST(n);return i.getSymbol()}function s(n,i){var f=t.getAccessorSymbol(n,i),r={getter:null,setter:null},e=f.getGetter(),o,u,s;return e&&(o=e.getDeclarations()[0],r.getter=i.getASTForDecl(o)),u=f.getSetter(),u&&(s=u.getDeclarations()[0],r.setter=i.getASTForDecl(s)),r}function h(n){return n&&(n.kind&67108928)!=0}function r(n){return n&&(n.kind===4||c(n,4))}function c(n,t){for(var r=n.getDeclarations(),i=0;i<r.length;i++)if(r[i].kind===t)return!0;return!1}function l(n){return isFinite(+n)}function a(n,t){return n.isTypeReference()&&!n.getIsSpecialized()&&(n=n.referencedTypeSymbol),t.isTypeReference()&&!t.getIsSpecialized()&&(t=t.referencedTypeSymbol),n===t}function v(n){for(var t=n.getRootSymbol();;){if(n===t)return n;n=t;t=n.getRootSymbol()}}function y(n){var i=n.getContainer(),t;return i&&((t=i.kind,t&17809408)||t===33554432&&!n.anyDeclHasFlag(17))?!0:!1}function p(n){var t=n.getContainer();return t&&t.kind===33554432&&r(t)&&n.anyDeclHasFlag(1)}function i(n,t){var i=!0,u=n.parameters,r;if(u)for(r=0;i&&r<u.length;r++)i=t.signatureParameterWalk(u[r]);return i&&(i=t.signatureReturnTypeWalk(n.returnType)),i}function w(n,t){for(var f,e,o,u=!0,s=n.getMembers(),r=0;u&&r<s.length;r++)u=t.memberSymbolWalk(s[r]);if(u)for(f=n.getCallSignatures(),r=0;u&&r<f.length;r++)u=t.callSignatureWalk(f[r]),u&&(u=i(f[r],t));if(u)for(e=n.getConstructSignatures(),r=0;u&&r<e.length;r++)u=t.constructSignatureWalk(e[r]),u&&(u=i(e[r],t));if(u)for(o=n.getIndexSignatures(),r=0;u&&r<o.length;r++)u=t.indexSignatureWalk(o[r]),u&&(u=i(o[r],t))}t.diagnosticFromDecl=u;t.resolveDeclaredSymbolToUseType=f;t.getSignatureForFuncDecl=e;t.getAccessorSymbol=o;t.getGetterAndSetterFunction=s;t.symbolIsEnum=h;t.symbolIsModule=r;t.isNameNumeric=l;t.typeSymbolsAreIdentical=a;t.getRootType=v;t.isSymbolLocal=y;t.isExportedSymbolInClodule=p;t.walkPullTypeSymbolStructure=w;var b=function(){function t(){this.currentlyWalkingOtherDecls=[]}return t.prototype.walkOtherPullDecls=function(t,i,r){var f,u,e;if(i&&(f=n.ArrayUtilities.any(this.currentlyWalkingOtherDecls,function(t){return n.ArrayUtilities.contains(i,t)}),!f)){for(this.currentlyWalkingOtherDecls.push(t),u=0;u<i.length;u++)i[u]!==t&&r(i[u]);e=this.currentlyWalkingOtherDecls.pop();n.Debug.assert(e==t)}},t}();t.OtherPullDeclsWalker=b})(n.PullHelpers||(n.PullHelpers={}));var t=n.PullHelpers}(TypeScript||(TypeScript={})),function(n){var t=function(){function t(){this._wrapsTypeParameterCache=n.BitVector.getBitVector(!0)}return t.prototype.getWrapsTypeParameter=function(n){var i=!1,t,r;for(t in n)if(n.hasOwnProperty(t)){if(r=this._wrapsTypeParameterCache.valueAt(t),r)return t;i=i||r===undefined}return i?undefined:0},t.prototype.setWrapsTypeParameter=function(n,t){if(t)this._wrapsTypeParameterCache.setValueAt(t,!0);else for(var i in n)n.hasOwnProperty(i)&&this._wrapsTypeParameterCache.setValueAt(i,!1)},t}(),i;n.WrapsTypeParameterCache=t,function(t){function f(n,t,i){var o,u,r;if(t.getIsSpecialized()){var s=t.getTypeParameterArgumentMap(),f=[],e=t.getAllowedToReferenceTypeParameters();for(u=0;u<e.length;u++)r=e[u].pullSymbolID,o=s[r],o&&(f[r]=n.instantiateType(o,i.typeParameterArgumentMap));for(u=0;u<e.length;u++)r=e[u].pullSymbolID,f[r]&&i.typeParameterArgumentMap[r]!=f[r]&&(i.ensureTypeArgumentCopy(),i.typeParameterArgumentMap[r]=f[r])}}function e(t,i){var u=t.getAllowedToReferenceTypeParameters();for(var r in i.typeParameterArgumentMap)i.typeParameterArgumentMap.hasOwnProperty(r)&&(n.ArrayUtilities.any(u,function(n){return n.pullSymbolID==r})||(i.ensureTypeArgumentCopy(),delete i.typeParameterArgumentMap[r]))}function i(t){var r=[],u=!1,e=!1,o,f;switch(t.kind){case 65536:if(n.hasFlag(t.flags,16)){u=!0;break}case 16777216:case 33554432:case 2097152:case 1048576:case 131072:case 16384:u=!0;e=!0;break;case 4096:if(n.hasFlag(t.flags,16))break;case 2048:case 262144:case 524288:case 32768:case 4194304:case 8388608:case 256:case 8192:e=!0;break;case 8:case 16:u=!0}if(e&&(r=r.concat(i(t.getParentDecl()))),u)for(o=t.getTypeParameters(),f=0;f<o.length;f++)r.push(o[f].getSymbol());return r}function o(n,t){return r(n,t,{})}function r(n,t,i){for(var r=0;r<n.length;r++)i[n[r].getRootSymbol().pullSymbolID]=t[r];return i}function s(n,t,i){for(var u,r=0;r<n.length;r++)u=n[r].getRootSymbol().pullSymbolID,i.typeParameterArgumentMap[u]!==t[r]&&(i.ensureTypeArgumentCopy(),i.typeParameterArgumentMap[u]=t[r])}function h(t,i){var f=t.isGeneric()&&t.getTypeArguments()!==null,e=i.isGeneric()&&i.getTypeArguments()!==null,r,u;return f&&e?(r=n.PullHelpers.getRootType(t),u=n.PullHelpers.getRootType(i),r===u):!1}var u=function(){function n(n){this.typeParameterArgumentMap=n;this.createdDuplicateTypeArgumentMap=!1}return n.prototype.ensureTypeArgumentCopy=function(){var n,t;if(!this.createdDuplicateTypeArgumentMap){n=this.typeParameterArgumentMap;this.typeParameterArgumentMap=[];for(t in n)n.hasOwnProperty(t)&&(this.typeParameterArgumentMap[t]=n[t]);this.createdDuplicateTypeArgumentMap=!0}},n}();t.MutableTypeArgumentMap=u;t.instantiateTypeArgument=f;t.cleanUpTypeArgumentMap=e;t.getAllowedToReferenceTypeParametersFromDecl=i;t.createTypeParameterArgumentMap=o;t.updateTypeParameterArgumentMap=r;t.updateMutableTypeParameterArgumentMap=s;t.twoTypesAreInstantiationsOfSameNamedGenericType=h}(n.PullInstantiationHelpers||(n.PullInstantiationHelpers={}));i=n.PullInstantiationHelpers}(TypeScript||(TypeScript={}));Error&&(Error.stackTraceLimit=1e3),function(n){function r(n,t){for(var i in n)if(typeof n[i]=="object"){if(!r(n[i],t[i]))return!1}else if(typeof n[i]!="function"&&n[i]!==t[i])return!1;return!0}var s,i,h,u,t,f,e,o;n.fileResolutionTime=0;n.fileResolutionIOTime=0;n.fileResolutionScanImportsTime=0;n.fileResolutionImportFileSearchTime=0;n.fileResolutionGetDefaultLibraryTime=0;n.sourceCharactersCompiled=0;n.syntaxTreeParseTime=0;n.syntaxDiagnosticsTime=0;n.astTranslationTime=0;n.typeCheckTime=0;n.compilerResolvePathTime=0;n.compilerDirectoryNameTime=0;n.compilerDirectoryExistsTime=0;n.compilerFileExistsTime=0;n.emitTime=0;n.emitWriteFileTime=0;n.declarationEmitTime=0;n.declarationEmitIsExternallyVisibleTime=0;n.declarationEmitTypeSignatureTime=0;n.declarationEmitGetBoundDeclTypeTime=0;n.declarationEmitIsOverloadedCallSignatureTime=0;n.declarationEmitFunctionDeclarationGetSymbolTime=0;n.declarationEmitGetBaseTypeTime=0;n.declarationEmitGetAccessorFunctionTime=0;n.declarationEmitGetTypeParameterSymbolTime=0;n.declarationEmitGetImportDeclarationSymbolTime=0;n.ioHostResolvePathTime=0;n.ioHostDirectoryNameTime=0;n.ioHostCreateDirectoryStructureTime=0;n.ioHostWriteFileTime=0,function(n){n[n.Succeeded=0]="Succeeded";n[n.FailedBecauseOfSyntaxErrors=1]="FailedBecauseOfSyntaxErrors";n[n.FailedBecauseOfCompilerOptionsErrors=2]="FailedBecauseOfCompilerOptionsErrors";n[n.FailedToGenerateDeclarationsBecauseOfSemanticErrors=3]="FailedToGenerateDeclarationsBecauseOfSemanticErrors"}(n.EmitOutputResult||(n.EmitOutputResult={}));s=n.EmitOutputResult;i=function(){function n(n){typeof n=="undefined"&&(n=0);this.outputFiles=[];this.emitOutputResult=n}return n}();n.EmitOutput=i,function(n){n[n.JavaScript=0]="JavaScript";n[n.SourceMap=1]="SourceMap";n[n.Declaration=2]="Declaration"}(n.OutputFileType||(n.OutputFileType={}));h=n.OutputFileType;u=function(){function n(n,t,i,r,u){typeof u=="undefined"&&(u=[]);this.name=n;this.writeByteOrderMark=t;this.text=i;this.fileType=r;this.sourceMapEntries=u}return n}();n.OutputFile=u;t=function(){function n(){this.diagnostics=[];this.outputFiles=[]}return n.fromDiagnostics=function(t){var i=new n;return i.diagnostics=t,i},n.fromOutputFiles=function(t){var i=new n;return i.outputFiles=t,i},n}();n.CompileResult=t;f=function(){function t(t,i){typeof t=="undefined"&&(t=new n.NullLogger);typeof i=="undefined"&&(i=n.ImmutableCompilationSettings.defaultSettings());this.logger=t;this._settings=i;this.semanticInfoChain=null;this.semanticInfoChain=new n.SemanticInfoChain(this,t)}return t.prototype.compilationSettings=function(){return this._settings},t.prototype.setCompilationSettings=function(n){var t=this._settings;this._settings=n;r(t,n)||this.semanticInfoChain.invalidate(t,n)},t.prototype.getDocument=function(t){return t=n.switchToForwardSlashes(t),this.semanticInfoChain.getDocument(t)},t.prototype.cleanupSemanticCache=function(){this.semanticInfoChain.invalidate()},t.prototype.addFile=function(t,i,r,u,f,e){typeof e=="undefined"&&(e=[]);t=n.switchToForwardSlashes(t);n.sourceCharactersCompiled+=i.getLength();var o=n.Document.create(this,this.semanticInfoChain,t,i,r,u,f,e);this.semanticInfoChain.addDocument(o)},t.prototype.updateFile=function(t,i,r,u,f){t=n.switchToForwardSlashes(t);var e=this.getDocument(t),o=e.update(i,r,u,f);this.semanticInfoChain.addDocument(o)},t.prototype.removeFile=function(t){t=n.switchToForwardSlashes(t);this.semanticInfoChain.removeDocument(t)},t.prototype.mapOutputFileName=function(n,t,i){if(n.emitToOwnOutputFile()){var r=n.fileName;return t.outputDirectory()!==""&&(r=n.fileName.replace(t.commonDirectoryPath(),""),r=t.outputDirectory()+r),i(r,!1)}return i(t.sharedOutputFile(),!0)},t.prototype.writeByteOrderMarkForDocument=function(t){var f=!1,u,i,r,e,t;if(t.emitToOwnOutputFile())return i=t.byteOrderMark!==0,f&&n.Environment.standardOut.WriteLine("Emitting byte order mark because of: "+t.fileName),i;for(u=this.fileNames(),i=!1,r=0,e=u.length;r<e;r++)if((t=this.getDocument(u[r]),!t.isExternalModule())&&t.byteOrderMark!==0)if(f)n.Environment.standardOut.WriteLine("Emitting byte order mark because of: "+t.fileName),i=!0;else return!0;return i},t.mapToDTSFileName=function(t){return n.getDeclareFilePath(t)},t.prototype._shouldEmit=function(n){return!n.isDeclareFile()},t.prototype._shouldEmitDeclarations=function(n){return this.compilationSettings().generateDeclarationFiles()?this._shouldEmit(n):!1},t.prototype.emitDocumentDeclarationsWorker=function(i,r,u){var e=i.sourceUnit(),f;return n.Debug.assert(this._shouldEmitDeclarations(i)),u?u.document=i:(f=this.mapOutputFileName(i,r,t.mapToDTSFileName),u=new n.DeclarationEmitter(f,i,this,r,this.semanticInfoChain)),u.emitDeclarations(e),u},t.prototype._emitDocumentDeclarations=function(n,t,i,r){if(this._shouldEmitDeclarations(n))if(n.emitToOwnOutputFile()){var u=this.emitDocumentDeclarationsWorker(n,t);u&&i(u.getOutputFile())}else r=this.emitDocumentDeclarationsWorker(n,t,r);return r},t.prototype.emitAllDeclarations=function(t){var c=(new Date).getTime(),r=new i,o=new n.EmitOptions(this,t),u,e,f,s,l,h;if(o.diagnostic())return r.emitOutputResult=2,r;for(u=null,e=this.fileNames(),f=0,s=e.length;f<s;f++)l=e[f],h=this.getDocument(e[f]),u=this._emitDocumentDeclarations(h,o,function(n){return r.outputFiles.push(n)},u);return u&&r.outputFiles.push(u.getOutputFile()),n.declarationEmitTime+=(new Date).getTime()-c,r},t.prototype.emitDeclarations=function(t,r){var u,f,e;return(t=n.switchToForwardSlashes(t),u=new i,f=new n.EmitOptions(this,r),f.diagnostic())?(u.emitOutputResult=2,u):(e=this.getDocument(t),e.emitToOwnOutputFile()?(this._emitDocumentDeclarations(e,f,function(n){return u.outputFiles.push(n)},null),u):this.emitAllDeclarations(r))},t.prototype.canEmitDeclarations=function(t){t=n.switchToForwardSlashes(t);var i=this.getDocument(t);return this._shouldEmitDeclarations(i)},t.mapToFileNameExtension=function(n,t,i){if(i)return t;var r=t.split(".");return r.pop(),r.join(".")+n},t.mapToJSFileName=function(n,i){return t.mapToFileNameExtension(".js",n,i)},t.prototype.emitDocumentWorker=function(i,r,u){var s=i.sourceUnit(),h,f,e,o;return n.Debug.assert(this._shouldEmit(i)),h=i.fileName,u?this.compilationSettings().mapSourceFiles()&&u.setSourceMapperNewSourceFile(i):(f=this.mapOutputFileName(i,r,t.mapToJSFileName),e=new n.TextWriter(f,this.writeByteOrderMarkForDocument(i),0),u=new n.Emitter(f,e,r,this.semanticInfoChain),this.compilationSettings().mapSourceFiles()&&(o=new n.TextWriter(f+n.SourceMapper.MapFileExtension,!1,1),u.createSourceMapper(i,f,e,o,r.resolvePath))),u.setDocument(i),u.emitJavascript(s,!1),u},t.prototype._emitDocument=function(n,t,i,r){if(this._shouldEmit(n))if(n.emitToOwnOutputFile()){var u=this.emitDocumentWorker(n,t);u&&i(u.getOutputFiles())}else r=this.emitDocumentWorker(n,t,r);return r},t.prototype.emitAll=function(t){var l=(new Date).getTime(),r=new i,o=new n.EmitOptions(this,t),e,u,f,s,h,c;if(o.diagnostic())return r.emitOutputResult=2,r;for(e=this.fileNames(),u=null,f=0,s=e.length;f<s;f++)h=e[f],c=this.getDocument(h),u=this._emitDocument(c,o,function(n){return r.outputFiles.push.apply(r.outputFiles,n)},u);return u&&r.outputFiles.push.apply(r.outputFiles,u.getOutputFiles()),n.emitTime+=(new Date).getTime()-l,r},t.prototype.emit=function(t,r){var u,f,e;return(t=n.switchToForwardSlashes(t),u=new i,f=new n.EmitOptions(this,r),f.diagnostic())?(u.emitOutputResult=2,u):(e=this.getDocument(t),e.emitToOwnOutputFile()?(this._emitDocument(e,f,function(n){return u.outputFiles.push.apply(u.outputFiles,n)},null),u):this.emitAll(r))},t.prototype.compile=function(n,t){return typeof t=="undefined"&&(t=!1),new o(this,n,t)},t.prototype.getSyntacticDiagnostics=function(t){return t=n.switchToForwardSlashes(t),this.getDocument(t).diagnostics()},t.prototype.getSyntaxTree=function(n){return this.getDocument(n).syntaxTree()},t.prototype.getSourceUnit=function(n){return this.getDocument(n).sourceUnit()},t.prototype.getSemanticDiagnostics=function(t){var r,u,f,i;return t=n.switchToForwardSlashes(t),r=this.getDocument(t),u=(new Date).getTime(),n.PullTypeResolver.typeCheck(this.compilationSettings(),this.semanticInfoChain,r),f=(new Date).getTime(),n.typeCheckTime+=f-u,i=this.semanticInfoChain.getDiagnostics(t),i=n.ArrayUtilities.distinct(i,n.Diagnostic.equals),i.sort(function(t,i){if(t.fileName()<i.fileName())return-1;if(t.fileName()>i.fileName())return 1;if(t.start()<i.start())return-1;if(t.start()>i.start())return 1;var r=n.diagnosticInformationMap[t.diagnosticKey()].code,u=n.diagnosticInformationMap[i.diagnosticKey()].code;return r<u?-1:r>u?1:0}),i},t.prototype.getCompilerOptionsDiagnostics=function(){var i=new n.EmitOptions(this,null),t=i.diagnostic();return t?[t]:n.sentinelEmptyArray},t.prototype.resolveAllFiles=function(){for(var t=this.fileNames(),n=0,i=t.length;n<i;n++)this.getSemanticDiagnostics(t[n])},t.prototype.getSymbolOfDeclaration=function(t){var r,i,u;return t?(r=this.semanticInfoChain.getResolver(),i=this.semanticInfoChain.getASTForDecl(t),!i)?null:(u=r.getEnclosingDecl(t),i.kind()===139||i.kind()===140)?this.getSymbolOfDeclaration(u):r.resolveAST(i,!1,new n.PullTypeResolutionContext(r)):null},t.prototype.extractResolutionContextFromAST=function(t,i,r,u){var gt=r.fileName,y=null,vt=null,h=!1,yt=!1,f=new n.PullTypeResolutionContext(t),c,o,w,s,b,k,p,tt,it,rt,g,ut,nt,l,d,ft,et,ot,st,ht,bt,e,ct,lt,a,at;if(!i)return null;for(c=this.getASTPath(i),o=0,w=c.length;o<w;o++){s=c[o];switch(s.kind()){case 222:case 219:case 218:u&&t.resolveAST(s,!0,f);break;case 136:b=s;h=b.variableDeclarator.typeAnnotation!==null;this.extractResolutionContextForVariable(h,u,t,f,y,b,b.variableDeclarator.equalsValueClause);break;case 225:k=s;h=k.typeAnnotation!==null;this.extractResolutionContextForVariable(h,u,t,f,y,k,k.equalsValueClause);break;case 213:case 216:if(u){var pt=s.kind()===216,v=s,e=null;if(o+2<w&&v.argumentList===c[o+1]&&v.argumentList.arguments===c[o+2]){if(p=new n.PullAdditionalCallResolutionData,pt?t.resolveObjectCreationExpression(v,f,p):t.resolveInvocationExpression(v,f,p),p.actualParametersContextTypeSymbols&&(tt=c[o+3],tt))for(l=0,d=v.argumentList.arguments.nonSeparatorCount();l<d;l++)if(v.argumentList.arguments.nonSeparatorAt(l)===tt&&(it=p.actualParametersContextTypeSymbols[l],it)){e=it;break}}else pt?t.resolveObjectCreationExpression(v,f):t.resolveInvocationExpression(v,f);f.pushNewContextualType(e)}break;case 214:u&&(e=null,a=f.getContextualType(),a&&a.isArrayNamedTypeReference()&&(e=a.getElementType()),f.pushNewContextualType(e));break;case 215:if(u&&(rt=s,g=new n.PullAdditionalObjectLiteralResolutionData,t.resolveObjectLiteralExpression(rt,h,f,g),ut=c[o+1]&&c[o+1].kind()===2?c[o+2]:c[o+1],ut)){if(e=null,nt=rt.propertyAssignments,nt&&g.membersContextTypeSymbols)for(l=0,d=nt.nonSeparatorCount();l<d;l++)if(nt.nonSeparatorAt(l)===ut&&(ft=g.membersContextTypeSymbols[l],ft)){e=ft;break}f.pushNewContextualType(e)}break;case 174:u&&(et=s,e=null,c[o+1]&&c[o+1]===et.right&&(ot=t.resolveAST(et.left,h,f).type,ot&&(h=!0,e=ot)),f.pushNewContextualType(e));break;case 220:st=s;o+1<w&&c[o+1]===st.type||u&&(e=null,ht=t.resolveAST(st,h,f).type,ht&&(h=!0,e=ht),f.pushNewContextualType(e));break;case 150:if(u){if(bt=s,e=null,y&&y.kind&1032192)if(ct=n.ASTHelpers.getType(vt),ct)lt=t.resolveTypeReference(ct,f),lt&&(h=!0,e=lt);else if(a=f.getContextualType(),a&&a.isFunction()){var kt=a.kind==33554432?a.getConstructSignatures():a.getCallSignatures(),dt=kt[0],wt=dt.returnType;wt&&(h=!0,e=wt)}f.pushNewContextualType(e)}break;case 122:u&&n.isTypesOnlyLocation(s)&&t.resolveAST(s,!1,f);break;case 163:yt=!0;break;case 146:h=!1}at=this.semanticInfoChain.getDeclForAST(s);at&&(y=at,vt=s)}return i&&i.parent&&i.kind()===11&&(i.parent.kind()===212?i.parent.name===i&&(i=i.parent):i.parent.kind()===121&&i.parent.right===i&&(i=i.parent)),{ast:i,enclosingDecl:y,resolutionContext:f,inContextuallyTypedAssignment:h,inWithBlock:yt}},t.prototype.extractResolutionContextForVariable=function(n,t,i,r,u,f,e){if(n&&t){i.resolveAST(f,!1,r);var o=this.semanticInfoChain.getSymbolForAST(f),s=null;o&&n&&(s=o.type);r.pushNewContextualType(s);e&&i.resolveAST(e,n,r)}},t.prototype.getASTPath=function(n){for(var t=[];n;)t.unshift(n),n=n.parent;return t},t.prototype.pullGetSymbolInformationFromAST=function(t,i){var f=this.semanticInfoChain.getResolver(),r=this.extractResolutionContextFromAST(f,t,i,!0),u,e;return!r||r.inWithBlock?null:(t=r.ast,u=f.resolveAST(t,r.inContextuallyTypedAssignment,r.resolutionContext),!u)?(n.Debug.assert(t.kind()===120,"No symbol was found for ast and ast was not source unit. Ast Kind: "+n.SyntaxKind[t.kind()]),null):(u.isTypeReference()&&(u=u.getReferencedTypeSymbol()),e=this.semanticInfoChain.getAliasSymbolForAST(t),{symbol:u,aliasSymbol:e,ast:t,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)})},t.prototype.pullGetCallInformationFromAST=function(t,i){var r;if(t.kind()!==213&&t.kind()!==216)return null;var e=t.kind()===216,f=this.semanticInfoChain.getResolver(),u=this.extractResolutionContextFromAST(f,t,i,!0);return!u||u.inWithBlock?null:(r=new n.PullAdditionalCallResolutionData,e?f.resolveObjectCreationExpression(t,u.resolutionContext,r):f.resolveInvocationExpression(t,u.resolutionContext,r),{targetSymbol:r.targetSymbol,resolvedSignatures:r.resolvedSignatures,candidateSignature:r.candidateSignature,ast:t,enclosingScopeSymbol:this.getSymbolOfDeclaration(u.enclosingDecl),isConstructorCall:e})},t.prototype.pullGetVisibleMemberSymbolsFromAST=function(n,t){var u=this.semanticInfoChain.getResolver(),i=this.extractResolutionContextFromAST(u,n,t,!0),r;return!i||i.inWithBlock?null:(r=u.getVisibleMembersFromExpression(n,i.enclosingDecl,i.resolutionContext),!r)?null:{symbols:r,enclosingScopeSymbol:this.getSymbolOfDeclaration(i.enclosingDecl)}},t.prototype.pullGetVisibleDeclsFromAST=function(n,t){var r=this.semanticInfoChain.getResolver(),i=this.extractResolutionContextFromAST(r,n,t,!1);return!i||i.inWithBlock?null:r.getVisibleDecls(i.enclosingDecl)},t.prototype.pullGetContextualMembersFromAST=function(n,t){var r,i,u;return n.kind()!==215?null:(r=this.semanticInfoChain.getResolver(),i=this.extractResolutionContextFromAST(r,n,t,!0),!i||i.inWithBlock)?null:(u=r.getVisibleContextSymbols(i.enclosingDecl,i.resolutionContext),{symbols:u,enclosingScopeSymbol:this.getSymbolOfDeclaration(i.enclosingDecl)})},t.prototype.pullGetDeclInformation=function(n,t,i){var e=this.semanticInfoChain.getResolver(),r=this.extractResolutionContextFromAST(e,t,i,!0),u,o,f;return!r||r.inWithBlock?null:(u=n.ast(),!u)?null:(o=this.extractResolutionContextFromAST(e,u,this.getDocument(u.fileName()),!0),!o)?null:(f=n.getSymbol(),e.resolveDeclaredSymbol(f,r.resolutionContext),f.setUnresolved(),{symbol:f,aliasSymbol:null,ast:t,enclosingScopeSymbol:this.getSymbolOfDeclaration(r.enclosingDecl)})},t.prototype.topLevelDeclaration=function(n){return this.semanticInfoChain.topLevelDecl(n)},t.prototype.getDeclForAST=function(n){return this.semanticInfoChain.getDeclForAST(n)},t.prototype.fileNames=function(){return this.semanticInfoChain.fileNames()},t.prototype.topLevelDecl=function(n){return this.semanticInfoChain.topLevelDecl(n)},t.getLocationText=function(n){return n.fileName()+"("+(n.line()+1)+","+(n.character()+1)+")"},t.getFullDiagnosticText=function(t){var i="",r,u,f;if(t.fileName()&&(i+=this.getLocationText(t)+": "),i+=t.message(),r=t.additionalLocations(),r.length>0)for(i+=" "+n.getLocalizedText(n.DiagnosticCode.Additional_locations,null)+n.Environment.newLine,u=0,f=r.length;u<f;u++)i+="\t"+this.getLocationText(r[u])+n.Environment.newLine;else i+=n.Environment.newLine;return i},t}();n.TypeScriptCompiler=f,function(n){n[n.Syntax=0]="Syntax";n[n.Semantics=1]="Semantics";n[n.EmitOptionsValidation=2]="EmitOptionsValidation";n[n.Emit=3]="Emit";n[n.DeclarationEmit=4]="DeclarationEmit"}(e||(e={}));o=function(){function i(n,t,i,r){typeof r=="undefined"&&(r=0);this.compiler=n;this.resolvePath=t;this.continueOnDiagnostics=i;this.index=-1;this.fileNames=null;this._current=null;this._emitOptions=null;this._sharedEmitter=null;this._sharedDeclarationEmitter=null;this.hadSyntacticDiagnostics=!1;this.hadSemanticDiagnostics=!1;this.hadEmitDiagnostics=!1;this.fileNames=n.fileNames();this.compilerPhase=r}return i.prototype.current=function(){return this._current},i.prototype.moveNext=function(){for(this._current=null;this.moveNextInternal();)if(this._current)return!0;return!1},i.prototype.moveNextInternal=function(){for(this.index++;this.shouldMoveToNextPhase();)this.index=0,this.compilerPhase++;if(this.compilerPhase>4)return!1;switch(this.compilerPhase){case 0:return this.moveNextSyntaxPhase();case 1:return this.moveNextSemanticsPhase();case 2:return this.moveNextEmitOptionsValidationPhase();case 3:return this.moveNextEmitPhase();case 4:return this.moveNextDeclarationEmitPhase()}},i.prototype.shouldMoveToNextPhase=function(){switch(this.compilerPhase){case 2:return this.index===1;case 0:case 1:return this.index===this.fileNames.length;case 3:case 4:return this.index===this.fileNames.length+1}return!1},i.prototype.moveNextSyntaxPhase=function(){n.Debug.assert(this.index>=0&&this.index<this.fileNames.length);var r=this.fileNames[this.index],i=this.compiler.getSyntacticDiagnostics(r);return i.length&&(this.continueOnDiagnostics||(this.hadSyntacticDiagnostics=!0),this._current=t.fromDiagnostics(i)),!0},i.prototype.moveNextSemanticsPhase=function(){if(this.hadSyntacticDiagnostics)return!1;n.Debug.assert(this.index>=0&&this.index<this.fileNames.length);var r=this.fileNames[this.index],i=this.compiler.getSemanticDiagnostics(r);return i.length&&(this.continueOnDiagnostics||(this.hadSemanticDiagnostics=!0),this._current=t.fromDiagnostics(i)),!0},i.prototype.moveNextEmitOptionsValidationPhase=function(){return n.Debug.assert(!this.hadSyntacticDiagnostics),this._emitOptions||(this._emitOptions=new n.EmitOptions(this.compiler,this.resolvePath)),this._emitOptions.diagnostic()&&(this.continueOnDiagnostics||(this.hadEmitDiagnostics=!0),this._current=t.fromDiagnostics([this._emitOptions.diagnostic()])),!0},i.prototype.moveNextEmitPhase=function(){var u=this,i,r;return(n.Debug.assert(!this.hadSyntacticDiagnostics),n.Debug.assert(this._emitOptions),this.hadEmitDiagnostics)?!1:(n.Debug.assert(this.index>=0&&this.index<=this.fileNames.length),this.index<this.fileNames.length)?(i=this.fileNames[this.index],r=this.compiler.getDocument(i),this._sharedEmitter=this.compiler._emitDocument(r,this._emitOptions,function(n){u._current=t.fromOutputFiles(n)},this._sharedEmitter),!0):(this.index===this.fileNames.length&&this._sharedEmitter&&(this._current=t.fromOutputFiles(this._sharedEmitter.getOutputFiles())),!0)},i.prototype.moveNextDeclarationEmitPhase=function(){var u=this,i,r;return(n.Debug.assert(!this.hadSyntacticDiagnostics),n.Debug.assert(!this.hadEmitDiagnostics),this.hadSemanticDiagnostics)?!1:this.compiler.compilationSettings().generateDeclarationFiles()?(n.Debug.assert(this.index>=0&&this.index<=this.fileNames.length),this.index<this.fileNames.length)?(i=this.fileNames[this.index],r=this.compiler.getDocument(i),this._sharedDeclarationEmitter=this.compiler._emitDocumentDeclarations(r,this._emitOptions,function(n){u._current=t.fromOutputFiles([n])},this._sharedDeclarationEmitter),!0):(this.index===this.fileNames.length&&this._sharedDeclarationEmitter&&(this._current=t.fromOutputFiles([this._sharedDeclarationEmitter.getOutputFile()])),!0):!1},i}();n.compareDataObjects=r}(TypeScript||(TypeScript={})),function(n){var f,t,i,r,u;(function(n){n[n.Unknown=0]="Unknown";n[n.Open=1]="Open";n[n.Closed=2]="Closed";n[n.InfinitelyExpanding=3]="InfinitelyExpanding"})(n.GenerativeTypeClassification||(n.GenerativeTypeClassification={}));f=n.GenerativeTypeClassification;t=function(t){function i(i){t.call(this,i.name,i.kind);this.referencedTypeSymbol=i;this.isResolved=!0;n.Debug.assert(i!==null,"Type root symbol may not be null");this.setRootSymbol(i);this.typeReference=this}return __extends(i,t),i.createTypeReference=function(n){if(n.isTypeReference())return n;var t=n.typeReference;return t||(t=new i(n),n.typeReference=t),t},i.prototype.isTypeReference=function(){return!0},i.prototype.setResolved=function(){},i.prototype.setUnresolved=function(){},i.prototype.invalidate=function(){},i.prototype.ensureReferencedTypeIsResolved=function(){this._getResolver().resolveDeclaredSymbol(this.referencedTypeSymbol)},i.prototype.getReferencedTypeSymbol=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol},i.prototype._getResolver=function(){return this.referencedTypeSymbol._getResolver()},i.prototype.hasMembers=function(){return this.referencedTypeSymbol.hasMembers()},i.prototype.setAssociatedContainerType=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": setAssociatedContainerType")},i.prototype.getAssociatedContainerType=function(){return this.referencedTypeSymbol.getAssociatedContainerType()},i.prototype.getFunctionSymbol=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getFunctionSymbol()},i.prototype.setFunctionSymbol=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": setFunctionSymbol")},i.prototype.addContainedNonMember=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addContainedNonMember")},i.prototype.findContainedNonMemberContainer=function(n,t){return typeof t=="undefined"&&(t=0),this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findContainedNonMemberContainer(n,t)},i.prototype.addMember=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addMember")},i.prototype.addEnclosedMemberType=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addEnclosedMemberType")},i.prototype.addEnclosedMemberContainer=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addEnclosedMemberContainer")},i.prototype.addEnclosedNonMember=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addEnclosedNonMember")},i.prototype.addEnclosedNonMemberType=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addEnclosedNonMemberType")},i.prototype.addEnclosedNonMemberContainer=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addEnclosedNonMemberContainer")},i.prototype.addTypeParameter=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addTypeParameter")},i.prototype.addConstructorTypeParameter=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addConstructorTypeParameter")},i.prototype.findContainedNonMember=function(n){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findContainedNonMember(n)},i.prototype.findContainedNonMemberType=function(n,t){return typeof t=="undefined"&&(t=0),this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findContainedNonMemberType(n,t)},i.prototype.getMembers=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getMembers()},i.prototype.setHasDefaultConstructor=function(t){typeof t=="undefined"&&(t=!0);n.Debug.fail("Reference symbol "+this.pullSymbolID+":setHasDefaultConstructor")},i.prototype.getHasDefaultConstructor=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getHasDefaultConstructor()},i.prototype.getConstructorMethod=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getConstructorMethod()},i.prototype.setConstructorMethod=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": setConstructorMethod")},i.prototype.getTypeParameters=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getTypeParameters()},i.prototype.isGeneric=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.isGeneric()},i.prototype.addSpecialization=function(n,t){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.addSpecialization(n,t)},i.prototype.getSpecialization=function(n){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getSpecialization(n)},i.prototype.getKnownSpecializations=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getKnownSpecializations()},i.prototype.getTypeArguments=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getTypeArguments()},i.prototype.getTypeArgumentsOrTypeParameters=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getTypeArgumentsOrTypeParameters()},i.prototype.appendCallSignature=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": appendCallSignature")},i.prototype.insertCallSignatureAtIndex=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": insertCallSignatureAtIndex")},i.prototype.appendConstructSignature=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": appendConstructSignature")},i.prototype.insertConstructSignatureAtIndex=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": insertConstructSignatureAtIndex")},i.prototype.addIndexSignature=function(){n.Debug.fail("Reference symbol "+this.pullSymbolID+": addIndexSignature")},i.prototype.hasOwnCallSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.hasOwnCallSignatures()},i.prototype.getCallSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getCallSignatures()},i.prototype.hasOwnConstructSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.hasOwnConstructSignatures()},i.prototype.getConstructSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getConstructSignatures()},i.prototype.hasOwnIndexSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.hasOwnIndexSignatures()},i.prototype.getIndexSignatures=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getIndexSignatures()},i.prototype.addImplementedType=function(n){this.referencedTypeSymbol.addImplementedType(n)},i.prototype.getImplementedTypes=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getImplementedTypes()},i.prototype.addExtendedType=function(n){this.referencedTypeSymbol.addExtendedType(n)},i.prototype.getExtendedTypes=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getExtendedTypes()},i.prototype.addTypeThatExtendsThisType=function(n){this.referencedTypeSymbol.addTypeThatExtendsThisType(n)},i.prototype.getTypesThatExtendThisType=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getTypesThatExtendThisType()},i.prototype.addTypeThatExplicitlyImplementsThisType=function(n){this.referencedTypeSymbol.addTypeThatExplicitlyImplementsThisType(n)},i.prototype.getTypesThatExplicitlyImplementThisType=function(){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getTypesThatExplicitlyImplementThisType()},i.prototype.isValidBaseKind=function(n,t){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.isValidBaseKind(n,t)},i.prototype.findMember=function(n,t){return typeof t=="undefined"&&(t=!0),this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findMember(n,t)},i.prototype.findNestedType=function(n,t){return typeof t=="undefined"&&(t=0),this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findNestedType(n,t)},i.prototype.findNestedContainer=function(n,t){return typeof t=="undefined"&&(t=0),this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findNestedContainer(n,t)},i.prototype.getAllMembers=function(n,t){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.getAllMembers(n,t)},i.prototype.findTypeParameter=function(n){return this.ensureReferencedTypeIsResolved(),this.referencedTypeSymbol.findTypeParameter(n)},i.prototype.hasOnlyOverloadCallSignatures=function(){return this.referencedTypeSymbol.hasOnlyOverloadCallSignatures()},i}(n.PullTypeSymbol);n.PullTypeReferenceSymbol=t;n.nSpecializationsCreated=0;n.nSpecializedSignaturesCreated=0;n.nSpecializedTypeParameterCreated=0;i=function(t){function i(i,r,u){t.call(this,i);this.referencedTypeSymbol=i;this._typeParameterArgumentMap=r;this.isInstanceReferenceType=u;this._instantiatedMembers=null;this._allInstantiatedMemberNameCache=null;this._instantiatedMemberNameCache=n.createIntrinsicsObject();this._instantiatedCallSignatures=null;this._instantiatedConstructSignatures=null;this._instantiatedIndexSignatures=null;this._typeArgumentReferences=undefined;this._instantiatedConstructorMethod=null;this._instantiatedAssociatedContainerType=null;this._isArray=undefined;this._generativeTypeClassification=[];n.nSpecializationsCreated++}return __extends(i,t),i.prototype.getIsSpecialized=function(){return!this.isInstanceReferenceType},i.prototype.getGenerativeTypeClassification=function(n){var i,r,u,f,t;if(!this.isNamedTypeSymbol())return 0;if(i=this._generativeTypeClassification[n.pullSymbolID]||0,i===0){for(r=n.getTypeParameters(),u=[],t=0;t<r.length;t++)u[r[t].pullSymbolID]=r[t];for(f=this.getTypeArguments(),t=0;t<f.length;t++)if(f[t].wrapsSomeTypeParameter(u,!0)){i=1;break}i===1?this.wrapsSomeTypeParameterIntoInfinitelyExpandingTypeReference(n)&&(i=3):i=2;this._generativeTypeClassification[n.pullSymbolID]=i}return i},i.prototype.isArrayNamedTypeReference=function(){return this._isArray===undefined&&(this._isArray=this.getRootSymbol().isArrayNamedTypeReference()||this.getRootSymbol()===this._getResolver().getArrayNamedType()),this._isArray},i.prototype.getElementType=function(){if(!this.isArrayNamedTypeReference())return null;var n=this.getTypeArguments();return n?n[0]:null},i.prototype.getReferencedTypeSymbol=function(){return(this.ensureReferencedTypeIsResolved(),this.getIsSpecialized())?this:this.referencedTypeSymbol},i.create=function(t,r,u){var e,o,f,s,l,c,h;if(n.Debug.assert(t),e=new n.PullInstantiationHelpers.MutableTypeArgumentMap(u),n.PullInstantiationHelpers.instantiateTypeArgument(t,r,e),o=r.getRootSymbol(),f=o.getSpecialization(e.typeParameterArgumentMap),f)return f;if(n.PullInstantiationHelpers.cleanUpTypeArgumentMap(r,e),u=e.typeParameterArgumentMap,s=(r.kind&8216)!=0,l=u,s){for(c=o.getTypeParameters(),h=0;h<c.length;h++)if(!n.PullHelpers.typeSymbolsAreIdentical(c[h],u[c[h].pullSymbolID])){s=!1;break}s&&(u=[])}return f=new i(o,u,s),o.addSpecialization(f,l),f},i.prototype.isGeneric=function(){return this.getRootSymbol().isGeneric()},i.prototype.getTypeParameterArgumentMap=function(){return this._typeParameterArgumentMap},i.prototype.getTypeArguments=function(){var i,t,r,u;if(this.isInstanceReferenceType)return this.getTypeParameters();if(this._typeArgumentReferences===undefined)if(i=this.referencedTypeSymbol.getTypeParameters(),i.length){for(t=null,r=[],u=0;u<i.length;u++)t=this._typeParameterArgumentMap[i[u].pullSymbolID],t||n.Debug.fail("type argument count mismatch"),t&&(r[r.length]=t);this._typeArgumentReferences=r}else this._typeArgumentReferences=null;return this._typeArgumentReferences},i.prototype.getTypeArgumentsOrTypeParameters=function(){return this.getTypeArguments()},i.prototype.populateInstantiatedMemberFromReferencedMember=function(t){var i;n.PullHelpers.resolveDeclaredSymbolToUseType(t);t.type.wrapsSomeTypeParameter(this._typeParameterArgumentMap)?(i=new n.PullSymbol(t.name,t.kind),i.setRootSymbol(t),i.type=this._getResolver().instantiateType(t.type,this._typeParameterArgumentMap),i.isOptional=t.isOptional):i=t;this._instantiatedMemberNameCache[i.name]=i},i.prototype.getMembers=function(){var t;if(this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)return this.referencedTypeSymbol.getMembers();if(!this._instantiatedMembers){var i=this.referencedTypeSymbol.getMembers(),n=null;for(this._instantiatedMembers=[],t=0;t<i.length;t++)n=i[t],this._getResolver().resolveDeclaredSymbol(n),this._instantiatedMemberNameCache[n.name]||this.populateInstantiatedMemberFromReferencedMember(n),this._instantiatedMembers[this._instantiatedMembers.length]=this._instantiatedMemberNameCache[n.name]}return this._instantiatedMembers},i.prototype.findMember=function(n,t){var i,r;return(typeof t=="undefined"&&(t=!0),this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)?this.referencedTypeSymbol.findMember(n,t):(i=this._instantiatedMemberNameCache[n],i||(r=this.referencedTypeSymbol.findMember(n,t),r?(this.populateInstantiatedMemberFromReferencedMember(r),i=this._instantiatedMemberNameCache[n]):i=null),i)},i.prototype.getAllMembers=function(t,i){var f,s,o,r,e,u;if(this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)return this.referencedTypeSymbol.getAllMembers(t,i);if(f=[],s=this.referencedTypeSymbol.getAllMembers(t,i),!this._allInstantiatedMemberNameCache)for(this._allInstantiatedMemberNameCache=n.createIntrinsicsObject(),o=this.getMembers(),u=0;u<o.length;u++)this._allInstantiatedMemberNameCache[o[u].name]=o[u];for(r=null,e=null,u=0;u<s.length;u++)r=s[u],this._getResolver().resolveDeclaredSymbol(r),this._allInstantiatedMemberNameCache[r.name]?f[f.length]=this._allInstantiatedMemberNameCache[r.name]:r.type.wrapsSomeTypeParameter(this._typeParameterArgumentMap)?(e=new n.PullSymbol(r.name,r.kind),e.setRootSymbol(r),e.type=this._getResolver().instantiateType(r.type,this._typeParameterArgumentMap),e.isOptional=r.isOptional,this._allInstantiatedMemberNameCache[e.name]=e,f[f.length]=e):(this._allInstantiatedMemberNameCache[r.name]=r,f[f.length]=r);return f},i.prototype.getConstructorMethod=function(){if(this.isInstanceReferenceType)return this.referencedTypeSymbol.getConstructorMethod();if(!this._instantiatedConstructorMethod){var t=this.referencedTypeSymbol.getConstructorMethod();this._instantiatedConstructorMethod=new n.PullSymbol(t.name,t.kind);this._instantiatedConstructorMethod.setRootSymbol(t);this._instantiatedConstructorMethod.setResolved();this._instantiatedConstructorMethod.type=i.create(this._getResolver(),t.type,this._typeParameterArgumentMap)}return this._instantiatedConstructorMethod},i.prototype.getAssociatedContainerType=function(){if(!this.isInstanceReferenceType)return this.referencedTypeSymbol.getAssociatedContainerType();if(!this._instantiatedAssociatedContainerType){var n=this.referencedTypeSymbol.getAssociatedContainerType();n&&(this._instantiatedAssociatedContainerType=i.create(this._getResolver(),n,this._typeParameterArgumentMap))}return this._instantiatedAssociatedContainerType},i.prototype.getCallSignatures=function(){var t,n;if(this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)return this.referencedTypeSymbol.getCallSignatures();if(this._instantiatedCallSignatures)return this._instantiatedCallSignatures;for(t=this.referencedTypeSymbol.getCallSignatures(),this._instantiatedCallSignatures=[],n=0;n<t.length;n++)this._getResolver().resolveDeclaredSymbol(t[n]),t[n].wrapsSomeTypeParameter(this._typeParameterArgumentMap)?(this._instantiatedCallSignatures[this._instantiatedCallSignatures.length]=this._getResolver().instantiateSignature(t[n],this._typeParameterArgumentMap),this._instantiatedCallSignatures[this._instantiatedCallSignatures.length-1].functionType=this):this._instantiatedCallSignatures[this._instantiatedCallSignatures.length]=t[n];return this._instantiatedCallSignatures},i.prototype.getConstructSignatures=function(){var t,n;if(this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)return this.referencedTypeSymbol.getConstructSignatures();if(this._instantiatedConstructSignatures)return this._instantiatedConstructSignatures;for(t=this.referencedTypeSymbol.getConstructSignatures(),this._instantiatedConstructSignatures=[],n=0;n<t.length;n++)this._getResolver().resolveDeclaredSymbol(t[n]),t[n].wrapsSomeTypeParameter(this._typeParameterArgumentMap)?(this._instantiatedConstructSignatures[this._instantiatedConstructSignatures.length]=this._getResolver().instantiateSignature(t[n],this._typeParameterArgumentMap),this._instantiatedConstructSignatures[this._instantiatedConstructSignatures.length-1].functionType=this):this._instantiatedConstructSignatures[this._instantiatedConstructSignatures.length]=t[n];return this._instantiatedConstructSignatures},i.prototype.getIndexSignatures=function(){var t,n;if(this.ensureReferencedTypeIsResolved(),this.isInstanceReferenceType)return this.referencedTypeSymbol.getIndexSignatures();if(this._instantiatedIndexSignatures)return this._instantiatedIndexSignatures;for(t=this.referencedTypeSymbol.getIndexSignatures(),this._instantiatedIndexSignatures=[],n=0;n<t.length;n++)this._getResolver().resolveDeclaredSymbol(t[n]),t[n].wrapsSomeTypeParameter(this._typeParameterArgumentMap)?(this._instantiatedIndexSignatures[this._instantiatedIndexSignatures.length]=this._getResolver().instantiateSignature(t[n],this._typeParameterArgumentMap),this._instantiatedIndexSignatures[this._instantiatedIndexSignatures.length-1].functionType=this):this._instantiatedIndexSignatures[this._instantiatedIndexSignatures.length]=t[n];return this._instantiatedIndexSignatures},i}(t);n.PullInstantiatedTypeReferenceSymbol=i;r=function(t){function i(i,r){t.call(this,i.kind,i.isDefinition());this._typeParameterArgumentMap=r;this.setRootSymbol(i);n.nSpecializedSignaturesCreated++;i.addSpecialization(this,r)}return __extends(i,t),i.prototype.getTypeParameterArgumentMap=function(){return this._typeParameterArgumentMap},i.prototype.getIsSpecialized=function(){return!0},i.prototype._getResolver=function(){return this.getRootSymbol()._getResolver()},i.prototype.getTypeParameters=function(){var r=this,i;if(!this._typeParameters){var u=this.getRootSymbol(),t=u.getTypeParameters(),f=n.ArrayUtilities.all(t,function(n){return r._typeParameterArgumentMap[n.pullSymbolID]!==undefined});if(!f&&t.length)for(this._typeParameters=[],i=0;i<t.length;i++)this._typeParameters[this._typeParameters.length]=this._getResolver().instantiateTypeParameter(t[i],this._typeParameterArgumentMap);else this._typeParameters=n.sentinelEmptyArray}return this._typeParameters},i.prototype.getAllowedToReferenceTypeParameters=function(){var n=this.getRootSymbol();return n.getAllowedToReferenceTypeParameters()},i}(n.PullSignatureSymbol);n.PullInstantiatedSignatureSymbol=r;u=function(t){function i(i,r){t.call(this,i.name);n.nSpecializedTypeParameterCreated++;this.setRootSymbol(i);this.setConstraint(r);i.addSpecialization(this,[r])}return __extends(i,t),i.prototype._getResolver=function(){return this.getRootSymbol()._getResolver()},i}(n.PullTypeParameterSymbol);n.PullInstantiatedTypeParameterSymbol=u}(TypeScript||(TypeScript={})),function(n){function t(n,t){n&&(n._start!==-1&&(n._start+=t),n._end!==-1&&(n._end+=t))}function r(n,i){var r,u;if(n&&n.length>0)for(r=0;r<n.length;r++)u=n[r],t(u,i)}var i=function(){function t(n,t,i){this.fileName=n;this.lineMap=t;this.compilationSettings=i;this.position=0;this.previousTokenTrailingComments=null}return t.visit=function(n,i,r,f){var e=f?new u(i,n.lineMap(),r):new t(i,n.lineMap(),r);return n.sourceUnit().accept(e)},t.prototype.movePast=function(n){n!==null&&(this.position+=n.fullWidth())},t.prototype.moveTo=function(t,i){i!==null&&(this.position+=n.Syntax.childOffset(t,i))},t.prototype.setCommentsAndSpan=function(n,t,i){var r=i.firstToken(),u=i.lastToken();this.setSpan(n,t,i,r,u);n.setPreComments(this.convertTokenLeadingComments(r,t));n.setPostComments(this.convertNodeTrailingComments(i,u,t))},t.prototype.createTokenSpan=function(t,i){if(i===null)return null;if(i.fullWidth()===0)return new n.ASTSpan(-1,-1);var r=i.leadingTriviaWidth(),u=i.trailingTriviaWidth(),f=t+r,e=t+i.fullWidth()-u;return new n.ASTSpan(f,e)},t.prototype.setSpan=function(n,t,i,r,u){typeof r=="undefined"&&(r=i.firstToken());typeof u=="undefined"&&(u=i.lastToken());var e=r?r.leadingTriviaWidth():0,f=u?u.trailingTriviaWidth():0,o=t+e,s=t+i.fullWidth()-f;this.setSpanExplicit(n,o,s);n._trailingTriviaWidth=f},t.prototype.setSpanExplicit=function(n,t,i){n._start=t;n._end=i},t.prototype.visitSyntaxList=function(t){for(var r,f=this.position,u=new Array(t.childCount()),i=0,e=t.childCount();i<e;i++)u[i]=t.childAt(i).accept(this);return r=new n.ISyntaxList2(this.fileName,u),this.setSpan(r,f,t),r},t.prototype.visitSeparatedSyntaxList=function(t){for(var r,u,e=this.position,f=new Array(t.nonSeparatorCount()),i=0,o=t.childCount();i<o;i++)i%2==0?(f[i/2]=t.childAt(i).accept(this),this.previousTokenTrailingComments=null):(r=t.childAt(i),this.previousTokenTrailingComments=this.convertTokenTrailingComments(r,this.position+r.leadingTriviaWidth()+r.width()),this.movePast(r));return u=new n.ISeparatedSyntaxList2(this.fileName,f,t.separatorCount()),this.setSpan(u,e,t),u.setPostComments(this.previousTokenTrailingComments),this.previousTokenTrailingComments=null,u},t.prototype.convertComment=function(t,i,r){return new n.Comment(t,r,i,i+t.fullWidth())},t.prototype.convertComments=function(n,t){for(var r,e,u=[],i=0,f=n.count();i<f;i++)r=n.syntaxTriviaAt(i),r.isComment()&&(e=i+1<f&&n.syntaxTriviaAt(i+1).isNewLine(),u.push(this.convertComment(r,t,e))),t+=r.fullWidth();return u},t.prototype.mergeComments=function(n,t){return n===null?t:t===null?n:n.concat(t)},t.prototype.convertTokenLeadingComments=function(n,t){if(n===null)return null;var i=n.hasLeadingComment()?this.convertComments(n.leadingTrivia(),t):null,r=this.previousTokenTrailingComments;return this.previousTokenTrailingComments=null,this.mergeComments(r,i)},t.prototype.convertTokenTrailingComments=function(n,t){return n===null||!n.hasTrailingComment()||n.hasTrailingNewLine()?null:this.convertComments(n.trailingTrivia(),t)},t.prototype.convertNodeTrailingComments=function(n,t,i){return t===null||!t.hasTrailingComment()||t.hasTrailingNewLine()?null:this.convertComments(t.trailingTrivia(),i+n.fullWidth()-t.trailingTriviaWidth())},t.prototype.visitIdentifier=function(n){return this.visitToken(n)},t.prototype.visitToken=function(n){var r=this.position,i=this.visitTokenWorker(n),t;return this.movePast(n),t=r+n.leadingTriviaWidth(),this.setSpanExplicit(i,t,t+n.width()),i},t.prototype.visitTokenWorker=function(t){switch(t.tokenKind){case 60:return new n.BuiltInType(60,t.text(),t.valueText());case 61:return new n.BuiltInType(61,t.text(),t.valueText());case 67:return new n.BuiltInType(67,t.text(),t.valueText());case 69:return new n.BuiltInType(69,t.text(),t.valueText());case 41:return new n.BuiltInType(41,t.text(),t.valueText());case 35:return new n.ThisExpression(t.text(),t.valueText());case 50:return new n.SuperExpression(t.text(),t.valueText());case 37:return new n.LiteralExpression(37,t.text(),t.valueText());case 24:return new n.LiteralExpression(24,t.text(),t.valueText());case 32:return new n.LiteralExpression(32,t.text(),t.valueText());case 14:return new n.StringLiteral(t.text(),t.valueText());case 12:return new n.RegularExpressionLiteral(t.text(),t.valueText());case 13:var r=this.position,u=this.convertTokenLeadingComments(t,r),i=new n.NumericLiteral(t.value(),t.text(),t.valueText());return i.setPreComments(u),i;case 11:return new n.Identifier(t.text());default:throw n.Errors.invalidOperation();}},t.prototype.visitSourceUnit=function(t){var i=this.position;n.Debug.assert(i===0);var u=this.visitSyntaxList(t.moduleElements),f=this.convertTokenLeadingComments(t.endOfFileToken,n.Syntax.childOffset(t,t.endOfFileToken)),r=new n.SourceUnit(u,f,this.fileName);return this.setSpanExplicit(r,i,i+t.fullWidth()),r},t.prototype.visitExternalModuleReference=function(t){var u=this.position,r,i;return this.moveTo(t,t.stringLiteral),r=t.stringLiteral.accept(this),this.movePast(t.closeParenToken),i=new n.ExternalModuleReference(r),this.setSpan(i,u,t),i},t.prototype.visitModuleNameModuleReference=function(t){var r=this.position,u=t.moduleName.accept(this),i=new n.ModuleNameModuleReference(u);return this.setSpan(i,r,t),i},t.prototype.visitClassDeclaration=function(t){var e=this.position,r,u,f,i;this.moveTo(t,t.identifier);var o=this.visitIdentifier(t.identifier),s=this.visitTypeParameterList(t.typeParameterList),h=t.heritageClauses?this.visitSyntaxList(t.heritageClauses):null;return this.movePast(t.openBraceToken),r=this.visitSyntaxList(t.classElements),u=this.createTokenSpan(this.position,t.closeBraceToken),this.movePast(t.closeBraceToken),f=this.visitModifiers(t.modifiers),i=new n.ClassDeclaration(f,o,s,h,r,u),this.setCommentsAndSpan(i,e,t),i},t.prototype.visitModifiers=function(t){var i=null;return n.SyntaxUtilities.containsToken(t,47)&&(i=i||[],i.push(1)),n.SyntaxUtilities.containsToken(t,63)&&(i=i||[],i.push(8)),n.SyntaxUtilities.containsToken(t,58)&&(i=i||[],i.push(16)),n.SyntaxUtilities.containsToken(t,57)&&(i=i||[],i.push(4)),n.SyntaxUtilities.containsToken(t,55)&&(i=i||[],i.push(2)),i||n.sentinelEmptyArray},t.prototype.visitInterfaceDeclaration=function(t){var r=this.position;this.moveTo(t,t.identifier);var u=this.visitIdentifier(t.identifier),f=this.visitTypeParameterList(t.typeParameterList),e=t.heritageClauses?this.visitSyntaxList(t.heritageClauses):null,o=this.visitObjectType(t.body),s=this.visitModifiers(t.modifiers),i=new n.InterfaceDeclaration(s,u,f,e,o);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitHeritageClause=function(t){var u=this.position,r,i;return this.movePast(t.extendsOrImplementsKeyword),r=this.visitSeparatedSyntaxList(t.typeNames),i=new n.HeritageClause(t.extendsOrImplementsKeyword.tokenKind===48?230:231,r),this.setSpan(i,u,t),i},t.prototype.visitModuleDeclaration=function(t){var o=this.position,s=this.visitModifiers(t.modifiers),r,u,f,e,i;return this.moveTo(t,t.moduleKeyword),this.movePast(t.moduleKeyword),r=t.name?t.name.accept(this):null,u=t.stringLiteral?t.stringLiteral.accept(this):null,this.movePast(t.openBraceToken),f=this.visitSyntaxList(t.moduleElements),e=this.createTokenSpan(this.position,t.closeBraceToken),this.movePast(t.closeBraceToken),i=new n.ModuleDeclaration(s,r,u,f,e),this.setCommentsAndSpan(i,o,t),i},t.prototype.visitFunctionDeclaration=function(t){var r=this.position,i;this.moveTo(t,t.identifier);var u=this.visitIdentifier(t.identifier),f=this.visitCallSignature(t.callSignature),e=t.block?this.visitBlock(t.block):null;return this.movePast(t.semicolonToken),i=new n.FunctionDeclaration(this.visitModifiers(t.modifiers),u,f,e),this.setCommentsAndSpan(i,r,t),i},t.prototype.visitEnumDeclaration=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.identifier),r=this.visitIdentifier(t.identifier),this.movePast(t.openBraceToken),u=this.visitSeparatedSyntaxList(t.enumElements),this.movePast(t.closeBraceToken),i=new n.EnumDeclaration(this.visitModifiers(t.modifiers),r,u),this.setCommentsAndSpan(i,f,t),i},t.prototype.visitEnumElement=function(t){var r=this.position,u=this.visitToken(t.propertyName),f=t.equalsValueClause!==null?this.visitEqualsValueClause(t.equalsValueClause):null,i=new n.EnumElement(u,f);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitImportDeclaration=function(t){var e=this.position,r,u,f,i;return this.moveTo(t,t.identifier),r=this.visitIdentifier(t.identifier),this.movePast(t.equalsToken),u=t.moduleReference.accept(this),this.movePast(t.semicolonToken),f=this.visitModifiers(t.modifiers),i=new n.ImportDeclaration(f,r,u),this.setCommentsAndSpan(i,e,t),i},t.prototype.visitExportAssignment=function(t){var u=this.position,r,i;return this.moveTo(t,t.identifier),r=this.visitIdentifier(t.identifier),this.movePast(t.semicolonToken),i=new n.ExportAssignment(r),this.setSpan(i,u,t),i},t.prototype.visitVariableStatement=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.variableDeclaration),r=t.variableDeclaration.accept(this),this.movePast(t.semicolonToken),u=this.visitModifiers(t.modifiers),i=new n.VariableStatement(u,r),this.setCommentsAndSpan(i,f,t),i},t.prototype.visitVariableDeclaration=function(t){var u=this.position,r,i;return this.moveTo(t,t.variableDeclarators),r=this.visitSeparatedSyntaxList(t.variableDeclarators),i=new n.VariableDeclaration(r),this.setSpan(i,u,t),i},t.prototype.visitVariableDeclarator=function(t){var r=this.position,u=this.visitToken(t.propertyName),f=this.visitTypeAnnotation(t.typeAnnotation),e=t.equalsValueClause?this.visitEqualsValueClause(t.equalsValueClause):null,i=new n.VariableDeclarator(u,f,e);return this.setSpan(i,r,t),i},t.prototype.visitEqualsValueClause=function(t){var u=this.position,f=this.convertTokenTrailingComments(t.equalsToken,this.position+t.equalsToken.leadingTriviaWidth()+t.equalsToken.width()),i,r;return this.movePast(t.equalsToken),i=t.value.accept(this),i.setPreComments(this.mergeComments(f,i.preComments())),r=new n.EqualsValueClause(i),this.setSpan(r,u,t),r},t.prototype.visitPrefixUnaryExpression=function(t){var u=this.position,r,i;return this.movePast(t.operatorToken),r=t.operand.accept(this),i=new n.PrefixUnaryExpression(t.kind(),r),this.setSpan(i,u,t),i},t.prototype.visitArrayLiteralExpression=function(t){var u=this.position,e=this.position+t.openBracketToken.leadingTriviaWidth(),r,f,i;return this.movePast(t.openBracketToken),r=this.visitSeparatedSyntaxList(t.expressions),f=this.position+t.closeBracketToken.leadingTriviaWidth(),this.movePast(t.closeBracketToken),i=new n.ArrayLiteralExpression(r),this.setSpan(i,u,t),i},t.prototype.visitOmittedExpression=function(t){var r=this.position,i=new n.OmittedExpression;return this.setSpan(i,r,t),i},t.prototype.visitParenthesizedExpression=function(t){var u=this.position,i=t.openParenToken,e=this.convertTokenTrailingComments(i,u+i.leadingTriviaWidth()+i.width()),f,r;return this.movePast(i),f=t.expression.accept(this),this.movePast(t.closeParenToken),r=new n.ParenthesizedExpression(e,f),this.setSpan(r,u,t),r},t.prototype.visitSimpleArrowFunctionExpression=function(t){var r=this.position,u=t.identifier.accept(this);this.movePast(t.equalsGreaterThanToken);var f=t.block?this.visitBlock(t.block):null,e=t.expression?t.expression.accept(this):null,i=new n.SimpleArrowFunctionExpression(u,f,e);return this.setSpan(i,r,t),i},t.prototype.visitParenthesizedArrowFunctionExpression=function(t){var r=this.position,u=this.visitCallSignature(t.callSignature);this.movePast(t.equalsGreaterThanToken);var f=t.block?this.visitBlock(t.block):null,e=t.expression?t.expression.accept(this):null,i=new n.ParenthesizedArrowFunctionExpression(u,f,e);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitType=function(n){return n?n.accept(this):null},t.prototype.visitTypeQuery=function(t){var u=this.position,r,i;return this.movePast(t.typeOfKeyword),r=t.name.accept(this),i=new n.TypeQuery(r),this.setSpan(i,u,t),i},t.prototype.visitQualifiedName=function(t){var u=this.position,f=this.visitType(t.left),r,i;return this.movePast(t.dotToken),r=this.visitIdentifier(t.right),i=new n.QualifiedName(f,r),this.setSpan(i,u,t),i},t.prototype.visitTypeArgumentList=function(t){var r,u,i;return t===null?null:(r=this.position,this.movePast(t.lessThanToken),u=this.visitSeparatedSyntaxList(t.typeArguments),this.movePast(t.greaterThanToken),i=new n.TypeArgumentList(u),this.setSpan(i,r,t),i)},t.prototype.visitConstructorType=function(t){var e=this.position,r,u,f,i;return this.movePast(t.newKeyword),r=this.visitTypeParameterList(t.typeParameterList),u=this.visitParameterList(t.parameterList),this.movePast(t.equalsGreaterThanToken),f=this.visitType(t.type),i=new n.ConstructorType(r,u,f),this.setSpan(i,e,t),i},t.prototype.visitFunctionType=function(t){var u=this.position,f=this.visitTypeParameterList(t.typeParameterList),e=this.visitParameterList(t.parameterList),r,i;return this.movePast(t.equalsGreaterThanToken),r=this.visitType(t.type),i=new n.FunctionType(f,e,r),this.setSpan(i,u,t),i},t.prototype.visitObjectType=function(t){var u=this.position,r,i;return this.movePast(t.openBraceToken),r=this.visitSeparatedSyntaxList(t.typeMembers),this.movePast(t.closeBraceToken),i=new n.ObjectType(r),this.setSpan(i,u,t),i},t.prototype.visitArrayType=function(t){var r=this.position,u=this.visitType(t.type),i;return this.movePast(t.openBracketToken),this.movePast(t.closeBracketToken),i=new n.ArrayType(u),this.setSpan(i,r,t),i},t.prototype.visitGenericType=function(t){var r=this.position,u=this.visitType(t.name),f=this.visitTypeArgumentList(t.typeArgumentList),i=new n.GenericType(u,f);return this.setSpan(i,r,t),i},t.prototype.visitTypeAnnotation=function(t){var r,u,i;return t?(r=this.position,this.movePast(t.colonToken),u=this.visitType(t.type),i=new n.TypeAnnotation(u),this.setSpan(i,r,t),i):null},t.prototype.visitBlock=function(t){var r,i;if(!t)return null;r=this.position;this.movePast(t.openBraceToken);var u=this.visitSyntaxList(t.statements),o=this.position,f=this.convertTokenLeadingComments(t.closeBraceToken,this.position),e=this.createTokenSpan(this.position,t.closeBraceToken);return this.movePast(t.closeBraceToken),i=new n.Block(u,f,e),this.setSpan(i,r,t),i},t.prototype.visitParameter=function(t){var f=this.position,e=this.createTokenSpan(this.position,t.dotDotDotToken),i,r;this.moveTo(t,t.identifier);i=this.visitIdentifier(t.identifier);r=this.createTokenSpan(this.position,t.questionToken);this.movePast(t.questionToken);var o=this.visitTypeAnnotation(t.typeAnnotation),s=t.equalsValueClause?t.equalsValueClause.accept(this):null,h=this.visitModifiers(t.modifiers),u=new n.Parameter(e,h,i,r,o,s);return this.setCommentsAndSpan(u,f,t),u},t.prototype.visitMemberAccessExpression=function(t){var u=this.position,f=t.expression.accept(this),r,i;return this.movePast(t.dotToken),r=this.visitIdentifier(t.name),i=new n.MemberAccessExpression(f,r),this.setSpan(i,u,t),i},t.prototype.visitPostfixUnaryExpression=function(t){var r=this.position,u=t.operand.accept(this),i;return this.movePast(t.operatorToken),i=new n.PostfixUnaryExpression(t.kind()===210?210:211,u),this.setSpan(i,r,t),i},t.prototype.visitElementAccessExpression=function(t){var u=this.position,f=t.expression.accept(this),r,i;return this.movePast(t.openBracketToken),r=t.argumentExpression.accept(this),this.movePast(t.closeBracketToken),i=new n.ElementAccessExpression(f,r),this.setSpan(i,u,t),i},t.prototype.visitInvocationExpression=function(t){var r=this.position,u=t.expression.accept(this),f=this.visitArgumentList(t.argumentList),i=new n.InvocationExpression(u,f);return this.setSpan(i,r,t),i},t.prototype.visitArgumentList=function(t){var i,e,r,u,o,f;return t===null?null:(i=this.position,e=this.visitTypeArgumentList(t.typeArgumentList),this.movePast(t.openParenToken),r=this.visitSeparatedSyntaxList(t.arguments),t.arguments.fullWidth()===0&&t.closeParenToken.fullWidth()===0&&(u=i+t.openParenToken.leadingTriviaWidth()+t.openParenToken.width(),this.setSpanExplicit(r,u,u+t.openParenToken.trailingTriviaWidth())),o=this.createTokenSpan(this.position,t.closeParenToken),this.movePast(t.closeParenToken),f=new n.ArgumentList(e,r,o),this.setSpan(f,i,t),f)},t.prototype.visitBinaryExpression=function(t){var u=this.position,f=t.left.accept(this),r,i;return this.movePast(t.operatorToken),r=t.right.accept(this),i=new n.BinaryExpression(t.kind(),f,r),this.setSpan(i,u,t),i},t.prototype.visitConditionalExpression=function(t){var f=this.position,e=t.condition.accept(this),r,u,i;return this.movePast(t.questionToken),r=t.whenTrue.accept(this),this.movePast(t.colonToken),u=t.whenFalse.accept(this),i=new n.ConditionalExpression(e,r,u),this.setSpan(i,f,t),i},t.prototype.visitConstructSignature=function(t){var u=this.position,r,i;return this.movePast(t.newKeyword),r=this.visitCallSignature(t.callSignature),i=new n.ConstructSignature(r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitMethodSignature=function(t){var u=this.position,f=this.visitToken(t.propertyName),e=this.createTokenSpan(this.position,t.questionToken),r,i;return this.movePast(t.questionToken),r=this.visitCallSignature(t.callSignature),i=new n.MethodSignature(f,e,r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitIndexSignature=function(t){var f=this.position,r,u,i;return this.movePast(t.openBracketToken),r=t.parameter.accept(this),this.movePast(t.closeBracketToken),u=this.visitTypeAnnotation(t.typeAnnotation),i=new n.IndexSignature(r,u),this.setCommentsAndSpan(i,f,t),i},t.prototype.visitPropertySignature=function(t){var u=this.position,f=this.visitToken(t.propertyName),e=this.createTokenSpan(this.position,t.questionToken),r,i;return this.movePast(t.questionToken),r=this.visitTypeAnnotation(t.typeAnnotation),i=new n.PropertySignature(f,e,r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitParameterList=function(t){var r,i,u,e,f;return t?(r=this.position,i=t.openParenToken,this.previousTokenTrailingComments=this.convertTokenTrailingComments(i,r+i.leadingTriviaWidth()+i.width()),u=null,t.parameters.childCount()===0&&(u=this.previousTokenTrailingComments,this.previousTokenTrailingComments=null),this.movePast(t.openParenToken),e=this.visitSeparatedSyntaxList(t.parameters),this.movePast(t.closeParenToken),f=new n.ParameterList(u,e),this.setSpan(f,r,t),f):null},t.prototype.visitCallSignature=function(t){var r=this.position,u=this.visitTypeParameterList(t.typeParameterList),f=this.visitParameterList(t.parameterList),e=this.visitTypeAnnotation(t.typeAnnotation),i=new n.CallSignature(u,f,e);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitTypeParameterList=function(t){var r,u,i;return t?(r=this.position,this.movePast(t.lessThanToken),u=this.visitSeparatedSyntaxList(t.typeParameters),this.movePast(t.greaterThanToken),i=new n.TypeParameterList(u),this.setSpan(i,r,t),i):null},t.prototype.visitTypeParameter=function(t){var r=this.position,u=this.visitIdentifier(t.identifier),f=t.constraint?t.constraint.accept(this):null,i=new n.TypeParameter(u,f);return this.setSpan(i,r,t),i},t.prototype.visitConstraint=function(t){var u=this.position,r,i;return this.movePast(t.extendsKeyword),r=this.visitType(t.type),i=new n.Constraint(r),this.setSpan(i,u,t),i},t.prototype.visitIfStatement=function(t){var u=this.position,i;this.moveTo(t,t.condition);i=t.condition.accept(this);this.movePast(t.closeParenToken);var f=t.statement.accept(this),e=t.elseClause?t.elseClause.accept(this):null,r=new n.IfStatement(i,f,e);return this.setCommentsAndSpan(r,u,t),r},t.prototype.visitElseClause=function(t){var u=this.position,r,i;return this.movePast(t.elseKeyword),r=t.statement.accept(this),i=new n.ElseClause(r),this.setSpan(i,u,t),i},t.prototype.visitExpressionStatement=function(t){var r=this.position,u=this.convertTokenLeadingComments(t.firstToken(),r),f=t.expression.accept(this),o=this.position,e=this.convertComments(t.semicolonToken.trailingTrivia(),this.position+t.semicolonToken.leadingTriviaWidth()+t.semicolonToken.width()),i;return this.movePast(t.semicolonToken),i=new n.ExpressionStatement(f),this.setSpan(i,r,t),i.setPreComments(u),i.setPostComments(e),i},t.prototype.visitConstructorDeclaration=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.callSignature),r=this.visitCallSignature(t.callSignature),u=t.block?t.block.accept(this):null,this.movePast(t.semicolonToken),i=new n.ConstructorDeclaration(r,u),this.setCommentsAndSpan(i,f,t),i},t.prototype.visitIndexMemberDeclaration=function(t){var u=this.position,r,i;return this.moveTo(t,t.indexSignature),r=t.indexSignature.accept(this),this.movePast(t.semicolonToken),i=new n.IndexMemberDeclaration(r),this.setSpan(i,u,t),i},t.prototype.visitMemberFunctionDeclaration=function(t){var r=this.position,i;this.moveTo(t,t.propertyName);var u=this.visitToken(t.propertyName),f=this.visitCallSignature(t.callSignature),e=t.block?this.visitBlock(t.block):null;return this.movePast(t.semicolonToken),i=new n.MemberFunctionDeclaration(this.visitModifiers(t.modifiers),u,f,e),this.setCommentsAndSpan(i,r,t),i},t.prototype.visitGetAccessor=function(t){var r=this.position;this.moveTo(t,t.propertyName);var u=this.visitToken(t.propertyName),f=this.visitParameterList(t.parameterList),e=this.visitTypeAnnotation(t.typeAnnotation),o=t.block?t.block.accept(this):null,i=new n.GetAccessor(this.visitModifiers(t.modifiers),u,f,e,o);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitSetAccessor=function(t){var r=this.position;this.moveTo(t,t.propertyName);var u=this.visitToken(t.propertyName),f=this.visitParameterList(t.parameterList),e=t.block?t.block.accept(this):null,i=new n.SetAccessor(this.visitModifiers(t.modifiers),u,f,e);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitMemberVariableDeclaration=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.variableDeclarator),r=t.variableDeclarator.accept(this),this.movePast(t.semicolonToken),u=this.visitModifiers(t.modifiers),i=new n.MemberVariableDeclaration(u,r),this.setCommentsAndSpan(i,f,t),i},t.prototype.visitThrowStatement=function(t){var u=this.position,r,i;return this.movePast(t.throwKeyword),r=t.expression.accept(this),this.movePast(t.semicolonToken),i=new n.ThrowStatement(r),this.setSpan(i,u,t),i},t.prototype.visitReturnStatement=function(t){var u=this.position,r,i;return this.movePast(t.returnKeyword),r=t.expression?t.expression.accept(this):null,this.movePast(t.semicolonToken),i=new n.ReturnStatement(r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitObjectCreationExpression=function(t){var r=this.position;this.movePast(t.newKeyword);var u=t.expression.accept(this),f=this.visitArgumentList(t.argumentList),i=new n.ObjectCreationExpression(u,f);return this.setSpan(i,r,t),i},t.prototype.visitSwitchStatement=function(t){var e=this.position,r,u,f,i;return this.movePast(t.switchKeyword),this.movePast(t.openParenToken),r=t.expression.accept(this),u=this.createTokenSpan(this.position,t.closeParenToken),this.movePast(t.closeParenToken),this.movePast(t.openBraceToken),f=this.visitSyntaxList(t.switchClauses),this.movePast(t.closeBraceToken),i=new n.SwitchStatement(r,u,f),this.setSpan(i,e,t),i},t.prototype.visitCaseSwitchClause=function(t){var f=this.position,r,u,i;return this.movePast(t.caseKeyword),r=t.expression.accept(this),this.movePast(t.colonToken),u=this.visitSyntaxList(t.statements),i=new n.CaseSwitchClause(r,u),this.setSpan(i,f,t),i},t.prototype.visitDefaultSwitchClause=function(t){var u=this.position,r,i;return this.movePast(t.defaultKeyword),this.movePast(t.colonToken),r=this.visitSyntaxList(t.statements),i=new n.DefaultSwitchClause(r),this.setSpan(i,u,t),i},t.prototype.visitBreakStatement=function(t){var u=this.position,r,i;return this.movePast(t.breakKeyword),r=t.identifier?t.identifier.accept(this):null,this.movePast(t.semicolonToken),i=new n.BreakStatement(r),this.setSpan(i,u,t),i},t.prototype.visitContinueStatement=function(t){var u=this.position,r,i;return this.movePast(t.continueKeyword),r=t.identifier?t.identifier.accept(this):null,this.movePast(t.semicolonToken),i=new n.ContinueStatement(r),this.setSpan(i,u,t),i},t.prototype.visitForStatement=function(t){var s=this.position,r,u,f,e,o,i;return this.movePast(t.forKeyword),this.movePast(t.openParenToken),r=t.variableDeclaration?t.variableDeclaration.accept(this):null,u=t.initializer?t.initializer.accept(this):null,this.movePast(t.firstSemicolonToken),f=t.condition?t.condition.accept(this):null,this.movePast(t.secondSemicolonToken),e=t.incrementor?t.incrementor.accept(this):null,this.movePast(t.closeParenToken),o=t.statement.accept(this),i=new n.ForStatement(r,u,f,e,o),this.setSpan(i,s,t),i},t.prototype.visitForInStatement=function(t){var o=this.position,r,u,f,e,i;return this.movePast(t.forKeyword),this.movePast(t.openParenToken),r=t.variableDeclaration?t.variableDeclaration.accept(this):null,u=t.left?t.left.accept(this):null,this.movePast(t.inKeyword),f=t.expression.accept(this),this.movePast(t.closeParenToken),e=t.statement.accept(this),i=new n.ForInStatement(r,u,f,e),this.setSpan(i,o,t),i},t.prototype.visitWhileStatement=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.condition),r=t.condition.accept(this),this.movePast(t.closeParenToken),u=t.statement.accept(this),i=new n.WhileStatement(r,u),this.setSpan(i,f,t),i},t.prototype.visitWithStatement=function(t){var f=this.position,r,u,i;return this.moveTo(t,t.condition),r=t.condition.accept(this),this.movePast(t.closeParenToken),u=t.statement.accept(this),i=new n.WithStatement(r,u),this.setSpan(i,f,t),i},t.prototype.visitCastExpression=function(t){var f=this.position,r,u,i;return this.movePast(t.lessThanToken),r=this.visitType(t.type),this.movePast(t.greaterThanToken),u=t.expression.accept(this),i=new n.CastExpression(r,u),this.setSpan(i,f,t),i},t.prototype.visitObjectLiteralExpression=function(t){var u=this.position,e=this.position+t.openBraceToken.leadingTriviaWidth(),r,f,i;return this.movePast(t.openBraceToken),r=this.visitSeparatedSyntaxList(t.propertyAssignments),f=this.position+t.closeBraceToken.leadingTriviaWidth(),this.movePast(t.closeBraceToken),i=new n.ObjectLiteralExpression(r),this.setCommentsAndSpan(i,u,t),i},t.prototype.visitSimplePropertyAssignment=function(t){var u=this.position,f=this.convertTokenLeadingComments(t.firstToken(),u),e=this.convertNodeTrailingComments(t,t.lastToken(),u),o=t.propertyName.accept(this),s=this.convertTokenTrailingComments(t.colonToken,this.position+t.colonToken.leadingTriviaWidth()+t.colonToken.width()),r,i;return this.movePast(t.colonToken),r=t.expression.accept(this),r.setPreComments(this.mergeComments(s,r.preComments())),i=new n.SimplePropertyAssignment(o,r),this.setSpan(i,u,t),i.setPreComments(f),i.setPostComments(e),i},t.prototype.visitFunctionPropertyAssignment=function(t){var r=this.position,u=t.propertyName.accept(this),f=this.visitCallSignature(t.callSignature),e=this.visitBlock(t.block),i=new n.FunctionPropertyAssignment(u,f,e);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitFunctionExpression=function(t){var r=this.position;this.movePast(t.functionKeyword);var u=t.identifier===null?null:this.visitIdentifier(t.identifier),f=this.visitCallSignature(t.callSignature),e=t.block?t.block.accept(this):null,i=new n.FunctionExpression(u,f,e);return this.setCommentsAndSpan(i,r,t),i},t.prototype.visitEmptyStatement=function(t){var r=this.position,i;return this.movePast(t.semicolonToken),i=new n.EmptyStatement,this.setSpan(i,r,t),i},t.prototype.visitTryStatement=function(t){var e=this.position,f,i,r,u;return this.movePast(t.tryKeyword),f=t.block.accept(this),i=null,t.catchClause!==null&&(i=t.catchClause.accept(this)),r=null,t.finallyClause!==null&&(r=t.finallyClause.accept(this)),u=new n.TryStatement(f,i,r),this.setSpan(u,e,t),u},t.prototype.visitCatchClause=function(t){var e=this.position,r,u,f,i;return this.movePast(t.catchKeyword),this.movePast(t.openParenToken),r=this.visitIdentifier(t.identifier),u=this.visitTypeAnnotation(t.typeAnnotation),this.movePast(t.closeParenToken),f=t.block.accept(this),i=new n.CatchClause(r,u,f),this.setSpan(i,e,t),i},t.prototype.visitFinallyClause=function(t){var u=this.position,r,i;return this.movePast(t.finallyKeyword),r=t.block.accept(this),i=new n.FinallyClause(r),this.setSpan(i,u,t),i},t.prototype.visitLabeledStatement=function(t){var u=this.position,f=this.visitIdentifier(t.identifier),r,i;return this.movePast(t.colonToken),r=t.statement.accept(this),i=new n.LabeledStatement(f,r),this.setSpan(i,u,t),i},t.prototype.visitDoStatement=function(t){var e=this.position,r,u,f,i;return this.movePast(t.doKeyword),r=t.statement.accept(this),u=this.createTokenSpan(this.position,t.whileKeyword),this.movePast(t.whileKeyword),this.movePast(t.openParenToken),f=t.condition.accept(this),this.movePast(t.closeParenToken),this.movePast(t.semicolonToken),i=new n.DoStatement(r,u,f),this.setSpan(i,e,t),i},t.prototype.visitTypeOfExpression=function(t){var u=this.position,r,i;return this.movePast(t.typeOfKeyword),r=t.expression.accept(this),i=new n.TypeOfExpression(r),this.setSpan(i,u,t),i},t.prototype.visitDeleteExpression=function(t){var u=this.position,r,i;return this.movePast(t.deleteKeyword),r=t.expression.accept(this),i=new n.DeleteExpression(r),this.setSpan(i,u,t),i},t.prototype.visitVoidExpression=function(t){var u=this.position,r,i;return this.movePast(t.voidKeyword),r=t.expression.accept(this),i=new n.VoidExpression(r),this.setSpan(i,u,t),i},t.prototype.visitDebuggerStatement=function(t){var r=this.position,i;return this.movePast(t.debuggerKeyword),this.movePast(t.semicolonToken),i=new n.DebuggerStatement,this.setSpan(i,r,t),i},t}(),u;n.SyntaxTreeToAstVisitor=i;u=function(i){function u(){i.apply(this,arguments)}return __extends(u,i),u.prototype.applyDelta=function(i,u){if(u!==0){var f=function(n){t(n,u);r(n.preComments(),u);r(n.postComments(),u);switch(n.kind()){case 146:t(n.closeBraceToken,u);break;case 226:t(n.closeParenToken,u);break;case 130:t(n.endingToken,u);break;case 131:t(n.closeBraceToken,u);break;case 161:t(n.whileKeyword,u);break;case 151:t(n.closeParenToken,u)}};n.getAstWalkerFactory().simpleWalk(i,f)}},u.prototype.setSpanExplicit=function(n,t,r){if(n._start!==-1){var u=t-n._start;this.applyDelta(n,u);n._end=r}else i.prototype.setSpanExplicit.call(this,n,t,r)},u.prototype.getAndMovePastAST=function(n){var t,i;return this.previousTokenTrailingComments!==null?null:(t=n._ast,!t)?null:(i=this.position,this.movePast(n),this.setSpan(t,i,n),t)},u.prototype.setAST=function(n,t){n._ast=t},u.prototype.visitSyntaxList=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSyntaxList.call(this,n),n.childCount()>0&&this.setAST(n,t)),t},u.prototype.visitSeparatedSyntaxList=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSeparatedSyntaxList.call(this,n),n.childCount()>0&&this.setAST(n,t)),t},u.prototype.visitToken=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitToken.call(this,n),this.setAST(n,t)),t},u.prototype.visitClassDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitClassDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitInterfaceDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitInterfaceDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitHeritageClause=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitHeritageClause.call(this,n),this.setAST(n,t)),t},u.prototype.visitModuleDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitModuleDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitFunctionDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitFunctionDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitImportDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitImportDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitExportAssignment=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitExportAssignment.call(this,n),this.setAST(n,t)),t},u.prototype.visitPrefixUnaryExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitPrefixUnaryExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitArrayLiteralExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitArrayLiteralExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitOmittedExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitOmittedExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitParenthesizedExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitParenthesizedExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitSimpleArrowFunctionExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSimpleArrowFunctionExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitParenthesizedArrowFunctionExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitParenthesizedArrowFunctionExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitQualifiedName=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitQualifiedName.call(this,n),this.setAST(n,t)),t},u.prototype.visitConstructorType=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitConstructorType.call(this,n),this.setAST(n,t)),t},u.prototype.visitFunctionType=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitFunctionType.call(this,n),this.setAST(n,t)),t},u.prototype.visitObjectType=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitObjectType.call(this,n),this.setAST(n,t)),t},u.prototype.visitArrayType=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitArrayType.call(this,n),this.setAST(n,t)),t},u.prototype.visitGenericType=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitGenericType.call(this,n),this.setAST(n,t)),t},u.prototype.visitBlock=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitBlock.call(this,n),this.setAST(n,t)),t},u.prototype.visitParameter=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitParameter.call(this,n),this.setAST(n,t)),t},u.prototype.visitMemberAccessExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitMemberAccessExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitPostfixUnaryExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitPostfixUnaryExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitElementAccessExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitElementAccessExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitInvocationExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitInvocationExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitBinaryExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitBinaryExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitConditionalExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitConditionalExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitConstructSignature=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitConstructSignature.call(this,n),this.setAST(n,t)),t},u.prototype.visitMethodSignature=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitMethodSignature.call(this,n),this.setAST(n,t)),t},u.prototype.visitIndexSignature=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitIndexSignature.call(this,n),this.setAST(n,t)),t},u.prototype.visitPropertySignature=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitPropertySignature.call(this,n),this.setAST(n,t)),t},u.prototype.visitCallSignature=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitCallSignature.call(this,n),this.setAST(n,t)),t},u.prototype.visitTypeParameter=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitTypeParameter.call(this,n),this.setAST(n,t)),t},u.prototype.visitIfStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitIfStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitExpressionStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitExpressionStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitConstructorDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitConstructorDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitMemberFunctionDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitMemberFunctionDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitGetAccessor=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitGetAccessor.call(this,n),this.setAST(n,t)),t},u.prototype.visitSetAccessor=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSetAccessor.call(this,n),this.setAST(n,t)),t},u.prototype.visitMemberVariableDeclaration=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitMemberVariableDeclaration.call(this,n),this.setAST(n,t)),t},u.prototype.visitThrowStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitThrowStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitReturnStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitReturnStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitObjectCreationExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitObjectCreationExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitSwitchStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSwitchStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitCaseSwitchClause=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitCaseSwitchClause.call(this,n),this.setAST(n,t)),t},u.prototype.visitDefaultSwitchClause=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitDefaultSwitchClause.call(this,n),this.setAST(n,t)),t},u.prototype.visitBreakStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitBreakStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitContinueStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitContinueStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitForStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitForStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitForInStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitForInStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitWhileStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitWhileStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitWithStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitWithStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitCastExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitCastExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitObjectLiteralExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitObjectLiteralExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitSimplePropertyAssignment=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitSimplePropertyAssignment.call(this,n),this.setAST(n,t)),t},u.prototype.visitFunctionPropertyAssignment=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitFunctionPropertyAssignment.call(this,n),this.setAST(n,t)),t},u.prototype.visitFunctionExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitFunctionExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitEmptyStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitEmptyStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitTryStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitTryStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitCatchClause=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitCatchClause.call(this,n),this.setAST(n,t)),t},u.prototype.visitLabeledStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitLabeledStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitDoStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitDoStatement.call(this,n),this.setAST(n,t)),t},u.prototype.visitTypeOfExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitTypeOfExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitDeleteExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitDeleteExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitVoidExpression=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitVoidExpression.call(this,n),this.setAST(n,t)),t},u.prototype.visitDebuggerStatement=function(n){var t=this.getAndMovePastAST(n);return t||(t=i.prototype.visitDebuggerStatement.call(this,n),this.setAST(n,t)),t},u}(i)}(TypeScript||(TypeScript={})),function(n){function u(n,t){return i(n,t,!1)}function f(n,t){return i(n,t,!0)}function tf(n,t){return e(n,t,!1)}function rf(n,t){return e(n,t,!0)}function i(n,t,i){return n===t?!0:n!==null&&t!==null&&n.kind()===t.kind()&&n.structuralEquals(t,i)}function e(n,t,i){return n===t?!0:n!==null&&t!==null&&n.structuralEquals(t,i)}function o(t,i,r){return n.ArrayUtilities.sequenceEquals(t,i,r?f:u)}function s(t,i,r){return n.ArrayUtilities.sequenceEquals(t,i,r?rf:tf)}var nf=function(){function n(n,t){this._start=n;this._end=t}return n.prototype.start=function(){return this._start},n.prototype.end=function(){return this._end},n}(),r,t,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,ir,rr,ur,fr,er,or,sr,hr,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,tu,iu,ru,uu,fu,eu,ou,su,hu,cu,lu,au,vu,yu,pu,wu,bu,ku,du,gu;n.ASTSpan=nf;r=0;n.structuralEqualsNotIncludingPosition=u;n.structuralEqualsIncludingPosition=f;t=function(){function t(){this.parent=null;this._start=-1;this._end=-1;this._trailingTriviaWidth=0;this._astID=r++;this._preComments=null;this._postComments=null}return t.prototype.syntaxID=function(){return this._astID},t.prototype.start=function(){return this._start},t.prototype.end=function(){return this._end},t.prototype.trailingTriviaWidth=function(){return this._trailingTriviaWidth},t.prototype.fileName=function(){return this.parent.fileName()},t.prototype.kind=function(){throw n.Errors.abstract();},t.prototype.preComments=function(){return this._preComments},t.prototype.postComments=function(){return this._postComments},t.prototype.setPreComments=function(n){n&&n.length?this._preComments=n:this._preComments&&(this._preComments=null)},t.prototype.setPostComments=function(n){n&&n.length?this._postComments=n:this._postComments&&(this._postComments=null)},t.prototype.width=function(){return this.end()-this.start()},t.prototype.structuralEquals=function(n,t){return t&&(this.start()!==n.start()||this.end()!==n.end())?!1:s(this.preComments(),n.preComments(),t)&&s(this.postComments(),n.postComments(),t)},t.prototype.isExpression=function(){return!1},t}();n.AST=t;h=function(t){function i(n,i){t.call(this);this._fileName=n;this.members=i;for(var r=0,u=i.length;r<u;r++)i[r].parent=this}return __extends(i,t),i.prototype.childCount=function(){return this.members.length},i.prototype.childAt=function(n){return this.members[n]},i.prototype.fileName=function(){return this._fileName},i.prototype.kind=function(){return 1},i.prototype.firstOrDefault=function(t){return n.ArrayUtilities.firstOrDefault(this.members,t)},i.prototype.lastOrDefault=function(t){return n.ArrayUtilities.lastOrDefault(this.members,t)},i.prototype.any=function(t){return n.ArrayUtilities.any(this.members,t)},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)&&o(this.members,n.members,i)},i}(t);n.ISyntaxList2=h;c=function(n){function t(t,i,r){n.call(this);this._fileName=t;this.members=i;this._separatorCount=r;for(var u=0,f=i.length;u<f;u++)i[u].parent=this}return __extends(t,n),t.prototype.nonSeparatorCount=function(){return this.members.length},t.prototype.separatorCount=function(){return this._separatorCount},t.prototype.nonSeparatorAt=function(n){return this.members[n]},t.prototype.nonSeparatorIndexOf=function(n){for(var t=0,i=this.nonSeparatorCount();t<i;t++)if(this.nonSeparatorAt(t)===n)return t;return-1},t.prototype.fileName=function(){return this._fileName},t.prototype.kind=function(){return 2},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&o(this.members,t.members,i)},t}(t);n.ISeparatedSyntaxList2=c;l=function(n){function t(t,i,r){n.call(this);this.moduleElements=t;this.endOfFileTokenLeadingComments=i;this._fileName=r;t&&(t.parent=this)}return __extends(t,n),t.prototype.fileName=function(){return this._fileName},t.prototype.kind=function(){return 120},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.moduleElements,t.moduleElements,r)},t}(t);n.SourceUnit=l;a=function(t){function i(n){t.call(this);this._text=n;this._valueText=null}return __extends(i,t),i.prototype.text=function(){return this._text},i.prototype.valueText=function(){if(!this._valueText){var t=this._text;this._valueText=t==="__proto__"?"#__proto__":n.Syntax.massageEscapes(t)}return this._valueText},i.prototype.kind=function(){return 11},i.prototype.structuralEquals=function(n,i){return t.prototype.structuralEquals.call(this,n,i)&&this._text===n._text},i.prototype.isExpression=function(){return!0},i}(t);n.Identifier=a;v=function(n){function t(t,i,r){n.call(this);this._nodeType=t;this._text=i;this._valueText=r}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return this._nodeType},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t.prototype.isExpression=function(){return!0},t}(t);n.LiteralExpression=v;y=function(n){function t(t,i){n.call(this);this._text=t;this._valueText=i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return 35},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t.prototype.isExpression=function(){return!0},t}(t);n.ThisExpression=y;p=function(n){function t(t,i){n.call(this);this._text=t;this._valueText=i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return 50},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t.prototype.isExpression=function(){return!0},t}(t);n.SuperExpression=p;w=function(n){function t(t,i,r){n.call(this);this._value=t;this._text=i;this._valueText=r}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.value=function(){return this._value},t.prototype.kind=function(){return 13},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&(this._value===t._value||isNaN(this._value)&&isNaN(t._value))&&this._text===t._text},t.prototype.isExpression=function(){return!0},t}(t);n.NumericLiteral=w;b=function(n){function t(t,i){n.call(this);this._text=t;this._valueText=i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return 12},t.prototype.isExpression=function(){return!0},t}(t);n.RegularExpressionLiteral=b;k=function(n){function t(t,i){n.call(this);this._text=t;this._valueText=i;this._valueText=i==="__proto__"?"#__proto__":i}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return 14},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)&&this._text===t._text},t.prototype.isExpression=function(){return!0},t}(t);n.StringLiteral=k;d=function(n){function t(t){n.call(this);this.type=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 244},t}(t);n.TypeAnnotation=d;g=function(n){function t(t,i,r){n.call(this);this._nodeType=t;this._text=i;this._valueText=r}return __extends(t,n),t.prototype.text=function(){return this._text},t.prototype.valueText=function(){return this._valueText},t.prototype.kind=function(){return this._nodeType},t}(t);n.BuiltInType=g;nt=function(n){function t(t){n.call(this);this.stringLiteral=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 245},t}(t);n.ExternalModuleReference=nt;tt=function(n){function t(t){n.call(this);this.moduleName=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 246},t}(t);n.ModuleNameModuleReference=tt;it=function(n){function t(t,i,r){n.call(this);this.modifiers=t;this.identifier=i;this.moduleReference=r;i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 133},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.moduleReference,t.moduleReference,r)},t}(t);n.ImportDeclaration=it;rt=function(n){function t(t){n.call(this);this.identifier=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 134},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)},t}(t);n.ExportAssignment=rt;ut=function(n){function t(t){n.call(this);this.typeParameters=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 229},t}(t);n.TypeParameterList=ut;ft=function(n){function t(t,i,r,u,f,e){n.call(this);this.modifiers=t;this.identifier=i;this.typeParameterList=r;this.heritageClauses=u;this.classElements=f;this.closeBraceToken=e;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this);f&&(f.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 131},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.classElements,t.classElements,r)&&i(this.typeParameterList,t.typeParameterList,r)&&i(this.heritageClauses,t.heritageClauses,r)},t}(t);n.ClassDeclaration=ft;et=function(n){function t(t,i,r,u,f){n.call(this);this.modifiers=t;this.identifier=i;this.typeParameterList=r;this.heritageClauses=u;this.body=f;i&&(i.parent=this);r&&(r.parent=this);f&&(f.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 128},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.body,t.body,r)&&i(this.typeParameterList,t.typeParameterList,r)&&i(this.heritageClauses,t.heritageClauses,r)},t}(t);n.InterfaceDeclaration=et;ot=function(n){function t(t,i){n.call(this);this._nodeType=t;this.typeNames=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return this._nodeType},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.typeNames,t.typeNames,r)},t}(t);n.HeritageClause=ot;st=function(n){function t(t,i,r,u,f){n.call(this);this.modifiers=t;this.name=i;this.stringLiteral=r;this.moduleElements=u;this.endingToken=f;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 130},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.name,t.name,r)&&i(this.moduleElements,t.moduleElements,r)},t}(t);n.ModuleDeclaration=st;ht=function(n){function t(t,i,r,u){n.call(this);this.modifiers=t;this.identifier=i;this.callSignature=r;this.block=u;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 129},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.block,t.block,r)&&i(this.callSignature,t.callSignature,r)},t}(t);n.FunctionDeclaration=ht;ct=function(n){function t(t,i){n.call(this);this.modifiers=t;this.declaration=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 148},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.declaration,t.declaration,r)},t}(t);n.VariableStatement=ct;lt=function(n){function t(t){n.call(this);this.declarators=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 224},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.declarators,t.declarators,r)},t}(t);n.VariableDeclaration=lt;at=function(n){function t(t,i,r){n.call(this);this.propertyName=t;this.typeAnnotation=i;this.equalsValueClause=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 225},t}(t);n.VariableDeclarator=at;vt=function(n){function t(t){n.call(this);this.value=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 232},t}(t);n.EqualsValueClause=vt;yt=function(n){function t(t,i){n.call(this);this._nodeType=t;this.operand=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return this._nodeType},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.operand,t.operand,r)},t.prototype.isExpression=function(){return!0},t}(t);n.PrefixUnaryExpression=yt;pt=function(n){function t(t){n.call(this);this.expressions=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 214},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expressions,t.expressions,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ArrayLiteralExpression=pt;wt=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.kind=function(){return 223},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t.prototype.isExpression=function(){return!0},t}(t);n.OmittedExpression=wt;bt=function(n){function t(t,i){n.call(this);this.openParenTrailingComments=t;this.expression=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 217},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ParenthesizedExpression=bt;kt=function(n){function t(t,i,r){n.call(this);this.identifier=t;this.block=i;this.expression=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 219},t.prototype.isExpression=function(){return!0},t}(t);n.SimpleArrowFunctionExpression=kt;dt=function(n){function t(t,i,r){n.call(this);this.callSignature=t;this.block=i;this.expression=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 218},t.prototype.isExpression=function(){return!0},t}(t);n.ParenthesizedArrowFunctionExpression=dt;gt=function(n){function t(t,i){n.call(this);this.left=t;this.right=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 121},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.left,t.left,r)&&i(this.right,t.right,r)},t}(t);n.QualifiedName=gt;ni=function(n){function t(t,i){n.call(this);this.openParenTrailingComments=t;this.parameters=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 227},t}(t);n.ParameterList=ni;ti=function(n){function t(t,i,r){n.call(this);this.typeParameterList=t;this.parameterList=i;this.type=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 125},t}(t);n.ConstructorType=ti;ii=function(n){function t(t,i,r){n.call(this);this.typeParameterList=t;this.parameterList=i;this.type=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 123},t}(t);n.FunctionType=ii;ri=function(n){function t(t){n.call(this);this.typeMembers=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 122},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.typeMembers,t.typeMembers,r)},t}(t);n.ObjectType=ri;ui=function(n){function t(t){n.call(this);this.type=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 124},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.type,t.type,r)},t}(t);n.ArrayType=ui;fi=function(n){function t(t){n.call(this);this.typeArguments=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 228},t}(t);n.TypeArgumentList=fi;ei=function(n){function t(t,i){n.call(this);this.name=t;this.typeArgumentList=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 126},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.name,t.name,r)&&i(this.typeArgumentList,t.typeArgumentList,r)},t}(t);n.GenericType=ei;oi=function(n){function t(t){n.call(this);this.name=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 127},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.name,t.name,r)},t}(t);n.TypeQuery=oi;si=function(n){function t(t,i,r){n.call(this);this.statements=t;this.closeBraceLeadingComments=i;this.closeBraceToken=r;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 146},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.statements,t.statements,r)},t}(t);n.Block=si;hi=function(n){function t(t,i,r,u,f,e){n.call(this);this.dotDotDotToken=t;this.modifiers=i;this.identifier=r;this.questionToken=u;this.typeAnnotation=f;this.equalsValueClause=e;r&&(r.parent=this);f&&(f.parent=this);e&&(e.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 242},t}(t);n.Parameter=hi;ci=function(n){function t(t,i){n.call(this);this.expression=t;this.name=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 212},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)&&i(this.name,t.name,r)},t.prototype.isExpression=function(){return!0},t}(t);n.MemberAccessExpression=ci;li=function(n){function t(t,i){n.call(this);this._nodeType=t;this.operand=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return this._nodeType},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.operand,t.operand,r)},t.prototype.isExpression=function(){return!0},t}(t);n.PostfixUnaryExpression=li;ai=function(n){function t(t,i){n.call(this);this.expression=t;this.argumentExpression=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 221},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)&&i(this.argumentExpression,t.argumentExpression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ElementAccessExpression=ai;vi=function(n){function t(t,i){n.call(this);this.expression=t;this.argumentList=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 213},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)&&i(this.argumentList,t.argumentList,r)},t.prototype.isExpression=function(){return!0},t}(t);n.InvocationExpression=vi;yi=function(n){function t(t,i,r){n.call(this);this.typeArgumentList=t;this.closeParenToken=r;this.arguments=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 226},t}(t);n.ArgumentList=yi;pi=function(n){function t(t,i,r){n.call(this);this._nodeType=t;this.left=i;this.right=r;i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return this._nodeType},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.left,t.left,r)&&i(this.right,t.right,r)},t.prototype.isExpression=function(){return!0},t}(t);n.BinaryExpression=pi;wi=function(n){function t(t,i,r){n.call(this);this.condition=t;this.whenTrue=i;this.whenFalse=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 186},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.condition,t.condition,r)&&i(this.whenTrue,t.whenTrue,r)&&i(this.whenFalse,t.whenFalse,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ConditionalExpression=wi;bi=function(n){function t(t){n.call(this);this.callSignature=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 143},t}(t);n.ConstructSignature=bi;ki=function(n){function t(t,i,r){n.call(this);this.propertyName=t;this.questionToken=i;this.callSignature=r;t&&(t.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 145},t}(t);n.MethodSignature=ki;di=function(n){function t(t,i){n.call(this);this.parameter=t;this.typeAnnotation=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 144},t}(t);n.IndexSignature=di;gi=function(n){function t(t,i,r){n.call(this);this.propertyName=t;this.questionToken=i;this.typeAnnotation=r;t&&(t.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 141},t}(t);n.PropertySignature=gi;nr=function(n){function t(t,i,r){n.call(this);this.typeParameterList=t;this.parameterList=i;this.typeAnnotation=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 142},t}(t);n.CallSignature=nr;tr=function(n){function t(t,i){n.call(this);this.identifier=t;this.constraint=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 238},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.constraint,t.constraint,r)},t}(t);n.TypeParameter=tr;ir=function(n){function t(t){n.call(this);this.type=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 239},t}(t);n.Constraint=ir;rr=function(n){function t(t){n.call(this);this.statement=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 235},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.statement,t.statement,r)},t}(t);n.ElseClause=rr;ur=function(n){function t(t,i,r){n.call(this);this.condition=t;this.statement=i;this.elseClause=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 147},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.condition,t.condition,r)&&i(this.statement,t.statement,r)&&i(this.elseClause,t.elseClause,r)},t}(t);n.IfStatement=ur;fr=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 149},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t}(t);n.ExpressionStatement=fr;er=function(n){function t(t,i){n.call(this);this.callSignature=t;this.block=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 137},t}(t);n.ConstructorDeclaration=er;or=function(n){function t(t,i,r,u){n.call(this);this.modifiers=t;this.propertyName=i;this.callSignature=r;this.block=u;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 135},t}(t);n.MemberFunctionDeclaration=or;sr=function(n){function t(t,i,r,u,f){n.call(this);this.modifiers=t;this.propertyName=i;this.parameterList=r;this.typeAnnotation=u;this.block=f;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this);f&&(f.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 139},t}(t);n.GetAccessor=sr;hr=function(n){function t(t,i,r,u){n.call(this);this.modifiers=t;this.propertyName=i;this.parameterList=r;this.block=u;i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 140},t}(t);n.SetAccessor=hr;cr=function(n){function t(t,i){n.call(this);this.modifiers=t;this.variableDeclarator=i;i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 136},t}(t);n.MemberVariableDeclaration=cr;lr=function(n){function t(t){n.call(this);this.indexSignature=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 138},t}(t);n.IndexMemberDeclaration=lr;ar=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 157},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t}(t);n.ThrowStatement=ar;vr=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 150},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t}(t);n.ReturnStatement=vr;yr=function(n){function t(t,i){n.call(this);this.expression=t;this.argumentList=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 216},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)&&i(this.argumentList,t.argumentList,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ObjectCreationExpression=yr;pr=function(n){function t(t,i,r){n.call(this);this.expression=t;this.closeParenToken=i;this.switchClauses=r;t&&(t.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 151},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.switchClauses,t.switchClauses,r)&&i(this.expression,t.expression,r)},t}(t);n.SwitchStatement=pr;wr=function(n){function t(t,i){n.call(this);this.expression=t;this.statements=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 233},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)&&i(this.statements,t.statements,r)},t}(t);n.CaseSwitchClause=wr;br=function(n){function t(t){n.call(this);this.statements=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 234},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.statements,t.statements,r)},t}(t);n.DefaultSwitchClause=br;kr=function(n){function t(t){n.call(this);this.identifier=t}return __extends(t,n),t.prototype.kind=function(){return 152},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(t);n.BreakStatement=kr;dr=function(n){function t(t){n.call(this);this.identifier=t}return __extends(t,n),t.prototype.kind=function(){return 153},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(t);n.ContinueStatement=dr;gr=function(n){function t(t,i,r,u,f){n.call(this);this.variableDeclaration=t;this.initializer=i;this.condition=r;this.incrementor=u;this.statement=f;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this);f&&(f.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 154},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.initializer,t.initializer,r)&&i(this.condition,t.condition,r)&&i(this.incrementor,t.incrementor,r)&&i(this.statement,t.statement,r)},t}(t);n.ForStatement=gr;nu=function(n){function t(t,i,r,u){n.call(this);this.variableDeclaration=t;this.left=i;this.expression=r;this.statement=u;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this);u&&(u.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 155},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.variableDeclaration,t.variableDeclaration,r)&&i(this.expression,t.expression,r)&&i(this.statement,t.statement,r)},t}(t);n.ForInStatement=nu;tu=function(n){function t(t,i){n.call(this);this.condition=t;this.statement=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 158},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.condition,t.condition,r)&&i(this.statement,t.statement,r)},t}(t);n.WhileStatement=tu;iu=function(n){function t(t,i){n.call(this);this.condition=t;this.statement=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 163},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.condition,t.condition,r)&&i(this.statement,t.statement,r)},t}(t);n.WithStatement=iu;ru=function(n){function t(t,i,r){n.call(this);this.modifiers=t;this.identifier=i;this.enumElements=r;i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 132},t}(t);n.EnumDeclaration=ru;uu=function(n){function t(t,i){n.call(this);this.propertyName=t;this.equalsValueClause=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 243},t}(t);n.EnumElement=uu;fu=function(n){function t(t,i){n.call(this);this.type=t;this.expression=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 220},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.type,t.type,r)&&i(this.expression,t.expression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.CastExpression=fu;eu=function(n){function t(t){n.call(this);this.propertyAssignments=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 215},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.propertyAssignments,t.propertyAssignments,r)},t.prototype.isExpression=function(){return!0},t}(t);n.ObjectLiteralExpression=eu;ou=function(n){function t(t,i){n.call(this);this.propertyName=t;this.expression=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 240},t}(t);n.SimplePropertyAssignment=ou;su=function(n){function t(t,i,r){n.call(this);this.propertyName=t;this.callSignature=i;this.block=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 241},t}(t);n.FunctionPropertyAssignment=su;hu=function(n){function t(t,i,r){n.call(this);this.identifier=t;this.callSignature=i;this.block=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 222},t.prototype.isExpression=function(){return!0},t}(t);n.FunctionExpression=hu;cu=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.kind=function(){return 156},t.prototype.structuralEquals=function(t,i){return n.prototype.structuralEquals.call(this,t,i)},t}(t);n.EmptyStatement=cu;lu=function(n){function t(t,i,r){n.call(this);this.block=t;this.catchClause=i;this.finallyClause=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 159},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.block,t.block,r)&&i(this.catchClause,t.catchClause,r)&&i(this.finallyClause,t.finallyClause,r)},t}(t);n.TryStatement=lu;au=function(n){function t(t,i,r){n.call(this);this.identifier=t;this.typeAnnotation=i;this.block=r;t&&(t.parent=this);i&&(i.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 236},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.typeAnnotation,t.typeAnnotation,r)&&i(this.block,t.block,r)},t}(t);n.CatchClause=au;vu=function(n){function t(t){n.call(this);this.block=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 237},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.block,t.block,r)},t}(t);n.FinallyClause=vu;yu=function(n){function t(t,i){n.call(this);this.identifier=t;this.statement=i;t&&(t.parent=this);i&&(i.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 160},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.identifier,t.identifier,r)&&i(this.statement,t.statement,r)},t}(t);n.LabeledStatement=yu;pu=function(n){function t(t,i,r){n.call(this);this.statement=t;this.whileKeyword=i;this.condition=r;t&&(t.parent=this);r&&(r.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 161},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.statement,t.statement,r)&&i(this.condition,t.condition,r)},t}(t);n.DoStatement=pu;wu=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 171},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.TypeOfExpression=wu;bu=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 170},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.DeleteExpression=bu;ku=function(n){function t(t){n.call(this);this.expression=t;t&&(t.parent=this)}return __extends(t,n),t.prototype.kind=function(){return 172},t.prototype.structuralEquals=function(t,r){return n.prototype.structuralEquals.call(this,t,r)&&i(this.expression,t.expression,r)},t.prototype.isExpression=function(){return!0},t}(t);n.VoidExpression=ku;du=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t.prototype.kind=function(){return 162},t}(t);n.DebuggerStatement=du;gu=function(){function n(n,t,i,r){this._trivia=n;this.endsLine=t;this._start=i;this._end=r}return n.prototype.start=function(){return this._start},n.prototype.end=function(){return this._end},n.prototype.fullText=function(){return this._trivia.fullText()},n.prototype.kind=function(){return this._trivia.kind()},n.prototype.structuralEquals=function(n,t){return t&&(this.start()!==n.start()||this.end()!==n.end())?!1:this._trivia.fullText()===n._trivia.fullText()&&this.endsLine===n.endsLine},n}();n.Comment=gu}(TypeScript||(TypeScript={}))